ppd.prototype.h_=W(1381,function(){var a=uS(this.F,void 0);a&&this.C.interceptingAcceptSuggestion(a,void 0,u(function(b){var c=this.Ea;0!=b&&(c.C[void 0]||qc(c.C,void 0,[]),0>c.C[void 0].indexOf(b)&&c.C[void 0].push(b))},this))});dia.prototype.aea=W(6,function(){throw Dca("setValue not supported").C;});rda.prototype.H=W(1,function(){throw Dca("remove").C;});Uda.prototype.H=W(0,function(){this.J.splice(this.F,1);this.F--});function Tqh(a,b){a.xS=b.xS;return a}
function Uqh(a,b,c){for(a=a.qj();a.C();){var d=a.D();if(wb(b,d))return c&&a.H(),!0}return!1}function Vqh(a,b,c){return a.IX(b)?a.kva(b,c):null}function Wqh(a,b){var c=b.ls();b=b.qs();var d=a.get(c);return!wb(b,d)||null==d&&!a.IX(c)?!1:!0}function Xqh(a){return a?a.qs():null}function Yqh(a){if(a.F.C())return!0;if(!Ta(a.F,a.R))return!1;a.F=a.L.C.qj();return a.F.C()}function Zqh(a,b){return(a=a.C.get(b))?a:[]}
function $qh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(wb(a,d.ls()))return d}return null}function arh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}function brh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function crh(a,b){for(b=b.qj();b.C();){var c=b.D().qs();if(wb(a,c))return!0}return!1}function drh(){this.J=this.F=0}t(drh,Sa);drh.prototype.C=function(){return this.F<this.L.size()};
drh.prototype.D=function(){this.C();return this.L.foa(this.J=this.F++)};drh.prototype.H=function(){this.L.Pga(this.J);this.F=this.J;this.J=-1};function erh(){drh.call(this)}t(erh,drh);function frh(){this.J=!1}t(frh,Sa);frh.prototype.C=g("J");frh.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=Yqh(this);return a};frh.prototype.H=function(){this.O.H();this.O=null;this.J=Yqh(this)};function grh(){}t(grh,Sa);grh.prototype.C=function(){return this.F.C()};grh.prototype.D=function(){return this.F.D().qs()};
grh.prototype.H=function(){this.F.H()};function hrh(){}t(hrh,Sa);hrh.prototype.C=function(){return this.F.C()};hrh.prototype.D=function(){return this.F.D().ls()};hrh.prototype.H=function(){this.F.H()};function irh(){this.F=this.J=0}t(irh,Sa);irh.prototype.C=function(){return this.J<this.L.C.length};irh.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};irh.prototype.H=function(){this.L.Pga(this.J=this.F);this.F=-1};function jrh(a){var b;null==a?b=0:b=Ab(a)|0;return b}
function krh(a,b){for(var c=jrh(b),d=Zqh(a,c),e=0;e<d.length;e++){var f=d[e];if(wb(b,f.ls()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.qs()}return null}function lrh(){this.F=0}t(lrh,Sa);lrh.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};lrh.prototype.D=function(){return this.L=this.J[this.F++]};lrh.prototype.H=function(){krh(this.O,this.L.ls());0!=this.F&&this.F--};
function mrh(){this.D=0}t(mrh,Sa);mrh.prototype.qj=function(){var a=new lrh;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};function nrh(a){var b=0;for(a=a.qj();a.C();){var c=a.D();b+=Sba(c);b|=0}return b}function orh(){}t(orh,Sa);orh.prototype.equals=function(a){return null!=a&&a.rZ?wb(this.ls(),a.ls())&&wb(this.qs(),a.qs()):!1};orh.prototype.xk=function(){return Sba(this.ls())^Sba(this.qs())};orh.prototype.toString=function(){return Ua(this.ls())+"="+Ua(this.qs())};
orh.prototype.rZ=!0;function prh(){this.F=0}t(prh,orh);prh.prototype.ls=function(){return this.C.value[0]};prh.prototype.qs=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};prh.prototype.aea=function(a){return brh(this.D,this.C.value[0],a)};function qrh(){}t(qrh,Sa);qrh.prototype.C=function(){return!this.J.done};qrh.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new prh,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};
qrh.prototype.H=function(){arh(this.F,this.O.value[0])};function rrh(){this.D=this.F=0}t(rrh,Sa);rrh.prototype.qj=function(){var a=new qrh;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function srh(a){var b=new mrh;b.C=new Map;b.F=a;a.C=b;b=new rrh;b.C=new Map;b.H=a;a.D=b}function trh(a,b){return Ta(b,a)?"(this Map)":Ua(b)}function urh(){}t(urh,Sa);urh.prototype.toString=function(){return this.C?Ub(this.D)?this.C.toString():Ua(this.C.toString())+Ua(this.D):this.J};
function vrh(a,b){var c=new urh;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ua(c.F)+Ua(c.D);return c}function wrh(a,b){a.C?Db(a.C,a.H):a.C=$ba(a.F);a=a.C;a.Fp=Ua(a.Fp)+Ua(b)}function xrh(){}t(xrh,Sa);m=xrh.prototype;m.ls=g("D");m.qs=g("C");m.aea=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.rZ?wb(this.D,a.ls())&&wb(this.C,a.qs()):!1};m.xk=function(){return Sba(this.D)^Sba(this.C)};m.toString=function(){return Ua(this.D)+"="+Ua(this.C)};m.rZ=!0;
function yrh(){}t(yrh,xrh);function zrh(a,b){var c=new yrh;c.D=a;c.C=b;return c}function Arh(a,b,c){var d=jrh(b),e=Zqh(a,d);if(0==e.length)a.C.set(d,e);else if(d=$qh(b,e))return d.aea(c);e[e.length]=zrh(b,c);a.D++;return null}function Brh(a,b,c){for(a=a.xG().qj();a.C();){var d=a.D();if(wb(b,d.ls()))return c&&(d=zrh(d.ls(),d.qs()),a.H()),d}return null}function Crh(){}t(Crh,Sa);m=Crh.prototype;m.add=function(){throw Dca("Add not supported on this collection").C;};
m.clear=function(){for(var a=this.qj();a.C();)a.D(),a.H()};m.contains=function(a){return Uqh(this,a,!1)};m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return Uqh(this,a,!0)};m.Lc=function(a){for(var b=!1,c=this.qj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Mf=function(){return this.CQa(Array(this.size()))};m.CQa=function(a){var b=this.size();a.length<b&&(a=Tqh(Array(b),a));for(var c=a,d=this.qj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};
m.toString=function(){for(var a=vrh("[","]"),b=this.qj();b.C();){var c=b.D();wrh(a,Ta(c,this)?"(this Collection)":Ua(c))}return a.toString()};function Drh(){}t(Drh,Crh);Drh.prototype.clear=function(){this.C.clear()};Drh.prototype.contains=function(a){return this.C.Yt(a)};Drh.prototype.qj=function(){var a=this.C.xG().qj(),b=new grh;b.F=a;return b};Drh.prototype.size=function(){return this.C.size()};function Erh(){}t(Erh,Crh);
Erh.prototype.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.CAa)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.qj();a.C();){var b=a.D();if(!this.contains(b)){a=!1;break a}}a=!0}return a};Erh.prototype.xk=function(){return nrh(this)};Erh.prototype.Lc=function(a){var b=this.size();if(b<a.size())for(var c=this.qj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.qj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};Erh.prototype.CAa=!0;function Frh(){}t(Frh,Erh);m=Frh.prototype;
m.clear=function(){this.C.clear()};m.contains=function(a){return null!=a&&a.rZ?Wqh(this.C,a):!1};m.qj=function(){var a=new frh;a.L=this.C;a.R=a.L.D.qj();a.F=a.R;a.J=Yqh(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.ls()),!0):!1};m.size=function(){return this.C.size()};function Grh(){}t(Grh,Erh);m=Grh.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.IX(a)};m.qj=function(){var a=this.C.xG().qj(),b=new hrh;b.F=a;return b};
m.remove=function(a){return this.C.IX(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function Hrh(){}t(Hrh,Sa);m=Hrh.prototype;m.clear=function(){this.xG().clear()};m.IX=function(a){return!!Brh(this,a,!1)};m.Yt=function(a){for(var b=this.xG().qj();b.C();){var c=b.D().qs();if(wb(a,c))return!0}return!1};m.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.O0a||this.size()!=a.size())return!1;for(a=a.xG().qj();a.C();){var b=a.D();if(!Wqh(this,b))return!1}return!0};
m.get=function(a){return Xqh(Brh(this,a,!1))};m.xk=function(){return nrh(this.xG())};m.isEmpty=function(){return 0==this.size()};m.mLb=function(){var a=new Grh;a.C=this;return a};m.kva=function(){throw Dca("Put not supported on this map").C;};m.remove=function(a){return Xqh(Brh(this,a,!0))};m.size=function(){return this.xG().size()};m.toString=function(){for(var a=vrh("{","}"),b=this.xG().qj();b.C();){var c=b.D();c=Ua(trh(this,c.ls()))+"="+Ua(trh(this,c.qs()));wrh(a,c)}return a.toString()};
m.values=function(){var a=new Drh;a.C=this;return a};m.replace=function(a,b){return Vqh(this,a,b)};m.O0a=!0;function Irh(){}t(Irh,Hrh);m=Irh.prototype;m.clear=function(){srh(this)};m.IX=function(a){var b;Wb(a)?b=null==a?!!$qh(null,Zqh(this.C,jrh(null))):void 0!==this.D.C.get(a):b=!!$qh(a,Zqh(this.C,jrh(a)));return b};m.Yt=function(a){return crh(a,this.D)||crh(a,this.C)};m.xG=function(){var a=new Frh;a.C=this;return a};
m.get=function(a){var b;Wb(a)?b=null==a?Xqh($qh(null,Zqh(this.C,jrh(null)))):this.D.C.get(a):b=Xqh($qh(a,Zqh(this.C,jrh(a))));return b};m.kva=function(a,b){var c;Wb(a)?c=null==a?Arh(this.C,null,b):brh(this.D,a,b):c=Arh(this.C,a,b);return c};m.remove=function(a){var b;Wb(a)?b=null==a?krh(this.C,null):arh(this.D,a):b=krh(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return Vqh(this,a,b)};function Jrh(){}t(Jrh,Irh);
Jrh.prototype.replace=function(a,b){return Vqh(this,a,b)};function Krh(){}t(Krh,Crh);m=Krh.prototype;m.add=function(a){this.kCa(this.size(),a);return!0};m.kCa=function(){throw Dca("Add not supported on this list").C;};m.clear=function(){this.BQa(0,this.size())};m.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.BAa||this.size()!=a.size())return!1;a=a.qj();for(var b=this.qj();b.C();){var c=b.D(),d=a.D();if(!wb(c,d))return!1}return!0};
m.xk=function(){for(var a=1,b=this.qj();b.C();){var c=b.D();a=31*a+Sba(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(wb(a,this.foa(b)))return b;return-1};m.qj=function(){var a=new drh;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(wb(a,this.foa(b)))return b;return-1};m.Pga=function(){throw Dca("Remove not supported on this list").C;};
m.BQa=function(a,b){var c=new erh;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.BAa=!0;function Lrh(){}t(Lrh,Krh);m=Lrh.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.kCa=function(a,b){this.C.splice(a,0,b)};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.foa=function(a){return this.C[a]};m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(wb(a,this.C[b])){a=b;break a}a=-1}return a};
m.qj=function(){var a=new irh;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(wb(a,this.C[b])){a=b;break a}a=-1}return a};m.Pga=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Pga(a);return!0};m.size=function(){return this.C.length};m.Mf=function(){var a=this.C;return Tqh(a.slice(0,this.C.length),a)};
m.CQa=function(a){var b=this.C.length;a.length<b&&(a=Tqh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.BQa=function(a,b){this.C.splice(a,b-a)};m.BAa=!0;function Mrh(a){var b=new Epa;return bj(b,6,a)}function Nrh(){var a=dw.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function Orh(a){a.bYa=!1;a.aYa=!1}function Prh(a,b){return!(!a.C[b]&&!a.J[b])}var Qrh={};function L6(a){J(this,a,0,1,null,null)}v(L6,I);
L6.prototype.ea=function(){var a=new F;Rrh(this,a);return Y(a)};function Rrh(a,b){Pi(a,b,Qrh,L6.prototype.getExtension)}function Srh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&Ei(b,2,c);c=K(a,3);null!=c&&Ei(b,3,c)}function Trh(a){J(this,a,0,-1,null,null)}v(Trh,I);m=Trh.prototype;m.ea=function(){var a=new F;Srh(this,a);return Y(a)};m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return M(this,2,a)};
m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return M(this,3,a)};function Urh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)}function Vrh(a){J(this,a,0,-1,null,null)}v(Vrh,I);Vrh.prototype.ea=function(){var a=new F;Urh(this,a);return Y(a)};
function Wrh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,Trh,3);null!=c&&b.C(3,c,Srh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,Vrh,7);null!=c&&b.C(7,c,Urh);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}function Xrh(a){J(this,a,0,-1,null,null)}v(Xrh,I);m=Xrh.prototype;m.ea=function(){var a=new F;Wrh(this,a);return Y(a)};
m.getName=function(){return K(this,1)};m.jd=function(a){return M(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Uc=function(a){return M(this,9,a)};var Yrh=[8],Zrh=[5];function $rh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function M6(a){J(this,a,0,-1,null,null)}v(M6,I);m=M6.prototype;m.ea=function(){var a=new F;$rh(this,a);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return M(this,1,a)};
m.clearType=function(){return M(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return M(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function ash(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,L6,3);null!=c&&b.C(3,c,Rrh);c=K(a,4);null!=c&&b.D(4,c)}function bsh(a){J(this,a,0,-1,null,null)}v(bsh,I);m=bsh.prototype;m.ea=function(){var a=new F;ash(this,a);return Y(a)};
m.getType=function(){return K(this,1)};m.setType=function(a){return M(this,1,a)};m.clearType=function(){return M(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return M(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function csh(a,b){a=N(a,fZ,1);null!=a&&b.C(1,a,I4e)}function dsh(a){J(this,a,0,-1,null,null)}v(dsh,I);dsh.prototype.ea=function(){var a=new F;csh(this,a);return Y(a)};
function N6(a){return N(a,bsh,9)}function esh(a,b){var c=N(a,fZ,1);null!=c&&b.C(1,c,I4e);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Fi(b,3,c);c=K(a,4);null!=c&&Fi(b,4,c)}function fsh(a){J(this,a,0,-1,null,null)}v(fsh,I);fsh.prototype.ea=function(){var a=new F;esh(this,a);return Y(a)};fsh.prototype.D=function(a){M(this,2,a)};
function gsh(a,b){var c=K(a,1);null!=c&&Fi(b,1,c);c=K(a,2);null!=c&&Fi(b,2,c);c=K(a,3);null!=c&&Fi(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=aj(a,fsh,5);0<c.length&&Li(b,5,c,esh)}function hsh(a){J(this,a,0,-1,Zrh,null)}v(hsh,I);hsh.prototype.ea=function(){var a=new F;gsh(this,a);return Y(a)};function ish(a){J(this,a,0,-1,Yrh,null)}v(ish,I);m=ish.prototype;m.ea=function(){var a=new F;jsh(this,a);return Y(a)};
function jsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,$rh);c=N(a,M6,4);null!=c&&b.C(4,c,$rh);c=N(a,fZ,5);null!=c&&b.C(5,c,I4e);c=N(a,Xrh,14);null!=c&&b.C(14,c,Wrh);c=K(a,6);null!=c&&Fi(b,6,c);c=K(a,7);null!=c&&Fi(b,7,c);c=O6(a);0<c.length&&Li(b,8,c,jsh);c=N6(a);null!=c&&b.C(9,c,ash);c=N(a,$V,21);null!=c&&b.C(21,c,RCe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Fi(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,dsh,18);null!=c&&b.C(18,c,csh);c=N(a,hsh,19);null!=c&&b.C(19,c,gsh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Uc=function(a){return M(this,1,a)};m.getContent=function(){return N(this,M6,3)};m.setContent=function(a){return bj(this,3,a)};m.Rr=function(){return null!=K(this,3)};function O6(a){return aj(a,ish,8)}
m.getOrigin=function(){return K(this,17)};function P6(a){return N(a,ish,2)}function Q6(a){J(this,a,0,-1,null,null)}v(Q6,I);function ksh(a){J(this,a,0,-1,null,null)}v(ksh,I);m=Q6.prototype;m.ea=function(){var a=new F;lsh(this,a);return Y(a)};
function lsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=P6(a);null!=c&&b.C(2,c,jsh);c=K(a,3);null!=c&&Fi(b,3,c);c=K(a,4);null!=c&&Fi(b,4,c);c=a.jp();null!=c&&b.C(5,c,msh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};m.Uc=function(a){return M(this,1,a)};m.jp=function(){return N(this,ksh,5)};m.It=function(a){return bj(this,5,a)};m.EB=function(a){return M(this,6,a)};m=ksh.prototype;
m.ea=function(){var a=new F;msh(this,a);return Y(a)};function msh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,$rh);c=N(a,Q6,3);null!=c&&b.C(3,c,lsh)}m.getId=function(){return K(this,1)};m.Uc=function(a){return M(this,1,a)};m.getTitle=function(){return N(this,M6,2)};m.setTitle=function(a){return bj(this,2,a)};function nsh(a){J(this,a,"gs",-1,null,null)}v(nsh,I);nsh.prototype.ea=function(){var a=new F;var b=this.Mo();null!=b&&a.C(1,b,J4e);return Y(a)};nsh.De="gs";
nsh.prototype.Mo=function(){return N(this,gZ,1)};var osh=[1,2],psh=[1];function qsh(a){J(this,a,"sr",-1,psh,null)}v(qsh,I);qsh.prototype.ea=function(){var a=new F;var b=aj(this,Q6,1);0<b.length&&Li(a,1,b,lsh);b=K(this,2);null!=b&&Fi(a,2,b);b=K(this,3);null!=b&&Fi(a,3,b);return Y(a)};qsh.De="sr";function rsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function ssh(a){J(this,a,0,-1,null,null)}v(ssh,I);ssh.prototype.ea=function(){var a=new F;rsh(this,a);return Y(a)};
ssh.prototype.getId=function(){return K(this,1)};ssh.prototype.Uc=function(a){return M(this,1,a)};function tsh(a){J(this,a,"u",-1,osh,null)}v(tsh,I);tsh.prototype.ea=function(){var a=new F;var b=aj(this,Q6,1);0<b.length&&Li(a,1,b,lsh);b=aj(this,ssh,2);0<b.length&&Li(a,2,b,rsh);return Y(a)};tsh.De="u";
function ush(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new ucf(c,a.H):vcf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||tcf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Vbf(d.D.metadata,d.F):acf),e=b(d.C));if(e)return d.getUrl()}}return null}function vsh(a){null===a.F&&(a.F=ush(a.C,function(b){return!!b&&!Wbf(b)}),null===a.F&&(a.F=Mcf(a,ush)));return a.F}function wsh(){}t(wsh,Erh);m=wsh.prototype;m.add=function(a){return null==this.C.kva(a,this)};m.clear=function(){this.C.clear()};
m.contains=function(a){return this.C.IX(a)};m.isEmpty=function(){return this.C.isEmpty()};m.qj=function(){return this.C.mLb().qj()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.CAa=!0;function xsh(a,b,c,d){HA.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(xsh,HA);xsh.prototype.Wv=function(){this.wz=[this.C?D5a(this.element):this.element.offsetLeft,this.element.offsetTop];xsh.Ta.Wv.call(this)};function ysh(a,b){A.call(this);this.wg=a;this.C=b}
v(ysh,A);m=ysh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.sf=function(a,b,c){this.wg.D.sf(this.C+":"+a,u(this.xFa,this,b),c)};m.QL=function(a){this.D=u(this.xFa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.wg.D.send(this.C+":"+a,b)};m.xFa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ja=function(){this.wg=this.wg.C[this.C]=null};
function zsh(a){A.call(this);this.D=a;this.C={};this.D.QL(u(this.F,this))}v(zsh,A);function Ash(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new ysh(a,b);return a.C[b]=c}zsh.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};
zsh.prototype.Ja=function(){Gd(this.C,function(a){Hf(a)});Hf(this.D);delete this.C;delete this.D};var Bsh={R0a:"all",Jtc:"important",NONE:"none"};function Csh(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function Dsh(a){var b=new Dpa,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;M(b,1,a.D+c+e+f+a.V);M(b,2,a.D);M(b,14,a.V);M(b,9,a.F);M(b,6,a.O);M(b,3,c);M(b,10,a.H);M(b,12,a.C);M(b,13,a.L);M(b,7,d);M(b,4,e);M(b,11,a.J);M(b,8,a.R);M(b,5,f);return new iyd(b)}var Esh=[1];
function Fsh(a){J(this,a,0,-1,null,null)}v(Fsh,I);Fsh.prototype.ea=function(){var a=new F;var b=this.Mo();null!=b&&a.C(1,b,J4e);return Y(a)};Fsh.prototype.Mo=function(){return N(this,gZ,1)};function Gsh(a){J(this,a,0,-1,null,null)}v(Gsh,I);Gsh.prototype.ea=function(){var a=new F;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};Gsh.prototype.Vf=function(){return K(this,1)};
Gsh.prototype.getFileName=function(){return K(this,2)};function Hsh(a){J(this,a,0,-1,Esh,null)}v(Hsh,I);Hsh.prototype.ea=function(){var a=new F;var b=aj(this,Q6,1);0<b.length&&Li(a,1,b,lsh);b=K(this,2);null!=b&&Fi(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Fi(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};
var Ish=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,Jsh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function Ksh(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Be(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(Ish,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,k=""):(l||(e="http://"),(k=h.match(Jsh))&&!Bd(h,"(")?(h=k[1],k=k[2]):k="");b.href=e+h;d.push(De("a",b,h));d.push(k);return""});return Fe(d)}
var Lsh={Kvc:"docos-insert-discussion",zgc:"docos-cancel-insert-discussion",gDc:"docos-new-doco",hDc:"docos-new-reply",Mjc:"docos-delete-doco",Ojc:"docos-delete-reply",unc:"docos-edit-doco",wnc:"docos-edit-reply",vnc:"docos-edit-draft",Ffc:"docos-before-highlight-doco",htc:"docos-highlight-doco",bLc:"docos-speak-doco",xIc:"docos-resolve-doco",wfc:"docos-back-to-document",odc:"docos-accept-suggestion",oIc:"docos-reject-suggestion",aic:"docos-convert-doco",Njc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",CPc:"docos-vote-doco",DPc:"docos-vote-reply",JCc:"mouse-hover-doco-view"};function Msh(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function R6(){return new Msh("")}function S6(a){return new Nsh(a)}function Nsh(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function T6(a,b){a.L=b;return a}function Osh(a){a.J=!0;return a}function Psh(a){a.F=!1;return a}function Qsh(a,b){a.D=b;return a}
function Rsh(a){a.H=!0;return a}function U6(a){return new Msh(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function V6(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}pa("docos.Event",V6,void 0);pa("docos.api.Event",V6,void 0);V6.prototype.getType=g("type");V6.prototype.getType=V6.prototype.getType;V6.prototype.getAnchors=g("anchors");V6.prototype.getAnchors=V6.prototype.getAnchors;
V6.prototype.getDocos=g("docos");V6.prototype.getDocos=V6.prototype.getDocos;V6.prototype.isNonAnchored=g("nonAnchored");V6.prototype.isNonAnchored=V6.prototype.isNonAnchored;V6.prototype.isUserInitiated=g("userInitiated");V6.prototype.isUserInitiated=V6.prototype.isUserInitiated;V6.prototype.getArgs=g("args");V6.prototype.getArgs=V6.prototype.getArgs;V6.prototype.canPreventDefault=ea(!1);V6.prototype.canPreventDefault=V6.prototype.canPreventDefault;
V6.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};V6.prototype.preventDefault=V6.prototype.preventDefault;V6.prototype.getAnchorIds=g("D");V6.prototype.getAnchorIds=V6.prototype.getAnchorIds;V6.prototype.getDocoHandles=g("F");V6.prototype.getDocoHandles=V6.prototype.getDocoHandles;function Ssh(a){return new W6(a)}V6.builder=Ssh;function W6(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}pa("docos.api.Event.Builder",W6,void 0);
W6.prototype.addAnchorId=function(a){this.C.push(a);return this};W6.prototype.addAnchorId=W6.prototype.addAnchorId;W6.prototype.setAnchorIds=function(a){this.C=a;return this};W6.prototype.setAnchorIds=W6.prototype.setAnchorIds;W6.prototype.addDocoHandle=function(a){this.D.push(a);return this};W6.prototype.addDocoHandle=W6.prototype.addDocoHandle;W6.prototype.setDocoHandles=function(a){this.D=a;return this};W6.prototype.setDocoHandles=W6.prototype.setDocoHandles;
W6.prototype.setNonAnchored=function(a){this.F=a;return this};W6.prototype.setNonAnchored=W6.prototype.setNonAnchored;W6.prototype.setUserInitiated=function(a){this.H=a;return this};W6.prototype.setUserInitiated=W6.prototype.setUserInitiated;W6.prototype.setApiEventArgs=function(a){this.args=a;return this};W6.prototype.setApiEventArgs=W6.prototype.setApiEventArgs;W6.prototype.isEmpty=function(){return $c(this.C)&&$c(this.D)&&!this.args};W6.prototype.isEmpty=W6.prototype.isEmpty;
W6.prototype.build=function(){return new V6(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new k5)};W6.prototype.build=W6.prototype.build;function Tsh(a,b){V6.call(this,a,[],[],!1,!1,new k5);this.interval=this.interval=b}v(Tsh,V6);pa("docos.api.TimedEvent",Tsh,void 0);function Ush(){this.C={};this.D={}}function Vsh(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Gn(c,"end",function(){delete f[b];delete h[b];e()})}function Wsh(a,b){(a=a.C[b])&&a.stop()}Ush.prototype.getDuration=function(a){return this.D[a]};function Xsh(a){var b=a.Jh,c=a.wA,d=a.Be;a=a.rQ;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function Ysh(a){var b=a.size,c=a.Be;a=a.c$a;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(a?' src="'+T(xw(a))+'"':"")+"/>")};function Zsh(a,b,c){b=c||b;c=a.aDa;var d=a.Jj,e=a.En;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(Ysh({size:32,Be:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={Jj:d,En:e};d=e.Jj;e=e.En;var f='aria-label="'+
vw("Mark as done and hide discussion.");b=""+R(Ez({Zc:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:uw(f+'"'),style:e?4:0,content:tw(""+R(Xsh({Jh:"docos-icon-accept-checkmark-black",wA:"docos-icon-accept-checkmark-size",Be:"docos-icon-checkmark jfk-button-img"}))),XM:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function $sh(a,b){var c;a?c=a&&ath(X6(a),b)?"docos-assignee-you":"docos-assignee-other":c="docos-assignee-none";return c}function bth(a,b){a=X6(a);return cth(a,b)}function dth(a,b,c){a=cth(a,b,!0);return c?(new lA("Reassign to {user}")).format({user:a}):(new lA("Assign to {user}")).format({user:a})}function cth(a,b,c){return ath(a,b)?c?"you":"You":Y6(a)}function ath(a,b){return null!=a.getEmail()&&null!=b.ih().getEmail()&&a.getEmail()==b.ih().getEmail()};function Z6(a,b){Q.call(this,b);this.Rc=eth(a);this.C=$6(a)}v(Z6,Q);Z6.prototype.Ed=!1;Z6.prototype.Ia=function(){Z6.Ta.Ia.call(this);this.Ed&&(this.Bd(),fth(this))};function gth(a){a.Ed||(a.Ed=!0,a.getHandler().listen(a.C,"r",a.Bd),a.Bd(),fth(a))}Z6.prototype.Bd=function(){if(this.Gb()){var a=this.getElement(),b=this.C.H;Sw(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));Sw(this.getElement(),"docos-offline",this.C.V)}};
function a7(a,b,c,d){a.Rc&&(d=a.Rc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function fth(a){a.Gb()&&a7(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.Vg)}Z6.prototype.Vg=function(a){a.stopPropagation()};function hth(a,b){An.call(this,a);this.zj=b}v(hth,An);function ith(a,b,c,d,e,f,h){hth.call(this,a,b);this.Em=c||null;this.ap=d||0;this.C=e||null;this.D_=h}v(ith,hth);function b7(a){hth.call(this,"rd",a)}v(b7,hth);function jth(a,b,c){this.C=a;this.D=b;this.F=c};function kth(a,b,c,d){Z6.call(this,a,b);this.H=a;this.Uc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new Fz(null);this.va(this.R)}t(kth,Z6);m=kth.prototype;
m.Ba=function(){var a=this.qa(),b=c7(lth(this)),c=Kx(Zsh,{aDa:bth(b,this.C),Jj:this.C.Jj(),En:"legacy"!=this.C.F});this.ib(c);this.L=a.bb("docos-icon-checkmark",c);this.O=a.bb("docos-icon-img-container",c);this.J=a.bb("docos-mark-done-button",c);this.R.Va(this.J);a7(this,this.R,"action",this.kNb);this.F=a.bb("docos-assigneeview-assignee-text",c);this.D=dW(a,"IMG","docos-assigneeview-avatar",c);a=X6(b);mth(d7(this.H),this.D,a.C,Y6(a));nth(this,b)};
m.Ia=function(){Z6.prototype.Ia.call(this);var a=c7(lth(this));a=X6(a);oth(this,a)};
function nth(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black",f=a.C;!b||!ath(X6(b),f)||"black"==Xy()&&rf||"material_yellow"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=$sh(b,a.C);Rw(a.getElement(),["docos-assignee-you","docos-assignee-other"]);Rw(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);Rw(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
Rw(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);Ow(a.L,d);Ow(a.O,e);Ow(a.J,c);Ow(a.getElement(),b)}function lth(a){return e7(a.H).ud(a.getId())}m.update=function(){var a=c7(lth(this)),b=bth(a,this.C)||"";wo(this.F,b);f7(d7(this.H),this.D);b=X6(a);mth(d7(this.H),this.D,b.C,Y6(b));nth(this,a);oth(this,b)};function oth(a,b){if(a.F){var c=b.getName();c&&a.C.D.C(a.F,c)}a.D&&(b=b.getName())&&a.C.D.C(a.D,b)}
m.kNb=function(a){a&&a.stopPropagation();(a=lth(this))&&!a.isResolved()&&(a=g7(this.H),this.dispatchEvent("br"),a.tf("docos-resolve-doco").wb(new jth(this.getId(),!0,pth(this.V))),this.dispatchEvent("ar"))};m.vd=function(){Z6.prototype.vd.call(this)};m.Ja=function(){Z6.prototype.Ja.call(this);delete this.F;delete this.D;delete this.L};function qth(a,b){void 0!==b.getId()&&a.Uc(b.getId());var c=P6(b);if(void 0!==c){var d=P6(a);c?d?rth(d,c):bj(a,2,c):bj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),M(a,3,c));void 0!==K(b,4)&&(c=K(b,4),M(a,4,c));d=b.jp();if(void 0!==d)if(c=a.jp(),d)if(c){void 0!==d.getId()&&c.Uc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?sth(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,Q6,3);void 0!==d&&(e=N(c,Q6,3),d?e?qth(e,d):bj(c,3,d):bj(c,3,void 0))}else a.It(d);else a.It(void 0);void 0!==Ri(b,
6)&&a.EB(Ri(b,6));void 0!==Ri(b,7)&&(c=Ri(b,7),M(a,7,c));void 0!==K(b,8)&&(c=K(b,8),M(a,8,c));void 0!==Ri(b,9)&&(b=Ri(b,9),M(a,9,b))}
function rth(a,b){void 0!==b.getId()&&a.Uc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);M(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?sth(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,M6,4);void 0!==c&&(d=N(a,M6,4),c?d?sth(d,c):bj(a,4,c):bj(a,4,void 0));c=N(b,fZ,5);void 0!==c&&(c?bj(a,5,c):bj(a,5,void 0));d=N(b,Xrh,14);if(void 0!==d)if(c=N(a,Xrh,14),d)if(c){void 0!==d.getName()&&c.jd(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();M(c,2,e)}e=N(d,Trh,3);if(void 0!==e){var f=
N(c,Trh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();M(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else bj(c,3,e);else bj(c,3,void 0)}void 0!==Ri(d,4)&&(e=Ri(d,4),M(c,4,e));void 0!==K(d,5)&&(e=K(d,5),M(c,5,e));void 0!==K(d,6)&&(e=K(d,6),M(c,6,e));f=N(d,Vrh,7);void 0!==f&&(e=N(c,Vrh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),M(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),M(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),M(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
M(e,4,f))):bj(c,7,f):bj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),M(c,8,e));void 0!==K(d,11)&&(e=K(d,11),M(c,11,e));void 0!==K(d,10)&&(e=K(d,10),M(c,10,e));void 0!==K(d,12)&&(d=K(d,12),M(c,12,d))}else bj(a,14,d);else bj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),M(a,6,c));void 0!==K(b,7)&&(c=K(b,7),M(a,7,c));O6(b)&&(c=hd(O6(a),O6(b)),dj(a,8,c));d=N6(b);void 0!==d&&(c=N6(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,L6,3)&&(e=N(d,L6,3),
bj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),M(c,4,d))):bj(a,9,d):bj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),M(a,10,c));void 0!==K(b,11)&&(c=K(b,11),M(a,11,c));void 0!==Ri(b,12)&&(c=Ri(b,12),M(a,12,c));void 0!==K(b,13)&&(c=K(b,13),M(a,13,c));void 0!==Ri(b,15)&&(c=Ri(b,15),M(a,15,c));void 0!==K(b,16)&&(c=K(b,16),M(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),M(a,17,c));void 0!==K(b,20)&&(c=K(b,20),M(a,20,c));c=N(b,dsh,18);void 0!==c&&(e=N(a,dsh,18),c?e?(d=N(c,fZ,1),void 0!==d&&(c=N(e,fZ,1),d?c?(void 0!==
d.getName()&&c.jd(d.getName()),void 0!==K(d,2)&&(e=K(d,2),M(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),M(c,3,e)),void 0!==d.getId()&&c.Uc(d.getId()),void 0!==Ri(d,5)&&(e=Ri(d,5),M(c,5,e)),void 0!==Ri(d,6)&&(e=Ri(d,6),M(c,6,e)),void 0!==Ri(d,7)&&(e=Ri(d,7),M(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),M(c,8,d))):bj(e,1,d):bj(e,1,void 0))):bj(a,18,c):bj(a,18,void 0));d=N(b,hsh,19);void 0!==d&&(c=N(a,hsh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),M(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),M(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),M(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),M(c,4,e)),void 0!==aj(d,fsh,5)&&(d=aj(d,fsh,5),dj(c,5,d))):bj(a,19,d):bj(a,19,void 0));void 0!==N(b,$V,21)?(c=N(b,$V,21),bj(a,21,c)):void 0!==b.getContent()&&bj(a,21,void 0);void 0!==Ri(b,22)&&(c=Ri(b,22),M(a,22,c));void 0!==Ri(b,23)&&(b=Ri(b,23),M(a,23,b))}function sth(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function tth(a,b,c,d,e,f,h){this.J=a;this.D=b&&!zd(b)?Ad(b.toLowerCase()):null;this.L=c;this.C=d;this.cd=e;this.H=f;this.F=h}tth.prototype.getName=g("J");tth.prototype.getEmail=g("D");tth.prototype.getId=g("cd");function Y6(a){a=zd(af(a.getName()))?a.getEmail():a.getName();return af(a)}function uth(a){var b=vth(wth(xth(yth((new h7).jd(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Uc(a.getId()||""),!!Ri(a,5));a=!!Ri(a,7);b.D=a;return zth(b)}
function Ath(a){var b=(new fZ).Uc(a.getId()||""),c=a.getName();null!==c&&b.jd(c);c=a.L;null!==c&&M(b,2,c);c=a.C;null!==c&&M(b,3,c);c=a.getEmail();null!==c&&M(b,8,c);M(b,5,!!a.H);return b}function h7(){}h7.prototype.jd=function(a){this.H=a;return this};function yth(a,b){a.C=b&&!zd(b)?Ad(b.toLowerCase()):null;return a}function xth(a,b){a.L=b;return a}function wth(a,b){a.J=b;return a}h7.prototype.Uc=function(a){this.cd=a;return this};function vth(a,b){a.F=b;return a}
function zth(a){return new tth(a.H,a.C,a.L,a.J,a.cd,a.F,a.D)};function Bth(a){N(a,fZ,1);this.C=a}function X6(a){a=N(a.C,fZ,1);return uth(a)}Bth.prototype.equals=function(a){return gj(this.C,a.C)};function Cth(a){var b=new dsh;a=Ath(a);b=bj(b,1,a);return new Bth(b)};function Dth(a){N(a,fZ,1);K(a,2);this.C=a};function Eth(a){this.C=a}function Fth(a,b){var c=[];a=aj(a.C,fsh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new Dth(e))}return c}function i7(a){return null!=K(a.C,4)?K(a.C,4):0};function Gth(){var a=Hth;this.C=[];this.D={};this.F=a}Gth.prototype.text=function(a){this.C.push(a)};function Ith(a,b){if(a.D[b])a.C.push(b);else{var c=new Jth(b,a.C.length);a.C.push(c);a.D[b]=c}}function Kth(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Rc(Md(a.D),function(e){return e.D>c.D});pd(d,function(e,f){return od(e.D,f.D)});a.C.push(new Lth(a.F[b].close,d,a.F))}else a.C.push(b)}Gth.prototype.getResult=function(){return this.C.join("")};
function Jth(a,b){this.F=a;this.D=b;this.C=null}Jth.prototype.getName=g("F");Jth.prototype.toString=function(){return null!==this.C?this.C:this.F};function Lth(a,b,c){this.F=a;this.C=b;this.D=c}Lth.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function Mth(a){a=Ae(Ksh(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new Nth(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new Oth(a.substring(0,c))),a=a.substring(c);b.push(new Nth(a));return new Pth(b)}function Qth(a){var b=new Gth;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=Rth.test(d);d=Sth.test(d);f?d?(f=b,f.D[e]?Kth(f,e):Ith(f,e)):Ith(b,e):d?Kth(b,e):b.text(e)}return new Nth(b.getResult())}
function Tth(a){return new Nth(a.replace(Uth,"<br>"))}var Uth=/\r\n|\n|\r/g,Hth={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},Rth=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,Sth=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function Nth(a){this.Re=a}Nth.prototype.C=function(a){return a(this.Re)};Nth.prototype.toString=g("Re");function Oth(a){this.Re=a}Oth.prototype.C=function(){return this};Oth.prototype.toString=g("Re");
function Pth(a){this.Nh=a}Pth.prototype.C=function(a){var b=Sc(this.Nh,function(c){return c.C(a)});return new Pth(b)};Pth.prototype.toString=function(){return this.Nh.join("")};function Vth(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(M(this.C,13,void 0),M(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=Vth.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),bj(a,4,void 0),bj(a,9,void 0));if(void 0!==N(a,$V,21)||void 0!==a.getContent())this.D=null;rth(this.C,a);0==K(this.C,13)&&(M(this.C,13,void 0),M(this.C,15,void 0))};m.equals=function(a){return gj(this.C,a.C)};
m.Rv=function(){var a=N(this.C,fZ,5)||new fZ;return uth(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.ox=function(){this.H||(this.H=jX(K(this.C,6)));return this.H};m.gP=function(){if(void 0===K(this.C,7))return this.ox();this.J||(this.J=jX(K(this.C,7)));return this.J};function Wth(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=jX(K(a.C,13))),b=a.F;if(!b||a.gP()>b)b=a.gP();return b}
function Xth(a){if(void 0!==N6(a.C)&&("text/html"==N6(a.C).getType()||"text/plain"==N6(a.C).getType())){var b=N6(a.C).getValue();b="text/html"==N6(a.C).getType()?b:Ve(b)}return b||""}m.T1=function(){if(void 0!==N6(this.C)){var a=N(N6(this.C),L6,3);if(a)return a.Mf()}return null};m.vea=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};m.wea=function(){if(null!=N(this.C,$V,21)&&!this.D){var a=N(this.C,$V,21);this.D=Ge(K(a,2)||"",null)}return this.D};
m.$z=function(){return null!=N(this.C,M6,4)?N(this.C,M6,4).getValue()||"":""};m.rua=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.oQ=function(){return!!Ri(this.C,12)};function j7(a){return!!K(a.C,13)}m.RA=function(){var a=N(this.C,dsh,18);return null!=a?new Bth(a):null};m.Xy=function(){var a=N(this.C,hsh,19);return null!=a?new Eth(a):null};m.Zj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
m.FG=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function Yth(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.Nsa=function(){return!!Ri(this.C,22)};m.Jsa=function(){return 2==this.getOrigin()};function k7(a,b){this.C=new ish;M(this.C,11,a);b&&b!=a&&this.C.Uc(b)}function Zth(a,b){var c=O6(a.C);c.push(b.C);dj(a.C,8,c);return a}function $th(a,b){M(a.C,16,b);return a}
function l7(a){M(a.C,12,!0);return a}function auh(a,b){M(a.C,6,b);return a}function buh(a){var b=La();M(a.C,13,b);return a}function cuh(a){M(a.C,13,0);return a}function duh(a,b){bj(a.C,18,b.C);M(a.C,10,4);return a}function euh(a,b){b=Ath(b);bj(a.C,5,b);return a}function fuh(a){M(a.C,20,1);return a}function m7(a,b,c){b=Ad(b);var d=(new M6).setType("text/plain").setValue(b);bj(a.C,4,d);b=(new M6).setType("text/html").setValue(Mth(b).C(Qth).C(Tth).toString());a.C.setContent(b);M(a.C,7,c);return a}
k7.prototype.EB=function(a){M(this.C,10,a?0:1);return this};function guh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function huh(a,b){return a.F.getId()==b.Rv().getId()}function iuh(a,b){return huh(a,b)&&!!b.$z()&&("suggest"==a.C||"full"==a.C)}function juh(a,b){return b instanceof Vth&&void 0!==b.vea()?!1:(a.H||huh(a,b))&&(!!b.$z()||b.Zj())&&("suggest"==a.C||"full"==a.C)}function kuh(a,b){return a.D&&!b.Zj()&&("suggest"==a.C||"full"==a.C)}guh.prototype.eta=g("D");function luh(a){return"suggest"==a.C||"full"==a.C};function muh(a){J(this,a,0,-1,null,null)}v(muh,I);muh.prototype.ea=function(){var a=new F;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function nuh(a,b){this.D=a;this.C=b||null}nuh.prototype.jo=function(a,b,c){this.D(a,b,c)};nuh.prototype.wya=function(a){this.C&&this.C(a)};function ouh(a,b,c,d,e){d=d?d.Mf():void 0;e=e?e.Mf():void 0;a(b,c,d,e)};function puh(a){Mn.call(this);this.D0(a)}v(puh,Mn);m=puh.prototype;
m.D0=function(a){var b=a.kd;if(void 0===b.ih())throw Error("Invalid or missing user.");var c=b.ih();this.CFa=zth(vth(wth(xth(yth((new h7).jd(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Uc(c.getId()||""),!!Ri(c,5)));this.Mca=!!Ri(b,40);this.y9=!Ri(b,20);this.z9=K(b,11);this.AHa=!!Ri(b,12);this.Qma=K(b,6);this.BFa=void 0!==a.l?!!a.l:!!Ri(b,25);this.YVa=K(b,21);this.Sma=K(b,23);this.DFa=K(b,24);this.CPa=K(b,31);void 0!==a.i?this.Rma=a.i:this.Rma=void 0;if(a=hZ(b))this.E0=K(a,1);this.dispatchEvent("r")};
m.Qma=null;m.CPa=null;m.Rma=void 0;m.z9=null;m.BFa=!1;m.Mca=!1;m.YVa=null;m.Sma=null;m.DFa=null;m.y9=!0;m.AHa=!1;m.CFa=null;m.E0=null;m.ih=g("CFa");function quh(a,b,c){function d(f){return c?id(f):f}var e=null;a&&ya(a)&&(e=d(a),ya(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function ruh(a){this.C=a};function suh(){}suh.prototype.install=function(a){a=a&&Qn(a);u8a(a)};suh.prototype.C=function(a,b){Vy(a,b,void 0)};suh.prototype.nf=function(a){a=a&&Qn(a);z8a(a)};suh.prototype.D=function(a,b){gX(a,b)};function tuh(a,b){b=void 0===b?function(){return $Je()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));ya(c)&&(c=quh(c,"kd",!0),c.unshift("kd"),a.kd=new K4e(c));puh.call(this,a);this.xi=b}t(tuh,puh);m=tuh.prototype;
m.D0=function(a){puh.prototype.D0.call(this,a);this.C=a.kd;this.L=this.L||tZb("disco");var b;if(!(b=this.Pa)){b=tZb("usp_dm");var c=new C$d;null!=b&&("true"==b?M(c,1,2):"false"==b&&M(c,1,1));b=c}this.Pa=b;this.qh=a["anchor-is-orphaned-fn"]||ce;this.Ca=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new ruh(a.containerdiv));this.Gs=b;this.fc=a.storage||null;this.Rc=!!a["storage-ro"];this.Od=!!a["disable-focus"];this.Uy=!!a.so;this.Ve=a.docscroller||null;this.An=a["inactive-doco-indent"]||
10;this.Ua=a["instant-docos-div"]||null;this.Bb=a["enable-new-delete-ui"]||!1;this.eb=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new nuh(b,c));this.fk=a["memory-monitor-fn"]||null;this.ej=a.layout||null;this.Oi=!!a.layoutrtl;this.J=a.listeners||{};this.O=a.panediv||null;this.xa=a.panekbdiv||null;b=a.sortpaneby||"creation";"sortpane"in a&&(b=a.sortpane?"updated":"none");this.$a=b;this.Kc=a.quotefn||null;this.dd=a["user-color-provider-fn"]||
null;this.gD=a["user-color-provider-from-name-fn"]||null;this.Os=a.quoterenderfn||null;this.Vg=!!a["hide-notification"];this.V=!!a.offline;this.wc=!!a.nocss;this.Bc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Ed=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Ri(this.C,8);this.H=new guh(this.ih(),c?c:d?"readonly":"full",!!Ri(this.C,3),b);this.Qa=!!a.iph;this.Tn=a.maxheight||0;this.hv=!!a.showerrors;
this.Vc=a["stream-button"]||null;this.Wd=!!a["disable-spfw"];this.Oa=a["anchor-mutate-fn"]||null;uuh(this)||(this.Oa=null);this.wf=!!a["enable-comment-button"];this.Ka=!!a["enable-gsuite-embedding"];this.Pf=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Gl=a["acl-fix-fn"]||null;this.wj=a["load-acl-fixer-fn"]||null;this.ge=a["intercept-docos-edit-fn"]||null;this.Lh=a["is-an-illegal-write-fn"]||null;this.Bd=!!a["defer-first-sync"];this.Ul=!!a["enable-lazy-loading"];this.Ha=
!!a["enable-all-docos-in-anchored-stream"];this.Ty=a["stream-pane-banner-message"]||null;this.Ky=a["stream-pane-banner-learn-more-url"]||null;this.Cm=!!a["enable-track-mouse-positions-in-doco-view"];this.Za=(b=a["impression-recorder-fn"])?Ka(ouh,b):null;this.jh=a.hidepromofn;this.yy=a.showpromofn;this.bl=a["acl-check-fn"]||null;this.D=a["tooltip-manager"]||new suh;this.Hl=a["browser-app-clipboard"]||null;this.Wa=a["modal-dialog-z-index"]||null;this.Ae=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];
this.Ea=a["static-input-pane-message"]||null;this.Cb=a["drive-id"]||null;this.Kb=!!a["enable-roving-tabindex"];this.Fg=a["auto-complete-factories"]||[];this.Wm=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.Pb=a["link-opener"]||null;this.dispatchEvent("r")};function vuh(a){return null!=K(a.C,44)&&null!=K(hZ(a.C),51)&&!!Ri(hZ(a.C),51)}m.MI=function(){if(this.Vg)return!1;var a=Ri(this.C,26);return null!=a?!!a:!0};m.tda=function(){return!!Ri(this.C,43)};
m.Usa=function(){var a=!1,b=hZ(this.C);b&&(a=Ri(b,2));return!!Ri(this.C,43)&&!!a};function wuh(a){return!!hZ(a.C)&&!!Ri(hZ(a.C),32)}function uuh(a){return a.C&&!!Ri(a.C,18)}m.Jj=function(){return!!Ri(this.C,39)};function xuh(a){return a.xi()&&!!Ri(a.C,10)&&!a.Od}function yuh(a){return Ri(a.C,10)?a.Fg:[]}function zuh(a){return!!hZ(a.C)&&!!Ri(hZ(a.C),50)};function Auh(a,b,c,d,e,f){Z6.call(this,a,c);this.D=$6(a);this.Oa=Sl(Ic(y(),"docs-seu")||this.D.Ae||window.location.href);this.Nc=new Hy(c,new Buh(d));this.F=new Sy("",this.Nc,void 0,c);this.F.tH=!0;this.Ga(this.F);this.J=null;Zc(e,"edit")&&(this.J=new Cy("Edit"),this.J.Ic("docos-edit-menuitem"),this.Nc.Ga(this.J,!0));this.H=null;Zc(e,"delete")&&(this.H=new Cy("Delete"),this.H.Ic("docos-delete-menuitem"),this.Nc.Ga(this.H,!0));this.R=null;Zc(e,"reanchor")&&wuh(this.D)&&(this.R=new Cy("Reanchor comment"),
this.R.Ic("docos-reanchor-menuitem"),this.Nc.Ga(this.R,!0));this.xa=null;Zc(e,"disable")&&(this.xa=new Cy("Turn off suggested action items"),this.xa.Ic("docos-disable-menuitem"),this.Nc.Ga(this.xa,!0));this.Ha=null;Zc(e,"help")&&(this.Ha=new Cy("Learn more"),this.Ha.Ic("docos-help-menuitem"),this.Nc.Ga(this.Ha,!0));d=e7(a).ud(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ka=f?n7(d,f):null;this.V=null;$6(a).H.eta()&&Zc(e,"resolve")&&(this.V=new Cy(""),this.Nc.Ga(this.V,
!0));this.O=this.Ca=this.ma=null;Zc(e,"link")&&(this.Ca=new Cy("Link to this comment..."),this.Ca.Ic("docos-link-menuitem"),this.Nc.Ga(this.Ca,!0),this.O=new l$e(c,this.D.Hl||void 0,void 0,null===this.D.Wa?void 0:this.D.Wa),this.Ga(this.O),Ow(px(this.O),"docos"),this.O.setTitle("Link to this comment..."),Cuh(this,b));this.Ea=$6(a).Wm.map(function(h){return{m6a:h,pJa:new Cy(h.getLabel())}});for(a=0;a<this.Ea.length;a++)this.Nc.Ga(this.Ea[a].pJa,!0)}t(Auh,Z6);m=Auh.prototype;
m.Cc=function(a){Z6.prototype.Cc.call(this,a);a=this.qa().bb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Rc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Va(a),this.F.Na(!0),this.D.D.C(a,"More options..."),this.F.re("More options..."))};
m.Ia=function(){var a=this;Z6.prototype.Ia.call(this);Duh(this);a7(a7(a7(this,this.Nc.getElement(),"click",this.nRa),this.F.getElement(),"click",this.nRa),this.D,"r",this.Uob);a7(this,this.F.getElement(),"keyup",this.eac);Euh(this,this.J,this.lbc);Euh(this,this.H,this.jbc);Euh(this,this.Ca,this.c5b);Euh(this,this.R,this.pbc);Euh(this,this.V,this.qbc);Euh(this,this.xa,this.kbc);Euh(this,this.Ha,this.obc);for(var b={},c=0;c<this.Ea.length;b={y7:b.y7},c++)b.y7=this.Ea[c],Euh(this,b.y7.pJa,function(d){return function(){d.y7.m6a.C((a.Ka||
a.L).$z())}}(b))};m.ah=function(a){this.qa().oi(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){Duh(this)};function Cuh(a,b){if(a.O){var c=a.Oa.clone();b=c.C.set("disco",b);a.O.bSa(Ll(c,b).toString())}}function Euh(a,b,c){b&&a7(a,b,"action",c)}m.qbc=function(a){kuh(this.D.H,this.L)&&(this.dispatchEvent(new Fuh("r")),Guh(this,a))};m.lbc=function(a){Huh(this)&&(this.dispatchEvent(new Fuh("e")),Guh(this,a))};
m.kbc=function(a){this.dispatchEvent(new Fuh("i"));Guh(this,a)};m.jbc=function(a){Iuh(this)&&(this.F.Fd(!1),this.dispatchEvent(new Fuh("d")),Guh(this,a))};m.pbc=function(a){this.dispatchEvent(new Fuh("ra"));Guh(this,a)};m.obc=function(a){this.dispatchEvent(new Fuh("h"));Guh(this,a)};m.c5b=function(a){Guh(this,a);this.O.setVisible(!0)};function Guh(a,b){b.stopPropagation();a.F.Fd(!1)}m.eac=function(a){27==a.keyCode&&a.stopPropagation()};m.nRa=function(a){a.stopPropagation()};m.Uob=function(){Duh(this)};
function Huh(a){return iuh(a.D.H,a.Ka||a.L)&&!a.ma}function Iuh(a){return juh(a.D.H,a.Ka||a.L)&&!a.D.ma}function Duh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=Juh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Na(kuh(a.D.H,a.L))}a.J&&(b=Huh(a),a.J.Na(b),a.J.setVisible(b));a.H&&(b=Iuh(a),a.H.Na(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Na(b),a.R.setVisible(b))}function Fuh(a){An.call(this,a)}t(Fuh,An);
function Buh(a){a=void 0===a?"docos-docomenu":a;Fy.call(this);this.D=a}t(Buh,Fy);Buh.prototype.gc=function(){return(new Vp("goog-menu"," ","docos"," ",this.D)).toString()};function Kuh(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.Bx=e;this.C=f;this.D=h}Kuh.prototype.ud=g("F");function Luh(){}function o7(a){var b=new Luh;b.D=a;return b}function p7(a,b){a.C=b;return a}function Muh(a,b){a.Bx=b;return a}function q7(a){return new Kuh(a.D,a.C,a.J||!1,a.L||null,a.Bx||null,a.F||null,a.H||null)};function Nuh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Mq=h}function Ouh(){}function Puh(a){var b=new Ouh;b.H=a;return b}function Quh(a,b){a.D=b;return a}function Ruh(a,b){a.Mq=b;return a}function Suh(a){return new Nuh(a.H,a.L||!1,a.F||null,a.J||null,a.C||null,a.D||null,a.Mq||null)};function Tuh(){jC.call(this,!1)}t(Tuh,jC);Tuh.prototype.VL=function(a){jC.prototype.VL.call(this,a)};function Uuh(){this.C=!1;this.D=new Bf;this.va(this.D)}v(Uuh,A);function Vuh(a,b,c){var d=P6(a);this.F=a;this.O=b;this.us=c||null;this.R=null;this.J={};this.D={};this.C=new Vth(d);this.H=void 0;this.sQ=!!N(d,dsh,18);b=this.getId();if(a=P6(a)){a=O6(a);for(c=0;c<a.length;c++)d=new Vth(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,Yth(d)&&(this.H=Yth(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=Vuh.prototype;m.Rv=function(){return this.C.Rv()};m.getId=function(){return this.C.getId()};
function r7(a){return K(a.C.C,11)||""}m.gP=function(){var a=K(this.F,4);if(void 0===a)return this.ox();this.V||(this.V=jX(a));return this.V};m.getContent=function(){return this.C.getContent()};m.rua=function(){return this.C.rua()};m.vea=function(){return this.C.vea()};m.$z=function(){return this.C.$z()};function s7(a){return K(a.F,8)||""}m.wea=function(){return this.C.wea()};m.T1=function(){return this.C.T1()};m.Yy=function(){return void 0!==K(this.F,8)};
m.isResolved=function(){return!!Ri(this.F,6)};function Wuh(a,b){var c=Md(a.D);b&&c.push(a.C);qd(c,function(d,e){return iX(d.ox(),e.ox())});return c}function n7(a,b){return a.D[b]||null}m.ox=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=jX(a)):this.L=null;return this.L};m.getNewDocoType=g("us");m.yA=function(){return"draft"==this.us||"client-integrated-draft"==this.us||"instant-doco"==this.us};function Xuh(a){return Yuh(a)}
function Yuh(a){return a.yA()||"smart-todo"==a.us}m.QW=function(){return"smart-todo"==this.us};m.oQ=function(){return!!Ri(this.F,9)};m.Xy=function(){return this.C.Xy()};m.RA=function(){return this.C.RA()};function c7(a){var b=a.C.RA()?a.C.RA():null;a=Wuh(a);for(var c=0;c<a.length;c++){var d=a[c];d.RA()&&(d=d.RA(),b?(b=new Bth(jj(b.C)),d=X6(d),d=Ath(d),bj(b.C,1,d)):b=new Bth(jj(d.C)))}return b}function Juh(a){return a.C.RA()?a.C:null}m.Zj=function(){return this.C.Zj()};
m.isTodo=function(){return null!=this.sQ?this.sQ:this.sQ=!!Juh(this)};m.FG=function(){return this.C.FG()};function Zuh(a){if(void 0!==a.H)return a.H;if(!a.Zj())return a.H=null;for(var b in a.D){var c=Yth(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.Nsa=function(){return this.C.Nsa()};m.Jsa=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=Wuh(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};
function t7(a){this.C=a;this.us=null}function u7(a){var b=new Q6;a=a.C;bj(b,2,a);a.getId()||K(a,11);b.Uc(a.getId()||K(a,11));return new t7(b)}function $uh(a,b){M(a.C,8,b);return a}function v7(a,b){M(a.C,9,b);return a}function avh(a,b){a.us=b;return a}t7.prototype.getNewDocoType=g("us");t7.prototype.EB=function(a){this.C.EB(a);return this};t7.prototype.getId=function(){return P6(this.C).getId()};function bvh(a,b,c,d,e,f,h,k){An.call(this,a);this.O=b;this.C=c;this.R=d;this.Mq=e;this.D=f;this.V=h;this.F=k}t(bvh,An);function cvh(){this.Mq=this.F=this.D=this.L=this.bu=null;this.H=this.C=0;this.J=!1}function dvh(a){var b=new cvh;b.bu=a;return b}function evh(a,b){a.L=b;return a}function fvh(a,b){a.H=b;return a}function gvh(a,b){a.J=b;return a}function hvh(a){return new bvh(a.bu,a.L,a.D,a.F,a.Mq,a.C,a.H,a.J)};function ivh(a){A.call(this);this.C=a;this.F=$6(a);this.D=jvh(this.C);this.H={}}v(ivh,A);function kvh(a,b,c,d,e,f){var h=cf(),k=new k7(h);d&&m7(k,d,La());f&&fuh(k);e&&(d=zth(vth(yth(new h7,e).Uc(""),!1)),d=Cth(d),duh(k,d));c=avh(v7($uh(u7(k),b),!1),c);lvh(e7(a.C),c);e7(a.C).flush();mvh(a.D,Suh(Ruh(Quh(Puh(43008),h),b)));return w7(e7(a.C),h)}
function nvh(a,b,c,d,e){d=vth(yth(new h7,d).Uc(""),!1);zd(af(e))||d.jd(e);e=zth(d);d=Cth(e);e=cf();var f=La();c=fuh(duh(m7(euh(new k7(e),a.F.ih()),c,f),d));c=avh(v7($uh(u7(c),b),!1),"smart-todo");lvh(e7(a.C),c);e7(a.C).flush();mvh(a.D,Suh(Ruh(Quh(Puh(43023),e),b)));return w7(e7(a.C),e)}
function ovh(a,b,c,d,e){var f=cf(),h=La();c=m7(euh(auh(l7(new k7(f)),h),a.F.ih()),c,h);e&&fuh(c);d&&(d=zth(vth(yth(new h7,d).Uc(""),!1)),d=Cth(d),duh(c,d));c=v7(u7(c),!0);M(c.C,3,h);b=avh($uh(c,b),"discussion");lvh(e7(a.C),b);e7(a.C).flush();b=e7(a.C).ud(f);x7(a.D,q7(p7(o7(43009),b)));return w7(e7(a.C),f)}m=ivh.prototype;m.Y$a=function(a){pvh(e7(this.C),a);e7(this.C).flush()};
m.U$a=function(a,b,c,d){if(a=e7(this.C).ud(a)){if(d&&!a.RA())throw Error("Cannot reassign a doco with no existing assignment");if(a.Zj()&&d)throw Error("Cannot reassign a suggestion.");var e=cf(),f=La();b=euh(auh(m7(l7(new k7(e)),b,f),f),this.F.ih());c&&$th(b,c);d&&duh(b,d);c=Zth(new k7(r7(a),a.getId()),b);c=v7(u7(c),!0);y7(e7(this.C),c);e7(this.C).flush();x7(this.D,q7(p7(o7(d?43020:43010),a)))}};
m.$$a=function(a,b){if(a=e7(this.C).ud(a)){var c=new k7(r7(a),a.getId()),d=null!=a.Xy()?new Eth(a.Xy().C.clone()):new Eth(new hsh);M(d.C,4,b?1:0);bj(c.C,19,d.C);l7(c);c=v7(u7(c),!0);y7(e7(this.C),c);e7(this.C).flush();x7(this.D,q7(p7(o7(b?43040:43041),a)))}};
m.aab=function(a,b,c){if(a=e7(this.C).ud(a)){var d=new k7(r7(a),a.getId());if(c=n7(a,c)){var e=null!=c.Xy()?new Eth(c.Xy().C.clone()):new Eth(new hsh),f=new k7(r7(a),c.getId());M(e.C,4,b?1:0);bj(f.C,19,e.C);Zth(d,l7(f));d=v7(u7(d),!0);y7(e7(this.C),d);e7(this.C).flush();x7(this.D,q7(Muh(p7(o7(b?43042:43043),a),c)))}}};
m.gfb=function(a,b,c){if(a=e7(this.C).ud(a))if(b=n7(a,b)){var d=La();c=m7(l7(new k7(K(b.C,11)||"",b.getId())),c,d);c=Zth(new k7(r7(a),a.getId()),c);c=v7(u7(c),!0);y7(e7(this.C),c);e7(this.C).flush();x7(this.D,q7(Muh(p7(o7(43021),a),b)))}};m.c2b=function(a,b){if(a=e7(this.C).ud(a)){var c=La();b=m7(new k7(r7(a),a.getId()),b,c);b=v7(u7(b),!1);y7(e7(this.C),b);e7(this.C).flush()}};
m.Z$a=function(a,b,c){if(a=e7(this.C).ud(a)){if(a.Zj())throw Error("Cannot resolve a suggestion.");var d=cf(),e=La();d=euh(auh(l7(new k7(d)),e),this.F.ih()).EB(b);c&&m7(d,c,e);c=Zth(new k7(r7(a),a.getId()),d);c=v7(u7(c),!0).EB(b);y7(e7(this.C),c);e7(this.C).flush();x7(this.D,q7(p7(o7(b?43014:43015),a)))}};
m.V$a=function(a,b){var c=e7(this.C),d=c.ud(a);d&&(this.H[w7(c,a)]=Nd(Wd(d.D)),a=buh(l7(new k7(r7(d),d.getId()))),a=v7(u7(a),!0),d.QW()||(d=p7(o7(43017),d),null!=b&&(d.F=b),x7(this.D,q7(d))),y7(c,a),c.flush())};
function qvh(a,b){var c=e7(a.C);if(z7(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ea[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=cuh(l7(new k7(r7(d),d.getId()))),f=a.H[b];delete a.H[b];a=Wd(d.J);b=Wd(d.D);for(var h=0;h<f.length;h++){var k=f[h];Zth(e,cuh(l7(new k7(K((b[k]||a[k]).C,11)||"",k))))}e=v7(u7(e),!0);y7(c,e);c.flush();return w7(c,d.getId())}
m.EFa=function(a,b){if(a=z7(e7(this.C),a)){var c=a.FG();if(!a.Zj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=l7(new k7(r7(a),a.getId()));c=(new bsh).setType("application/vnd.google-apps.docs.mds");b=bj(c,3,b);bj(a.C,9,b);b=v7(u7(a),!0);y7(e7(this.C),b);e7(this.C).flush()}};m.efb=function(a,b){if(a=e7(this.C).ud(a)){var c=La();b=m7(l7(new k7(r7(a),a.getId())),b,c);b=v7(u7(b),!0);y7(e7(this.C),b);e7(this.C).flush();x7(this.D,q7(p7(o7(43022),a)))}};
m.j$a=function(a,b){(a=e7(this.C).ud(a))&&(b=n7(a,b))&&rvh(this,a,b)};function rvh(a,b,c){x7(a.D,q7(Muh(p7(o7(43016),b),c)));y7(e7(a.C),svh(b,c));e7(a.C).flush()}function svh(a,b){b=buh(l7(new k7(K(b.C,11)||"",b.getId())));a=Zth(new k7(r7(a),a.getId()),b);return v7(u7(a),!0)}m.X$a=function(a){var b=z7(e7(this.C),a,!0);a=tvh(e7(this.C),a);b&&a&&rvh(this,b,a)};
m.W$a=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=z7(e7(this.C),d,!0);d=tvh(e7(this.C),d);e&&d&&b.push(svh(e,d))}uvh(e7(this.C),b,"c")};function vvh(a,b,c,d){b=z7(e7(a.C),b);if(!wvh(a,b))return 0;var e=cf();y7(e7(a.C),xvh(a,b,e,c));d||(d=a.D,c=p7(o7(c?43027:43028),b),c.J=!0,x7(d,q7(c)));return w7(e7(a.C),b.getId(),e)}function wvh(a,b){if(!b)return!1;if(!b.Zj()||!b.FG())throw Error("Attempting to accept/reject a non-suggestion.");return yvh(e7(a.C),b)?!0:!1}
function xvh(a,b,c,d){a=$th(euh(auh(l7(new k7(c)),La()),a.F.ih()),b.FG());M(a.C,10,d?2:3);b=Zth(new k7(r7(b),b.getId()),a);return v7(u7(b),!0)}function zvh(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=z7(e7(a.C),b[h]);if(wvh(a,k)){var l=cf();d.push(xvh(a,k,l,c));e.push(k.getId());f.push(l)}}uvh(e7(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(w7(e7(a.C),e[h],f[h]));return b};function Avh(){Mn.call(this)}v(Avh,Mn);function Bvh(a,b){An.call(this,a);this.Rl=b||null}v(Bvh,An);function Cvh(){Ap.call(this,"",void 0,!0);this.F=new wp(u(this.C,this));this.va(this.F);this.H=null}t(Cvh,Ap);Cvh.prototype.O=function(a,b,c,d){if(this.H&&!ud(a,"Error in protected function: ")){var e=new Gsh;a=M(e,1,a);b=M(a,2,b);c=M(b,3,String(c));d&&M(c,4,d);Dvh(this.H,"rjse",c,void 0,ta,!0,1)}};Cvh.prototype.Ja=function(){Ap.prototype.Ja.call(this);delete this.F};function Evh(a){Mn.call(this);var b=this;this.F=null;this.H=new qn;this.va(this.H);this.C=a;rn(this.H,this.C.FF(),function(){"hidden"===b.C.getState()&&(b.D=new RB);"visible"!=b.C.getState()||$ib(b.D)||(b.dispatchEvent("oj"),Fvh(b))});this.D=new RB;Fvh(this)}t(Evh,Mn);Evh.prototype.format=function(a){var b=new RB(a);b=(new RB).getTime()-b.getTime();if(15552E6<b||-864E5>b)return Gvh.format(a);b=W4e(a.getTime());return Hvh.format(a)+(" "+b)};
function Fvh(a){var b=new RB;b.add(new QB(0,0,1));b=b.getTime();Wo(a.F);a.F=Vo(function(){a.dispatchEvent("oj");Fvh(a)},b-La(),a)}va(Evh);var Hvh=new VB(7),Gvh=new VB(2);function Ivh(a){this.C=a;this.D={};this.J={};this.L=this.C.V;this.cd=0;this.H=[];this.Ma=new Nn(this);this.va(this.Ma);this.Ma.listen(this.C,"r",this.O)}v(Ivh,A);var Jvh=[kf?"readystatechange":"load","abort","error"];function Kvh(a){return"legacy"==a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function Lvh(a,b,c,d){if(b){var e="dcs-img-"+a.cd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";Mvh(a,e)}}function mth(a,b,c,d){b&&a.H.push(new Nvh(b,c,d))}function Ovh(a){Vo(function(){for(;this.H.length;){var b=this.H.pop();Lvh(this,b.hx,b.src,b.C)}},0,a)}function f7(a,b){b&&b.id&&(a.Ma.Gc(b,Jvh,a.F),delete a.D[b.id],delete a.J[b.id])}Ivh.prototype.O=function(){var a=this.C.V;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)Mvh(this,b)};
Ivh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.D.C(b,"")),this.Ma.Gc(b,Jvh,this.F),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):f7(this,b)}};function Mvh(a,b){a.Ma.listen(a.D[b],Jvh,a.F);a.D[b].src=a.J[b]}function Nvh(a,b,c){this.hx=a;this.src=b;this.C=c};function Pvh(){cX.call(this);this.V=!1}v(Pvh,cX);function $6(a){return a.get("config")}function g7(a){var b=dX(a,"action_registry");if(!b){b=new Tuh;for(var c=Md(Lsh),d=0;d<c.length;d++){var e=c[d];e=O((new Ks(e)).$i("label",e).$i("visible",!0).$i("hint",e).$i("enabled",!0));b.rB(e);b.va(e)}a.sf("action_registry",b)}return b}function e7(a){return a.get("stream")}function d7(a){return a.get("imageManager")}function Qvh(a){return a.get("subscriptionManager")}
function jvh(a){return a.get("impressionRecorder")}function eth(a){return dX(a,"errorReporter")}function Rvh(a){var b=dX(a,"batchEventTracker");b||(b=new Uuh,a.sf("batchEventTracker",b));return b};function Svh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=$6(a).Cm}function Tvh(a,b){a.C!=b&&(a.C=b,b={zj:a.D,qKb:a.O,zKb:b},g7(a.L).tf("mouse-hover-doco-view").wb(b))};function Uvh(a){a=a||{};var b=a.kI,c=a.i_,d=a.AKb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+eX(c)+"><span class="+eX(d)+">"+R(b)+"</span></div>":"<span class="+eX(d)+">"+R(b)+"</span>");return S(a)};function Vvh(a){a=a||{};var b=a.Jh,c=a.wA;a=a.rQ;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(Xsh({Jh:""+b,wA:""+c,rQ:a})):"")+"</div>")};function Wvh(a,b,c){b=c||b;a=a||{};c=S;var d;if(a.So){var e=b;b=a||{};var f=b.author,h=b.Rka,k=b.Be;a=b.Vl;var l=b.FA,n=b.Zj,q=b.yA,r=b.pwa,w=b.kI,x=b.EW,B=b.Jj,L=b.tda,X=b.Usa,V=b.timestamp,ca=b.Z9a,la=b.En;f='<div class="'+T("docos-anchoredreplyview")+(k?" "+T(k):"")+(n?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(Ysh({size:32,c$a:ca,Be:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+
(l?'<div class="'+T("docos-user-presence")+'"></div>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'">'+(f?R(f):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+" "+T("docos-replyview-timestamp")+'">'+(V?R(V):"")+'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+" "+T("hide-on-readonly")+'">';sw(n)&&sw(l)?(w=w={En:la},w=S(Xvh({Zc:"docos-accept-suggestion jfk-button-collapse-right",
En:w.En},e)),la=la={Jj:B,En:la},B=la.Jj,la=la.En,e=""+R(Ez({title:"Reject suggestion",style:la?4:0,Zc:"docos-reject-suggestion jfk-button-collapse-left",content:tw(""+(la?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):R(Xsh({Jh:"docos-icon-reject-suggestion-cross",wA:"docos-icon-reject-suggestion-cross-size",Be:"jfk-button-img"})))),XM:B},e)),e=S(e),e=w+e):q?
e="":(B=l?L?S(Xvh({Zc:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):S(R(Ez({Zc:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!sw(L)||!sw(x)&&w?e="":X?(L=(L=b)||{},la=L.FA,w=L.EW,L=L.Jj,X=R(Xsh({Jh:"docos-icon-thumb-black",wA:"docos-icon-thumb-size",Be:"jfk-button-img",rQ:!0}))+'<div class="'+T("like-button-text")+'">',X+="0</div>",e=""+R(Ez({Zc:"docos-like-button "+(sw(la)&&!w?"jfk-button-collapse-left":
""),title:"Like this",content:tw(X),XM:L},e)),e=S(e),e=R(e)):(L=(L=b)||{},la=L.FA,w=L.EW,L=L.Jj,X='<div class="'+T("vote-button-text")+'">',X+="+1</div>",e=""+R(Ez({Zc:"docos-vote-button "+(sw(la)&&!w?"jfk-button-collapse-left":""),title:"+1 this comment",content:tw(X),XM:L},e)),e=S(e),e=R(e)),e=B+e+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');h=f+e+'</div></div><div class="'+T("docos-collapsible-replyview")+" "+(h?"":T("docos-collapsible-replyview-empty"))+
'">'+(l||x?"":R(Uvh(qw({i_:""},b))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(h?R(h):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';h=h+'Show more</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');h+="Show less";l?d=R(Uvh(qw({i_:"docos-root-reply-action-text-wrapper"},b))):x?d=R(Uvh(qw({i_:"docos-action-text-bottom-wrapper"},b))):d="";
h+="</div></div></div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(r?R(r):"")+"</div></div>";d=S(h)}else x=a||{},h=x.author,f=x.Rka,r=x.gla,a=x.Vl,l=x.pwa,e=x.timestamp,B=x.En,d=S,x.FA?(a=(a=x)||{},la=a.author,l=a.Rka,w=a.Be,r=a.Vl,x=a.t6b,h=a.eta,f=a.pwa,e=a.kI,B=a.EW,L=a.timestamp,b='<div class="'+T("docos-streamrootreplyview")+(w?" "+T(w):"")+'"><div class="'+
T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'">'+(la?R(la):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(Vvh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(L?R(L):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+
'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),
b+=vw("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',x&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(x)+'<div class="'+T("docos-replyview-quote-collapse")+" "+T("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(T("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+
T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(l)+"</div>"+(e?R(Uvh(qw({i_:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+T("docos-streamdocoview-comment-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=vw("Reply to this comment"),b+='">Reply</div></div>',
h&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',B?(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=vw("Mark as done and hide discussion"),b+='">Mark as done'):(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=vw("Mark as resolved and hide discussion"),
b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(r?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(f?R(f):"")+"</div></div>",b=S(b)):(b='<div class="'+T("docos-streamreplyview")+'">'+R(Ysh({size:B?32:24,Be:"docos-replyview-avatar docos-streamreplyview-avatar"}))+'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+T("docos-streamreplyview-text")+" "+T("goog-inline-block")+
'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'">'+(h?R(h):"")+"</div>"+R(Uvh(x))+' <br><span class="'+T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+" "+T("docos-replyview-static")+'">'+R(f)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(e?R(e):"")+"</div>",sw(r)||sw(a)?(h=h={S7a:!0,gla:r,Vl:a},r=h.gla,
x=h.Vl,h=h.S7a,f='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',x&&(f+=(h?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',f+=vw("Make changes to your comment"),f+='">Edit</div>'),r&&(f+=(h?'<div class="'+T("docos-streamdocoview-bullet")+" "+
T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',f+=vw("Permanently delete your comment"),f+='">Delete</div>'),r=S(f+"</div>"),r=R(r)):r="",b=b+r+"</div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(l?R(l):"")+"</div></div></div>"),d=d(b);return c(d)}
function Yvh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function Xvh(a,b){a=a||{};var c=a.Zc;a=a.En;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(Xsh({Jh:"docos-icon-accept-checkmark-black",wA:"docos-icon-accept-checkmark-size",Be:"jfk-button-img"}));return d(R(Ez({Zc:c?""+c:"",style:a?4:0,content:tw(""+e)},b)))};function Zvh(a,b){a=a||{};var c=a.UDa,d=a.Zc,e=a.TGa;a=a.UGa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(hS({Mk:c,Zc:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function $vh(a,b,c){b=c||b;a=a||{};var d=a.Be;c=a.K8;var e=a.K$b,f=a.mla,h=a.VGa,k=a.aDa,l=a.Jj,n=a.kI,q=a.VH;a='<div class="'+T("docos-input")+(d?" "+T(d):"")+'" style="display: none"><textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(n?R(Uvh(qw({i_:"docos-edit-pane-action-text-wrapper",AKb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+T("docos-input-assignment-panel")+'" style="display: none">'+R(hS({Zc:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+
(T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+'"></div><div class="'+T("docos-input-buttons")+'">'+R(Ez({style:2,
Zc:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Discard comment";f="";f=c?f+R(c):f+"Cancel";a+=R(Ez({Zc:"docos-input-cancel",title:d,content:tw(f),XM:l},b));return S(a+"</div></div>")};function awh(a,b,c){b=c||b;a=a||{};c=S;if(a.So){a=a||{};var d=a.author,e=a.QW,f=a.EW,h=a.Jj,k=a.En;a.yA?(a=(a=qw({author:d,Jj:h},a))||{},d=a.author,e=a.Jj,f=a.VH,b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(Wvh(qw({author:d,So:!0,FA:!0,Be:"docos-replyview-first"},a),b))+"</div>"+R($vh({Be:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",Jj:e,VH:f},b)))):e?(d=(d=qw({Jj:h,En:k},a))||{},e=d.c8a,a=
d.Jj,f=d.En,h='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(Xsh({Jh:"docos-icon-explore",wA:"docos-icon-explore-size",rQ:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+'"><div class="'+T("docos-smarttodoview-headertext-inner")+
'">',h=h+'Suggested action item</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(Vvh({wA:"docos-icon-overflow-three-dots-size",Jh:"docos-icon-overflow-three-dots",rQ:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),h+=R($vh({Be:"docos-docoview-input-pane",K8:"Dismiss",mla:"Dismiss suggested action item",Jj:a},b)),e&&(h+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Bad suggestion?</div></div>"),a=h,e?(d=d||{},d=d.Jj,e='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+"Tell us why you didn't like this</div><div class=\""+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=R(Zvh({UDa:"Not an action item",Zc:"docos-smarttodoview-feedback-checkbox-container",TGa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
UGa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=R(Zvh({UDa:"Wrong assignee",Zc:"docos-smarttodoview-feedback-checkbox-container",TGa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",UGa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+'" role="button" tabindex="0">',e=e+'Write feedback</div><div class="'+
(T("docos-smarttodoview-feedback-buttonlist")+'">'),e+=R(Ez({style:2,Zc:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",XM:d},b)),e+=R(Ez({Zc:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",XM:d},b)),b=S(e+"</div></div>")):b="",b=S(a+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+
" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else b=a||{},b=b.En,b=S('<div class="'+T("docos-docoview-tesla-conflict")+'">'+R(Ysh({size:b?32:48,Be:"docos-streamdocoview-avatar"}))+
'<div class="'+T("docos-streamdocoview-content")+'"><div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(Ysh({size:b?32:24,Be:"docos-streamreplyview-avatar"}))+'<div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div></div></div></div>');return c(b)};function A7(a,b,c,d,e){Z6.call(this,a,d);this.R=a;this.Za=c;this.$a=[];this.O=null;this.Qa=new Svh(this.R,b,this.So());this.Uc(b);this.Pa=null;this.wc=e;this.Cb=this.xa=null;this.yd=!0}v(A7,Z6);m=A7.prototype;m.TPa=!1;m.zz=ta;m.Uc=function(a){A7.Ta.Uc.call(this,a);this.Qa.D=a};m.getContext=g("R");m.ud=function(){return e7(this.R).ud(this.getId())||null};m.Vk=function(){var a=this.getId();return bwh(this.wc,a)};m.nO=ea(null);m.Uma=ea(!1);
m.Ba=function(){var a=this.ud(),b=a.Rv();a=c7(a);var c=Kx(awh,{author:b.getName(),So:this.So(),EW:!!a,Jj:this.C.Jj(),En:"legacy"!=this.C.F});this.So()||vuh(this.C)||Ow(c,"docos-streampanemargin-legacy");this.ib(c);this.re(b,a||void 0)};
m.re=function(a,b){b=b?bth(b,this.C):void 0;a=a.getName();var c=Kd(this.ud().D),d=this.ud().isResolved()?"Resolved":"Open";b=a&&b?(new lA("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new lA("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new lA("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});Kw(this.getElement(),b)};m.Ia=function(){A7.Ta.Ia.call(this);a7(a7(this,this.getElement(),["click","keypress","keyup"],this.gab),this.getElement(),["mouseenter","mouseleave","mousemove"],this.Z2b);xo(this.getElement(),!0)};m.vd=function(){A7.Ta.vd.call(this);Tvh(this.Qa,!1)};m.G8=ea(!1);
m.jea=function(){if("legacy"==this.C.F&&this.So()&&(!this.xa||!this.Cb)){var a=this.qa(),b=this.getElement(),c=a.createElement("DIV");Ow(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");Ow(c,"docos-anchoreddocoview-arrow-outer");this.Cb=c;a.Ur(b,this.xa,0);a.Ur(b,this.Cb,0)}};m.Xc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.yd;a||this.setVisible(!0);this.O=new em(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Xc();return this.O.height};m.gab=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.HFa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.Z2b=function(a){var b=this.Qa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||Tvh(b,"mouseenter"==a.type);a.stopPropagation()};m.mU=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new b7(this.getId()))};m.setVisible=function(a){this.yd=a;P(this.getElement(),a)};m.isVisible=g("yd");
function cwh(a){var b=["docos-docoview-tesla-conflict"],c=[];dwh(a,"docos-anchoreddocoview",a.So(),b,c);dwh(a,"docos-streamdocoview",!a.So(),b,c);dwh(a,"docos-docoview-active",a.Vk(),b,c);var d=a.ud();dwh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)Pw(a.getElement(),b),Rw(a.getElement(),c),a.$a=Lw(a.getElement())}function dwh(a,b,c,d,e){c&&!Zc(a.$a,b)?d.push(b):!c&&Zc(a.$a,b)&&e.push(b)}m.YR=da("Pa");function ewh(a){return a.Pa?a.Pa:a.C.Tn}m.getDocoMaxHeight=g("Pa");
m.Ja=function(){A7.Ta.Ja.call(this);delete this.R};function fwh(a,b){this.C=a;this.cb=b}
function gwh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=vw("Contact information.");f+='">'+R(Ysh({size:32,Be:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=ow(d);Ie(c,d);d=b.getEmail();d=zd(af(b.getName()))?d:b.getName()+" "+d;Kw(c,d);c=dW(a.cb,"IMG","docos-contact-row-avatar",c);f7(a.C,c);Lvh(a.C,c,b.C,Y6(b));
return c};function hwh(a,b,c,d){this.J=null;this.cb=a;this.R=new fwh(d7(c),a);this.D=b;this.L=c;this.C=d||null;this.O=!(this.C&&this.C.So());this.H=null;bz.call(this,void 0,void 0,void 0,a)}v(hwh,bz);m=hwh.prototype;m.Ia=function(){hwh.Ta.Ia.call(this);this.H=$n("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.Bab).listen(this.getElement(),"focus",this.xx).listen(this.getElement(),["mousedown","blur"],this.aXa)};
m.Bab=function(a){this.C&&this.C.ud()==e7(this.L).O||(this.Fd(!this.Ye()),this.aXa());a.stopPropagation()};m.xx=function(){Ow(this.H,"docos-assignee-select-focus")};m.aXa=function(){Qw(this.H,"docos-assignee-select-focus")};m.We=function(a){return this.Ob()&&2>this.Ob().rc()?!1:hwh.Ta.We.call(this,a)};m.ag=function(a){this.C&&this.C.ud()==e7(this.L).O&&(this.Ob()&&2>this.hh()||hwh.Ta.ag.call(this,a))};function iwh(a){return(a=a.ef())?a.ih():null}
m.ze=function(a){hwh.Ta.ze.call(this,a);var b=a.getElement();b&&(Ow(b,"docos-assignee-select-menu"),"legacy"!=this.D.F&&Ow(b,"docs-gm"),this.O&&a.render(this.D.O))};m.Fl=function(){var a=this.Ob().getElement();Ev(a,"width",this.J.offsetWidth+"px");hwh.Ta.Fl.call(this);var b=parseInt(Fv(a,"top"),10)||0,c=Lv(this.J).x;this.O?(c-=Lv(this.D.O).x,b+=-2):b+=-1;Iv(a,c,b)};function jwh(a){var b=new nl;if(!a.Ob())return b;a.Ob().Me(function(c){b.add(c.ih())});return b}
m.update=function(a,b){if(!jwh(this).equals(new nl(a))||iwh(this)!=b){for(var c=new Hy(this.cb,void 0),d,e=0;e<a.length;e++){var f=a[e];f.getEmail();var h=new kwh(f,this.R,this.cb);f==b&&(d=h);c.Ga(h,!0)}this.ze(c);kz(this,d);P(this.getElement(),1<this.hh())}};m.reset=function(){this.Ob().od();kz(this,null)};function kwh(a,b,c){this.F=a;this.D=b;this.C=c.createElement("div");this.H=gwh(this.D,this.F,this.C);Cy.call(this,this.C,void 0,c,void 0)}v(kwh,Cy);m=kwh.prototype;
m.Ba=function(){kwh.Ta.Ba.call(this);Ow(this.getElement(),"docos-assignee-select-item")};m.Ia=function(){kwh.Ta.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.Aab)};m.ih=g("F");m.Hg=ea("");m.Aab=function(a){a.stopPropagation()};m.Ja=function(){kwh.Ta.Ja.call(this);var a=this.H;a&&f7(this.D.C,a)};function lwh(){mwh(this)}t(lwh,Sa);lwh.prototype.Ex=function(a){xda(this.D.remove(a),a);this.C=null};lwh.prototype.cleanup=function(){this.D.clear();this.C=null};lwh.prototype.iterator=function(){if(!this.C){var a=new Lrh,b=this.D;a.C=[];var c=b.Mf();b=c;var d=a.C;c=c.length;var e=0,f=0;Ta(b,d)&&(b=b.slice(f,f+c),f=0);var h=f;for(f+=c;h<f;){var k=Math.min(h+1E4,f);c=k-h;h=b.slice(h,k);h.splice(0,0,e,0);Array.prototype.splice.apply(d,h);h=k;e+=c}this.C=a}return this.C.qj()};lwh.prototype.qj=function(){return this.iterator()};
function mwh(a){var b=new wsh,c=new Jrh;srh(c);b.C=c;a.D=b;a.C=null};function nwh(a){mwh(this);this.F=a}t(nwh,lwh);nwh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();owh(b,this.F)}};nwh.prototype.get=g("F");function pwh(a,b,c){return new qwh(a,b,c)}function qwh(a,b,c){this.C=rwh(a,b);this.Td=c;this.F=!1;this.D=-1;swh(this,0)}qwh.prototype.N3=g("F");qwh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function rwh(a,b){for(var c=[],d={},e=0;e<b.length;d={HS:d.HS,A7:d.A7},e++){d.A7=b[e];var f=d;var h=new nwh(null);f.HS=h;d.A7.H(a.token,a.M8,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.HS.set(new twh(l,n,r,k.A7.getType(),w,q)):r&&k.HS.set(uwh())}}(d))||d.HS.set(uwh());c.push(d.HS)}return c}function swh(a,b){if(!a.F)if(b>=a.C.length)a.Td(uwh()),a.close();else{a.D=b;var c=a.C[b];bc(a);zda(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&owh(a,b)}}
function owh(a,b){b.isEmpty()?(a.C[a.D].Ex(a),swh(a,a.D+1)):(a.Td(b),b.complete&&a.close())}function vwh(a,b,c){this.token=a;this.M8=b;this.C=c}function twh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}twh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function uwh(){return new twh([],new Ixd(!1),!0,0,!1,void 0)};function wwh(a){this.C=a};function xwh(){this.className="docos-ac-highlighted"}xwh.prototype.Wra=function(a,b,c){zd(b)||c.C&&/^\W/.test(b)?c=null:(b=Ye(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.gx(a,c)};
xwh.prototype.gx=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.gx(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Qn(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Go(b,f)),f=h,h=Go(b,""),b.Lv(f,a),b.Lv(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function ywh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function zwh(a){this.A5b=a}t(zwh,Mbb);function Awh(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.gka=!0;a=new Bwh("\n",null,!0);Orh(a);a.G0a=!1;a.V=null;a.R=null;f=new Cwh(f,k,this);f.R=!0;f.lAa=!1;f.O=!0;f.className="docos-ac";h&&Ocb(f,h,void 0,h);rA.call(this,this,f,a);this.L.Wg=this;this.Ha=c.map(function(n){return new Dwh(n)});this.Oa=new xwh;this.Ppa(Tn(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Pa=l;this.Ea=!1;this.Ca=null}v(Awh,rA);var Ewh=/[\n]$/;m=Awh.prototype;
m.uH=function(a,b,c){var d=this,e=La(),f=this.L.D;this.R&&this.R.jo("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=Fwh(this.L,a),l=Gwh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,B){w=void 0===w?null:w;x=void 0===x?!0:x;B=void 0===B?!1:B;d.isDisposed()||(w=new zwh(new ywh(e,f,n.getType(),h,x,B,w)),w.Uwa=!h,w.qba=r.Gka,c(a,q,w),h=!1)})}else b=pwh(new vwh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new zwh(new ywh(e,f,q.type,
h,q.complete,q.F,q.D));r.Uwa=!h;q.C&&(r.qba=q.C.Gka);c(a,q.rows,r);h=!1}}),this.C=new Hwh(b,this.Pa)}else c(a,[])};function Gwh(a,b,c){return a.Ha.filter(function(d){return d.F(b,c)})}
m.aw=function(a,b){b||(b=new Mbb);Awh.Ta.aw.call(this,a,b);if(b instanceof zwh){this.Ca=b.A5b;var c=Iwh(this,this.Ca,a.length,!1);b=this.Ca;var d=c,e=La()-b.startTime,f=La()-b.J;this.R&&(b.C&&(this.R.jo("dac",e,d.serialize()),this.R.jo("dact",f,d.serialize())),b.D&&(this.R.jo("dacfr",e,d.serialize()),this.R.jo("dacfrt",f,d.serialize())))}else this.Ca=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=Jwh[a])&&h.Lha;b.C=a}else b.C&&0==d&&(h=(h=Jwh[b.C])&&
h.jia,b.C=null);h&&Kwh(b,h,c)}};function Iwh(a,b,c,d){var e=new G$d;e=M(e,1,c).setType(Lwh(b.H));e=M(e,3,b.F);c=M(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(M(c,5,sA(a,a.J)),M(c,6,b.L));return Mrh(c)}function Lwh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}m.ys=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.eP()&&this.Oa.Wra(c,a.data.eP().D,new wwh(a.data.eP().C)))};
m.pA=function(){var a=tA(this)?this.F[sA(this,this.J)]:null,b;this.Ca&&(b=Iwh(this,this.Ca,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=Jwh[a.getType()])&&Kwh(c,a.eha,b);c.C=null}this.Ea=!0;return Awh.Ta.pA.call(this)};m.Sg=function(){if(!this.Ea&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&Jwh[a.C];b&&Kwh(a,b.w9);a.C=null}this.Ea=!1;Awh.Ta.Sg.call(this)};function Mwh(a){return tA(a)?a.F[sA(a,a.J)].getId():null}
m.Ja=function(){Awh.Ta.Ja.call(this);If(this.Ha);this.C&&(this.C.cancel(),this.C=null)};function Bwh(a,b,c,d){this.D=0;wA.call(this,a,b,c,d)}v(Bwh,wA);Bwh.prototype.ag=function(){this.Wg.Ye()&&this.Wg.Sg()};Bwh.prototype.Bg=function(a){this.D=La();return(37===a.keyCode||39===a.keyCode)&&this.Wg.Ye()||38===a.keyCode&&this.Wg.Ye()&&-1===this.Wg.J?(this.Wg.Sg(),!0):Bwh.Ta.Bg.call(this,a)};
Bwh.prototype.AB=function(a,b){var c=null;if(a){c=a.tV();var d=Nwh(this,a.getToken());c={start:c.wk()+d,end:c.yv()+d}}b=Bwh.Ta.AB.call(this,a,b);if(a){d=c.end;var e=this.fl;e&&(uA(e,c.start),vA(e,d));a.s5()}return b};function Nwh(a,b){var c=a.Un();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function Fwh(a,b){return a.Un()-Nwh(a,b)}function Dwh(a){this.D=a}
Dwh.prototype.H=function(a,b,c,d){var e=a.replace(Ewh,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new Owh(q,a)}),h,k,l,n)})};Dwh.prototype.getType=function(){return this.D.getType()};Dwh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function Owh(a,b){this.C=a;this.D=b}m=Owh.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.C.getType()};m.eP=function(){return this.C.eP()};m.tV=function(){return this.C.tV()};m.render=function(a){this.C.render(a)};
m.s5=function(){this.C.s5()};m.getToken=g("D");m.toString=function(){var a=Ewh.test(this.D)?"\n"[0]:"";return this.tV().C+a};function Hwh(a,b){var c=this;this.D=a;this.C=Vo(function(){c.C=null;c.D.close()},b)}Hwh.prototype.cancel=function(){null!==this.C&&(Wo(this.C),this.C=null);this.D.close()};function Cwh(a,b,c){JA.call(this,a,c);this.Ka=!!b}v(Cwh,JA);
Cwh.prototype.Yc=function(){Cwh.Ta.Yc.call(this);Kw(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Jv(this.getElement()),b=this.Ka?-2:-1;Iv(this.getElement(),a.x,a.y+b)}};function Pwh(a){this.C=null;this.D=a}function Kwh(a,b,c){if(c){var d=new vj;bj(d,11,c)}a.D&&a.D(b,void 0,d)}var Qwh={},Jwh=(Qwh[1]={Lha:43002,jia:43004,w9:43006,eha:43E3},Qwh[2]={Lha:43003,jia:43005,w9:43007,eha:43001},Qwh[3]={Lha:43068,jia:43069,w9:43066,eha:43067},Qwh[4]={Lha:43072,jia:43073,w9:43070,eha:43071},Qwh);function Rwh(a,b,c,d){Mn.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new WA(a);Fn(this.F,"input",this.L,!1,this);Swh(this)}v(Rwh,Mn);Rwh.prototype.L=function(){Swh(this)};function Swh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&wo(a.H,String(1==a.J?b:a.D-b))}Rwh.prototype.Ja=function(){Rwh.Ta.Ja.call(this);delete this.C;this.F.dispose();this.F=null};function Twh(a,b){return Uwh(a,b,!1)}function Vwh(a,b){return Uwh(a,b,!0)}function Uwh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?wd(n,h):yd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function Wwh(a,b,c,d,e,f,h){b.getEmail();this.Ac=a;this.D=b;this.cd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(Wwh,A);m=Wwh.prototype;m.ih=g("D");m.getId=g("cd");m.getType=g("L");m.eP=g("H");m.tV=g("J");m.render=function(a){this.C=gwh(this.Ac,this.D,a)};m.s5=ba();m.Ja=function(){var a=this.C;a&&f7(this.Ac.C,a)};function Xwh(a,b){this.C=a;Ywh(this.C);this.D=b}function Zwh(a,b){for(var c=0,d=b-1;0<=d;d--)if($wh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if($wh.has(a[b])){d=b;break}return{text:a.slice(c,d),UH:c,pF:d}}function axh(a,b){for(var c=0,d=b-1;0<=d;d--)if(bxh.has(a[d])&&(0==d||$wh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if($wh.has(a[b])){d=b;break}return{text:a.slice(c,d),UH:c,pF:d}}
function cxh(a,b,c,d,e,f,h,k,l){return a.C.Qn(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,XY(vsh(r))?w=(new eZ(vsh(r))).setSize(96).Wx():w=vsh(r)||null,w=zth(wth(yth(new h7,r.getEmail()).jd(r.getName()),w).Uc(""))):w=null;return{o9a:r,UB:w}}).filter(function(r){return r.UB}).map(function(r,w){var x=r.UB;w=h+w;r=r.o9a.getType();var B=new oT(d,!0),L=c;x.getName()&&(L=dxh(x.getName(),b,L));var X="+"+x.getEmail(),V=$wh.has(b[L.pF]);return new Wwh(a.D,x,w,k,B,new pT(b.slice(0,
L.UH)+X+(V?"":" ")+b.slice(L.pF),L.UH+X.length+1,L.UH+X.length+1),r)});l(n,!q.Yj(),a.C.C)},e)}
function dxh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(exh).filter(function(l){return!!l}),e=b.slice(0,c.pF).split(exh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.pF-a,{text:b.slice(a,c.pF),UH:a,pF:c.pF};f++}return c}
var $wh=new Set([" ","\t","\n"]),bxh=new Set(["@","+"]),exh=/[ ]/;var fxh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
gxh=new nl(["everybody","nobody"]);function hxh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(hxh,A);hxh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Zwh(a,b);var f=ixh(this,b.text);a=cxh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,jxh,f.query.length,k,l)});this.C=a.Yj()?a:null;return!0};
hxh.prototype.F=function(a,b){a=Zwh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||Zc(fxh,a.text.trim().toLowerCase())||gxh.contains(a.text.trim().toLowerCase())?!1:!0};function ixh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:de}:null!=a[2]?{query:a[2],filter:Vwh}:null!=a[3]?{query:a[3],filter:Twh}:null}hxh.prototype.getType=ea(2);hxh.prototype.Ja=function(){delete this.C};var jxh=new Ixd(!1);function kxh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}v(kxh,A);kxh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=axh(a,b);var f=lxh(this,b.text);a=cxh(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,mxh,f.query.length,k,l)});this.C=a.Yj()?a:null;return!0};kxh.prototype.F=function(a,b){a=axh(a,b);return this.D.test(a.text)};
function lxh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:de}:null}kxh.prototype.getType=ea(1);kxh.prototype.Ja=function(){delete this.C};var mxh=new Ixd(!0);var nxh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,oxh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function pxh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Ad(a[b]).replace(/^\W+/,"").toLowerCase();return a};function qxh(a){this.C=new VL(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");Ywh(this.J)}function rxh(a,b){var c=zth(vth(yth(new h7,b).Uc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Qn(b,1,u(a.L,a,b)))}qxh.prototype.L=function(a,b){if(null!==b&&0<b.length&&LT(this.C,a)){b=b[0];var c=null;XY(vsh(b))?c=(new eZ(vsh(b))).setSize(96).Wx():c=vsh(b)||null;b=zth(wth(yth(new h7,a).jd(b.getName()),c).Uc(""));this.C.set(a,b)}delete this.H[a]};
function sxh(a){return a.C.C.next.value||null}function txh(a){return a.F?a.D:null};function uxh(a,b,c){An.call(this,c)}v(uxh,An);function vxh(a){a=a.GJb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function wxh(a,b,c){Z6.call(this,a,b);this.D=c}v(wxh,Z6);wxh.prototype.Ba=function(){this.ib(Kx(vxh,{GJb:this.D}))};wxh.prototype.Ia=function(){wxh.Ta.Ia.call(this);this.setVisible(!1)};wxh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function xxh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;Z6.call(this,a,b);this.Oa=a;this.R=new Fz("",b);var e=this.C.Jj();this.R.YM=e;this.Ga(this.R);this.O=new Fz("",b);this.Ga(this.O);this.V=b.Yb().body;this.D=c;this.H=new qxh(this.Oa);this.Ea=this.Wa=null;this.xa=new hwh(b,this.C,this.Oa,this.D);this.J=(this.dd="legacy"!=this.C.F)?new gS(b):new iS(!1,b);this.Za=!1;this.Ka=!d;c=dw.getInstance();this.Bc=ew(c);this.fc=ew(c);this.wc=ew(c);this.Kb=null;z(y(),"docs-edp")&&(this.Kb=new wxh(a,b,"focused-presenceindicator"));
this.Pb=0;this.Ca=null;this.Bb="Comment draft";this.Ua=this.Kc=null;this.$a=!0;this.ma=!1;this.Cb=this.eb=this.L=this.Qa=this.Pa=null;this.Ha=!1}t(xxh,Z6);m=xxh.prototype;m.Ba=function(){this.Cc(Kx($vh,{Jj:this.C.Jj(),VH:this.C.Ea},void 0,this.qa()))};
m.Cc=function(a){Z6.prototype.Cc.call(this,a);a=this.getElement();var b=this.qa();this.setVisible(!0);this.F=b.bb("docos-input-textarea",a);this.Ka||P(this.F,this.Ka);var c=new XA;c.Va(this.F);this.va(c);this.Ua=b.bb("docos-input-at-reply-message",a);this.Ua.setAttribute("id",this.Bc);this.Pa=b.bb("docos-input-acl-fixer-message",a);this.Pa.setAttribute("id",this.fc);this.Qa=b.bb("docos-input-assignment-message",a);this.Qa.setAttribute("id",this.wc);this.Ea=b.bb("docos-input-assignment-panel",a);c=
this.xa;var d=this.Ea;c.J=d;Qy(c,new Ly(d,9));this.Wa=b.bb("docos-input-assignee-text",a);c=b.bb("docos-input-assignee-select",a);this.xa.Va(c);this.xa.Na(!0);if(c=b.bb("docos-input-assignment-box",a))this.J.Va(c),fS(this.J,this.Wa);c=yxh(this);if(0<c.length){d=!this.D||!this.D.So();var e;d?e=this.C.O:this.D&&(e=this.D.getElement());this.L=new Awh(this.C,this.F,c,new Pwh(this.C.Za),this.C.R||void 0,e||void 0,this.F||void 0,d);this.va(this.L)}if(e=b.bb("docos-input-cancel",a))this.O.Va(e),Kw(e,this.O.Sk());
(a=b.bb("docos-input-post",a))&&this.R.Va(a);this.Kb&&this.D.So()&&(a=this.qa().bb("docos-focusedpresenceindicator-container",this.getElement()),this.Kb.render(a))};function yxh(a){var b=[],c=new fwh(d7(a.Oa),a.qa());c=xuh(a.C)?new Xwh(a.Oa.get("contactStore"),c):null;if(xuh(a.C)){var d=new kxh(c);a.va(d);b.push(d)}d=yuh(a.C).map(function(e){return e.F()});jd(b,d);xuh(a.C)&&(c=new hxh(a.C.Pf,c),a.va(c),b.push(c));return b}
m.Ia=function(){Z6.prototype.Ia.call(this);NIe(this.getElement(),!1);this.eb=new Rwh(this.F,null,2048);this.va(this.eb);this.Cb=new WA(this.F);this.va(this.Cb);a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(this,this.Cb,"input",this.mvb),this.F,"keydown",this.JD),this.F,"keyup",this.uNb),this.F,"keypress",this.tNb),this.O,"action",this.sNb),this.R.getElement(),["click","keypress","keyup"],this.c_a),this.R,"action",this.rRa),this.Ea,"click",this.i1b),this.J,"change",this.k1b),this.J.xl(),"keypress",this.l1b),
this.Ea,["keyup","keypress"],this.j1b),this.xa,"action",this.h1b),this.F,"pointerdown",this.rNb);this.L&&(a7(this,this.L,"update",this.emb),a7(this,this.L,"suggestionsupdate",this.Y_a));this.F[zxh]=u(this.blur,this);this.F[Axh]=u(this.s2b,this);this.O.getElement()&&(a7(this,this.O.getElement(),["click","keypress","keyup"],this.c_a),this.O.Na(!0));if(this.D&&c7(this.D.ud())&&Yuh(this.D.ud())){var a=this.H,b=X6(c7(this.D.ud())).getEmail();b&&!LT(a.C,b)&&rxh(a,b);a.C.isEmpty();a=this.H;b=sxh(this.H);
Zc(a.C.Gd(),b);a.D=b;a.F=!0;this.J.Zb(!0)}this.F.value=this.Ca||"";Hw(this.F,"label",this.Bb);this.Ha=!0;zuh(this.C)&&(xo(this.getElement(),!0),Kw(this.getElement(),"This is the input pane."))};m.rNb=function(a){pi&&tf(73)&&a.target.setPointerCapture(a.pointerId)};m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return this.F?this.F.value:""};
m.setValue=function(a){this.F.value=a};m.isEmpty=function(){return zd(this.getValue())};function B7(a){return!zd(a.getValue())&&!a.Ha}m.re=da("Bb");m.reset=function(a){this.ma||this.isDisposed()||(this.F.value=this.Ca||"",Hw(this.F,"label",this.Bb),this.Ha=!0,kf?Vo(this.zOa,0,this):this.zOa(),C7(this,a),this.F&&(this.F.style.height=""),a||Bxh(this),Cxh(this,"none"))};
function Cxh(a,b){if(a.Ua&&a.Pa&&a.Qa){P(a.Ua,"atReplyMessage"==b);P(a.Pa,"aclFixerMessage"==b);P(a.Qa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Bc;break;case "assignmentMessage":d=a.wc;break;case "aclFixerMessage":d=a.fc}null!=d?Hw(c,"describedby",d):Iw(c,"describedby")}}}m.ready=function(a,b,c){this.isDisposed()||(this.Ha&&(this.Kc=!b&&a||"",this.F.value=a||"",this.Ha=!1),Ow(this.getElement(),"docos-input-typing"),c||this.focus(),C7(this))};
m.blur=function(){this.D&&this.dispatchEvent(new An("b",this.D))};m.focus=function(){kf||Vo(this.qRa,0,this);this.qRa()};m.qRa=function(){this.isDisposed()||Wv(this.F)&&this.F.focus()};m.zOa=function(){this.isDisposed()||Qw(this.getElement(),"docos-input-typing")};
function C7(a,b){var c=Ad(a.getValue());c=!a.Ha&&c!=a.Kc;a.R.Na(!a.ma&&(!a.Ka||c&&!a.isEmpty()));a.Y_a();var d=Dxh(a),e=a.H.D,f=a.H.C.Gd().length;if(a.Ka){var h=a.H;var k=a.getValue(),l=d?X6(d):void 0;d=pxh(oxh,k);k=h.C;h.C=new VL(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];LT(k,q)?h.C.set(q,k.get(q)):rxh(h,q)}l&&(l=af(l.getEmail()),!zd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=sxh(h))?k.getEmail():null;(h.F||l==n)&&l&&LT(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
Exh(a,!1);e=0==f&&h;f=a.C;hZ(f.C)&&Ri(hZ(f.C),31)&&e&&!a.ma&&Ri(f.C,33)&&!f.V&&!f.ma&&(e=f.wj,f=sxh(a.H)?sxh(a.H).getEmail():null,e&&f&&e([f]));e=h&&!a.Za&&a.D&&!a.D.ud().isResolved()&&a.Ka&&(a.D.Uma()||!!Juh(a.D.ud()));Ri(a.C.C,38)&&(e?(a.J.Na(!a.ma),a.xa.Na(!a.ma),a.xa.update(a.H.C.Gd(),d),e=dth(d,a.C,!!Dxh(a)),f=a.xa.getElement(),wo(a.Wa,e),Kw(f,e+". Choose an assignee."),Sw(a.Wa,"docos-input-assignee-text-no-chevron",!Wv(f)),P(a.Ea,!0),Fxh(a,!0)):(Exh(a,!1),a.J.Na(!1),a.xa.reset(),P(a.Ea,!1),
Fxh(a,!1)));a.ma&&xuh(a.C)&&!a.H.C.isEmpty()?Cxh(a,"aclFixerMessage"):a.$a&&xuh(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?Cxh(a,"assignmentMessage"):a.$a?Cxh(a,"atReplyMessage"):Cxh(a,"none"):Cxh(a,"none");(e=txh(a.H))&&a.D?(f=!!Dxh(a),e=dth(e,a.C,f),f=f?"Reassign":"Assign"):a.Za?(e="Save changes",f="Save"):!a.D||a.D.ud().yA()?(e="Post Comment",f="Comment"):a.D.ud().QW()?(e="Assign suggested action item",f="Assign"):(e="Reply to comment",f="Reply");a.R.getElement()&&$6(a.Oa).D.C(a.R.La(),e);wo(a.R.getElement(),
f);Gxh(a);c?(Hxh.contains(a)||(Hxh.add(a),a.dispatchEvent(new uxh(a.D.getId(),1,"pr"))),Ow(a.getElement(),"docos-input-nohide")):(Ixh(a),Qw(a.getElement(),"docos-input-nohide"));b||a.dispatchEvent("s")}function Ixh(a){Hxh.contains(a)&&(Hxh.remove(a),a.dispatchEvent(new uxh(a.D.getId(),0,"pr")))}
m.Y_a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.Ye()&&(this.getElement().setAttribute("aria-autocomplete","list"),tA(this.L)&&this.getElement().setAttribute("aria-activedescendant",Mwh(this.L)))};function Fxh(a,b){if(b=b&&a.D)b=a.D,b=b.So()&&b.TPa;b?(a.C.yy||ce)("docosTodos",u(a.A3b,a)):(a.C.jh||ce)("docosTodos")}m.A3b=function(){this.dispatchEvent("ph")};function Exh(a,b){a.J.Zb(b);a.H.F=b}
function Dxh(a){return a.D&&!a.D.ud().yA()&&Juh(a.D.ud())?c7(a.D.ud()):null}m.c_a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.sNb=function(){this.dispatchEvent("c");this.reset()};m.rRa=function(){if(this.R.isEnabled()){var a=this.H.C.Oe(),b=this.C;if(Ri(b.C,33)&&!b.V&&!b.ma&&!$c(a)&&(b=this.C.Gl)){Cxh(this,"aclFixerMessage");this.ma=!0;C7(this);this.O.getElement()&&this.O.Na(!1);b(a,u(this.Okb,this));return}Jxh(this)}};
m.i1b=function(){this.ma||(Exh(this,!this.J.isChecked()),C7(this))};m.k1b=function(){var a=this.J.isChecked();this.H.F=a;C7(this)};m.l1b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.Zb(a.HC?!1:!0),this.J.dispatchEvent("change"),this.R.focus())};m.j1b=function(a){a.stopPropagation()};m.h1b=function(){this.J.Zb(!0);var a=this.H,b=iwh(this.xa);Zc(a.C.Gd(),b);a.D=b;a.F=!0;C7(this)};
m.Okb=function(a){this.ma&&(this.ma=!1,"continue"==a?Jxh(this):Cxh(this,"atReplyMessage"),this.D.getContext()&&(C7(this),this.O.getElement()&&this.O.Na(!0)))};function Jxh(a){kf&&a.D&&a.D.ud().yA()&&Hf(a.eb);a.dispatchEvent("p");a.reset()}m.s2b=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new An("f",this.D))};function Gxh(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=Tv(a.F).height;return b!=c&&0<d?(Sv(a.F,d+c-b),!0):!1}
m.JD=function(a){Gxh(this)&&this.dispatchEvent("s");this.Pb=a.keyCode;if(13==a.keyCode)Kxh?a.metaKey&&qf&&pi&&Lxh(this,a):Lxh(this,a);else if(27==a.keyCode){nf&&a.preventDefault();if(this.L&&this.L.Ye())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new An("e",this.D));Bxh(this)}a.stopPropagation()};
m.uNb=function(a){Gxh(this)&&this.dispatchEvent("s");var b=this.Pb;this.Pb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Vc){vd(this.getValue(),"\n")?this.JD(a):a.preventDefault();return}this.Vc=!1}a.stopPropagation()};m.tNb=function(a){if(13==a.keyCode&&Kxh)Lxh(this,a);else if(27==a.keyCode){if(this.L&&this.L.Ye())return;this.blur();Bxh(this)}a.stopPropagation()};function Lxh(a,b){if(b.ctrlKey||b.metaKey)a.Vc=!0,a.R.getElement().focus(),a.rRa()}
function Bxh(a){a.V&&(kf&&!tf("9")?a.V.focus():Vo(function(){return a.V.focus()}))}m.mvb=function(){C7(this)};m.emb=function(){C7(this)};m.Ja=function(){Z6.prototype.Ja.call(this);Ixh(this);this.F&&(this.F[zxh]=null,this.F[Axh]=null);delete this.F;delete this.eb;delete this.Cb};var Hxh=new nl,zxh=kf?"onfocusout":"onblur",Axh=kf?"onfocusin":"onfocus",Kxh=qf||jf||nf;of&&tf("530");function Mxh(a,b){b.QW()?a.V+=1:b.yA()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Zj()?(b=Zuh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Nxh(a,b,c,d,e){this.zj=a;this.C=b||null;this.Em=c||null;this.ap=d||null;this.flags=e||null};function Oxh(a,b,c,d){An.call(this,b,a);this.source=c;this.C=d}t(Oxh,An);function Pxh(a,b){this.F=a;this.D=b;this.C=[]}function Qxh(a){return new Oxh(a.F,"bu",a.D,a.C)};function Rxh(){this.D={};this.C={};this.F=0}function Sxh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Txh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Uxh(c,d);a.C[c][d||"$"]=b}Rxh.prototype.bind=function(a,b){if(null!==Sxh(this,a,b))return!1;this.F++;Txh(this,this.F,a,b);return!0};function Vxh(a,b,c){var d=Sxh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Wxh(a,b,c,d,e){var f=Sxh(a,b,c);if(null===f||null!==Sxh(a,d,e))return!1;Vxh(a,b,c||void 0);Txh(a,f,d,e);return!0}
function Xxh(a,b,c){return Sxh(a,b,c)||0}Rxh.prototype.getDocoHandles=function(){for(var a=Nd(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Uxh(a,b){this.C=a;this.D=b||null};function Yxh(){this.D={}}Yxh.prototype.C=function(a){Yuh(a)||(this.H(a),a.oQ()&&(this.D[a.getId()]=!0))};Yxh.prototype.H=function(a){delete this.D[r7(a)];delete this.D[a.getId()]};Yxh.prototype.F=function(){return!Sd(this.D)};function Zxh(a){this.J=a;this.D=new Yxh}Zxh.prototype.C=function(a){this.D.C(a);a=this.J.Lh;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Zxh.prototype.H=function(a){this.D.H(a)};Zxh.prototype.F=function(){return this.D.F()};function $xh(a){Mn.call(this);this.Ca=a;this.C={};this.O=null;this.F={};this.H=[];this.Ha=[];this.Ea={};this.L={};this.D=new Rxh;this.Ka=[];this.V=!1;this.ma=this.J=null;this.Oa=!1;this.xa=new Zxh(this.Ca)}v($xh,Mn);function ayh(a,b){a.Zj();var c="<i>Made a suggestion</i>";(a=a.T1())&&(b=b.Os)&&(b=b(a).C())&&(c=b);return c}function byh(a,b){return"n"!=b&&!Yuh(a)&&a.oQ()}
function cyh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Pxh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=s7(d);h.C.push(new Nxh(b,c,d,e,f));k&&a.dispatchEvent(Qxh(h))}
function y7(a,b,c,d){c=c||"c";var e=dyh(a),f=eyh(a,b.getId(),K(P6(b.C),11)||"");if(f){var h=f.getId(),k=j7(f.C);b=b.C;var l=jj(f.F);P6(b);var n=P6(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!j7(f.C);for(var w=(void 0===K(n,13)||0==K(n,13))&&j7(f.C),x=O6(n),B=!1,L=0;L<x.length;L++){var X=x[L],V=f.D[X.getId()||""]||f.D[K(X,11)||""];B=!1;V||(V=f.J[X.getId()||""]||f.J[K(X,11)||""],B=!!V);if(V){var ca=V.getId();V.update(X);if(ca!=V.getId()&&(delete f.D[ca],f.D[V.getId()]=V,Xxh(f.O,
r,ca)&&!Wxh(f.O,r,ca,r,V.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+V.getId());j7(V)?(delete f.D[V.getId()],f.J[V.getId()]=V,Vxh(f.O,r,V.getId())):B&&!j7(V)&&(delete f.J[V.getId()],f.D[V.getId()]=V,f.O.bind(r,V.getId()))}else V=new Vth(X),j7(V)?(f.J[V.getId()]=V,Vxh(f.O,r,V.getId())):(f.D[V.getId()]=V,delete f.J[V.getId()],f.O.bind(r,V.getId())),V=O6(P6(f.F)),V.push(X),X=P6(f.F),dj(X,8,V)}r=0;void 0!==Ri(b,6)&&Ri(b,6)!=f.isResolved()&&(r=Ri(b,6)?r|2:r|4);q&&!B?r|=16:w&&
(r|=8);dj(n,8,[]);q&&(n.setContent(void 0),bj(n,4,void 0),bj(n,9,void 0));qth(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.sQ=null;gj(f.F,l)||(r|=1);b=r;a.xa.C(f);fyh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],l=Xxh(a.D,h),delete a.Ea[l],a.C[f.getId()]=f,l&&!Wxh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Xxh(a.D,f.getId());j7(f.C)?(delete a.C[f.getId()],Vxh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ea[l]=f),byh(f,c)&&(cd(a.H,f.getId()),cd(a.Ha,
f.getId())),d=evh(dvh("dd"),c),k=f.getId(),d.D=k,k=s7(f),d.Mq=k,d.C=l,d=fvh(d,b),h!=f.getId()&&(d.F=h),a.dispatchEvent(hvh(d))):(k&&(delete a.F[f.getId()],delete a.Ea[l],a.C[f.getId()]=f,(a.Ca.Ha||s7(f))&&a.D.bind(f.getId()),l=Xxh(a.D,f.getId())),0!=b&&(byh(f,c)&&cd(a.H,f.getId()),cyh(a,c,h,f,l,b,d)))}else f=new Vuh(b.C,a.D,b.us?b.us:void 0),a.xa.C(f),j7(f.C)?a.F[f.getId()]=f:gyh(a,f,c,d);dyh(a)!=e&&(e=dyh(a)?32:0,c=hvh(fvh(evh(dvh("p"),c),e)),a.dispatchEvent(c))}
function uvh(a,b,c){for(var d=new Pxh(a,c),e=0;e<b.length;e++)y7(a,b[e],c,d);a.dispatchEvent(Qxh(d))}function lvh(a,b){b.getNewDocoType()||avh(b,"draft");b=new Vuh(b.C,a.D,b.us?b.us:void 0);a.xa.C(b);gyh(a,b)}
function gyh(a,b,c,d){if(Ri(a.Ca.C,38)||!b.isTodo()){c=c||"c";var e=null;b.Yy()&&(e=hyh(a,s7(b)));e&&Yuh(e)?(Wxh(a.D,e.getId(),null,b.getId(),null),pvh(a,e.getId(),c)):(a.Ca.Ha||b.Yy())&&a.D.bind(b.getId());a.C[b.getId()]=b;fyh(a,b);e=8|(b.isResolved()?2:0);byh(b,c)&&cd(a.H,b.getId());var f=Xxh(a.D,b.getId());cyh(a,c,void 0,b,f,e,d)}}
function pvh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Yy()){var e=s7(d);delete a.L[s7(d)]}a.xa.H(d);d=Xxh(a.D,b);delete a.C[b];Vxh(a.D,b);c=evh(dvh("dd"),c);c.D=b;c.C=d;b=fvh(c,16);void 0!=e&&(b.Mq=e);a.dispatchEvent(hvh(b))}}function D7(a,b){var c=null;b&&(c=a.ud(b));a.O=c}function yvh(a,b){b=b.getId();return Zc(a.Ka,w7(a,b))}$xh.prototype.R=function(a){return(this.Ca.Ha||a.Yy())&&(!a.isResolved()||this.V)};function iyh(a){var b=Wd(a.C);Yd(b,a.F);return b}
function jyh(a){var b=new Csh;a=Md(iyh(a));for(var c=0;c<a.length;c++)Mxh(b,a[c]);return Dsh(b)}function kyh(a){function b(d){return d.oQ()}var c=Rc(Md(a.C),b);a=Rc(Md(a.F),b);return c.concat(a)}function dyh(a){return a.Oa?a.xa.F():!1}function lyh(a){for(var b=0;b<a.H.length;b++){var c=a.H[b],d=a.ud(c);d||(d=a.F[c]);if(d&&d.oQ())return!0}return!1}$xh.prototype.ud=function(a){return this.C[a]};function eyh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}
function fyh(a,b){s7(b)&&(j7(b.C)?delete a.L[s7(b)]:a.L[s7(b)]=b)}function hyh(a,b){var c=a.L[b]||null;return c&&s7(c)!=b?(delete a.L[b],null):c}function z7(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function tvh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?n7(a,b):null:null}$xh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function w7(a,b,c){return Xxh(a.D,b,c)}
$xh.prototype.flush=function(a){this.dispatchEvent(hvh(gvh(evh(dvh("f"),"c"),!!a)));this.dispatchEvent(hvh(evh(dvh("af"),"c")))};function myh(a,b){this.C=a;this.D=b};function nyh(a,b,c){this.C=a;this.D=b;this.F=c};function oyh(a,b,c,d){Z6.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new Fz(null);this.F=this.J=this.H=null;this.va(this.D)}t(oyh,Z6);m=oyh.prototype;m.Cc=function(a){Z6.prototype.Cc.call(this,a);this.H=this.qa().bb("like-button-text",a);this.J=this.qa().bb("docos-icon",a);this.F=this.qa().bb("docos-icon-img",a);this.D.Va(this.getElement())};m.Ia=function(){a7(this,this.D,"action",this.mNb);a7(this,this.getElement(),["click","keypress","keyup"],this.lNb);this.update()};m.oRa=da("L");
m.lNb=function(a){a.stopPropagation()};function pyh(a){var b=e7(a.R).ud(a.L);return null!=a.O?n7(b,a.O):b}m.mNb=function(a){a.stopPropagation();a=g7(this.R);var b=pyh(this).Xy();b=!b||1!=i7(b);null!=this.O?a.tf("docos-vote-reply").wb(new nyh(this.L,b,this.O)):a.tf("docos-vote-doco").wb(new myh(this.L,b))};
m.update=function(){var a=pyh(this).Xy(),b=!a||0==Fth(a,1).length&&1!=i7(a);Qw(this.H,"no-votes");!b||Ow(this.H,"no-votes");Rw(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);Rw(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?Ow(this.F,"docos-icon-thumb-black"):1==i7(a)?(Ow(this.J,"current-user-has-up-vote"),Ow(this.F,"docos-icon-thumb-green")):0<Fth(a,1).length&&(Ow(this.J,"post-has-votes-no-current-user-vote"),Ow(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=Fth(a,1),b=i7(a),c=c.length,1==b&&c++);wo(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==i7(a))&&(b="Unlike this"),a=Fth(a,1),0<a.length))for(b=bf(b,"\n"),c&&(b=bf(b,"\n","You")),c=0;c<a.length;c++)b=bf(b,"\n",Y6(uth(N(a[c].C,fZ,1))));this.D.getElement()&&$6(this.R).D.C(this.D.La(),b)};function qyh(a,b,c,d){Z6.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new Fz(null);this.F=null;this.va(this.D)}t(qyh,Z6);m=qyh.prototype;m.Cc=function(a){Z6.prototype.Cc.call(this,a);this.F=this.qa().bb("vote-button-text",a);this.D.Va(this.getElement())};m.Ia=function(){a7(this,this.D,"action",this.qNb);a7(this,this.getElement(),["click","keypress","keyup"],this.pNb);this.update()};m.oRa=da("H");m.pNb=function(a){a.stopPropagation()};
function ryh(a){var b=e7(a.L).ud(a.H);return null!=a.J?n7(b,a.J):b}m.qNb=function(a){a.stopPropagation();a=g7(this.L);var b=ryh(this).Xy();b=!b||1!=i7(b);null!=this.J?a.tf("docos-vote-reply").wb(new nyh(this.H,b,this.J)):a.tf("docos-vote-doco").wb(new myh(this.H,b))};
m.update=function(){var a=ryh(this).Xy();Rw(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==i7(a)?Ow(this.F,"current-user-has-up-vote"):0<Fth(a,1).length&&Ow(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=Fth(a,1);b=i7(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}wo(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==i7(a))&&(b="Remove your +1"),a=Fth(a,1),0<a.length))for(b=bf(b,"\n"),c&&(b=bf(b,"\n","You")),c=0;c<a.length;c++)b=
bf(b,"\n",Y6(uth(N(a[c].C,fZ,1))));this.D.getElement()&&$6(this.L).D.C(this.D.La(),b)};function syh(a){this.C=$6(a)};function tyh(a,b){a=a.ma;if(!a)return null;b=b.Dc(a.getKey());if(!b)return null;a=b.bb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new lm(b,b+a.height)}function uyh(a,b){return(a=vyh(a,b))?new iZ(a.getKey().getId(),a.getValue()):null}
function vyh(a,b){var c=a.J;if(!c)return null;var d=a.ma;if(!d)return null;var e=d.getKey();e=Wd(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=Wuh(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+wyh(h,c,b);if(k>d)return new iZ(h,d-a);a=k}return null}function xyh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Ep('<span class="%s">%s</span>',d,h));c+=h}return c}
function wyh(a,b,c){a=yyh(a,c);if(!a)return 0;a=jo(a).textContent.toLowerCase();return Pga(a,b.toLowerCase())}function yyh(a,b){var c=a.wea();if(!c){var d=zyh();a.Zj()?c=oM(d,ayh(a,b)):a.getContent()?c=oM(d,a.getContent()):c=null}return c}function zyh(){var a=qcc();a.F=de;return new kcc(a)};function Ayh(a,b){return 1==b&&!a.F&&!a.getId()};function Byh(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';
a+=R(Ez({id:"docos-shadow-confirm",content:tw("Delete")},b));a+=R(Ez({id:"docos-shadow-cancel",content:tw("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function Cyh(a,b){Z6.call(this,a,b);this.D=this.J=this.L=this.V=this.Ca=this.R=this.Td=null;this.H=new Fz(null,b);this.Ga(this.H);this.F=new Fz(null,b);this.Ga(this.F);this.vg=this.O=null;this.ma=!1;this.xa=new wz(this);this.va(this.xa);a=g7(a);this.xa.Nb(a.Ra("docos-highlight-doco"),rs,this.P_)}v(Cyh,Z6);var Dyh=null;function Eyh(a,b){Dyh||(Dyh=new Cyh(a,b),Dyh.render());return Dyh}var Fyh={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};m=Cyh.prototype;
m.Ba=function(){this.ib(Kx(Byh,{},void 0,this.qa()))};
m.Ia=function(){Cyh.Ta.Ia.call(this);if(!this.ma){var a=this.qa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Va(a.getElement("docos-shadow-cancel"));this.H.Na(!0);this.F.Va(a.getElement("docos-shadow-confirm"));this.F.Na(!0);this.O=new kB(a.getElement("docos-shadow-contents-wrapper"),a);this.va(this.O);lB(this.O);this.vg=new gx(a.Yb());this.va(this.vg);this.ma=!0}a7(a7(a7(a7(this,this.H,"action",this.Fab),this.F,"action",this.Gab),this.getElement(),
["keyup","keydown"],this.Hab),this.vg,"focusin",this.xx)};m.prompt=function(a,b,c,d,e,f){this.Gb()&&this.vd();if(c!=this.V){var h=Fyh[c];h&&this.qa().Fe(this.L,h);this.V=c}this.Td=b;this.R=a;this.J=e||null;b=Tv(a);Qv(this.D,b);b=Gv(a,"paddingLeft");c=Gv(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?fw(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ca=d.getId(),this.getHandler().listen(d,"rd",this.Iab))};
m.vd=function(){Cyh.Ta.vd.call(this);this.J=this.R=this.Td=null};m.P_=function(){Qv(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();no(this.getElement());this.Gb()&&this.vd()};m.Gab=function(){this.Td&&this.Td();this.P_()};m.Hab=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.P_())};m.Fab=function(){this.P_()};m.Iab=function(a){a.target&&a.target.getId()==this.Ca&&this.R&&P(this.getElement(),!0)};
m.xx=function(a){a=a.target;uo(this.getElement(),a)||this.P_()};function Gyh(a,b,c,d,e,f,h){Z6.call(this,a,d);this.F=a;this.Cb=$6(this.F).R;this.Pf=new syh(a);this.O=b;this.H=e;this.Fg=h||"";this.Wd=u(this.oab,this);this.D=null;this.Uc(f||"root");this.Pa=c;this.Kb=!0;this.Wa=2;this.Ve=!1;this.ge=this.F.get("relativeDateFormatter");this.Kc=this.Qa=this.Ea=this.Oa=this.Od=this.Ua=this.Za=this.$a=this.dd=this.wc=this.Vc=this.fc=this.xa=this.wf=this.Pb=this.Bb=this.Ca=this.Ae=this.R=this.L=this.J=this.V=this.ma=this.Ka=this.Bc=this.Ha=null;this.eb=new kcc(pcc(["data-rawHref"]));
a7(this,this.ge,"oj",u(this.ZQa,this,!0))}v(Gyh,Z6);var Hyh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Iyh=/[\n-\x0B]/g;m=Gyh.prototype;m.ud=function(){return e7(this.F).ud(this.O)};function Jyh(a){return n7(a.ud(),a.getId())}function E7(a){return F7(a)?a.ud():Jyh(a)}
m.Ba=function(){var a=this.qa(),b=E7(this),c=b.Rv(),d=Kyh(this),e=Lyh(this);if(F7(this)&&Xth(this.ud().C)){var f=Ad(Xth(this.ud().C));f=f.replace(Iyh,"<br>").replace(Hyh," ");var h=oM(this.eb,f)}else h=null;f="legacy"!=this.C.F;b=Kx(Wvh,{author:c.getName(),Rka:e||"",Be:this.Fg,So:this.Pa,gla:Myh(this),Vl:G7(this),eta:d,FA:F7(this),Zj:b.Zj(),t6b:h?h:"",pwa:Nyh(this),kI:Oyh(this),EW:!!E7(this).RA(),Jj:this.C.Jj(),tda:this.C.tda(),Usa:this.C.Usa(),timestamp:Pyh(this),Z9a:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",
En:f},void 0,a);this.ib(b);d=a.bb("docos-accept-suggestion",b);h=a.bb("docos-reject-suggestion",b);this.fc=a.bb("docos-body-action-text",b);this.wc=a.bb("docos-anchoredreplyview-buttonholder",b);this.Oa=a.bb("docos-author",b);if(d&&h){this.ma=new Fz(null,a);var k=this.C.Jj();this.ma.YM=k;this.va(this.ma);this.V=new Fz(null,a);this.va(this.V);this.ma.Va(d);this.V.Va(h)}if(k=a.bb("docos-replyview-resolve-button",b)){this.J=new Fz(null,a);var l=this.C.Jj();this.J.YM=l;this.va(this.J);this.J.Va(k)}(k||
d&&h)&&Qyh(this);d=this.qa();h=d.bb("docos-vote-button",b);k=d.bb("docos-like-button",b);if(h||k)h?(this.R=new qyh(this.F,this.O,d,F7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(h)):k&&(this.R=new oyh(this.F,this.O,d,F7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(k));d=a.bb("docos-overflowmenu-outer",b);(G7(this)||Myh(this)||F7(this))&&d&&(f=Kx(Vvh,{Jh:"docos-icon-overflow-three-dots",wA:"docos-icon-overflow-three-dots-size",rQ:f}),a.appendChild(d,f),Ev(d,"visibility",""),f=[],G7(this)&&
(f=f.concat(["edit"])),Myh(this)&&(f=f.concat(["delete"])),F7(this)&&(this.C.Bc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new Auh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Va(d));this.Ha=a.bb("docos-replyview-body",b);this.Ae=a.bb("docos-streamreplyview-text",b)||this.Ha;this.Ca=a.bb("docos-collapsible-replyview",b);this.Bb=a.bb("docos-replyview-timestamp",b);F7(this)&&Xth(this.ud().C)&&(this.xa=a.bb("docos-replyview-quote",b),this.$a=a.bb("docos-replyview-quote-expand",
b),this.Ua=a.bb("docos-replyview-quote-collapse",b));(this.Pb=a.bb("docos-show-less",b))&&Ryh(this);this.wf=a.bb("docos-show-more",b);this.Od=a.Ph("docos-replyview-static",b);G7(this)&&this.D&&Syh(this);(G7(this)||Myh(this))&&(this.Za=a.bb("docos-replyview-control",b))&&P(this.Za,!this.ud().isResolved());this.Ea=dW(a,"IMG","docos-replyview-avatar",b);if(f=a.bb("docos-user-presence",b))d=this.C,c=(h=d.dd)&&c.getId()?h(c.getId()):(d=d.gD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Qa=
a.bb("docos-replyview-origin",b);Tyh(this);e&&(this.Ka=e,Uyh(this,Ae(e)),Vyh(this),Wyh(this));Xyh(this)};
function Xyh(a){if(zuh(a.C)){var b={AUTHOR_NAME:E7(a).Rv().getName(),CREATION_TIME:Pyh(a)};if(a.Ha.textContent)if(Oyh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ha.textContent;b.ACTION_TEXT=Oyh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ha.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Oyh(a);c=(new lA(c)).format(b);Kw(a.getElement(),c)}}
function Yyh(a){var b=a.ud();if(b)if(b.isResolved()){if(b=a.H,b.V&&P(b.V,!1),b=a.ud())b.Zj(),a.EB(!1,pth(a.H))}else a.dispatchEvent("br"),b=a.H,b.V&&P(b.V,!1),(b=a.ud())&&(b.Zj()?a.h_():a.EB(!0,pth(a.H))),a.dispatchEvent("ar")}function Zyh(a){a.D||(a.D=new xxh(a.F,a.qa(),a.H),a.va(a.D),a.Ga(a.D),a.D.Ca="Edit your comment...",a.D.$a=!1,a7(a7(a7(a,a.D,"p",a.mac),a.D,"c",a.MDa),a.D,"s",a.pab),a.getElement()&&Syh(a))}
function Syh(a){var b=a.qa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Pa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):F7(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=Oyh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");d=Kx($vh,{Be:c,VGa:d,mla:e,kI:f,Jj:a.C.Jj(),VH:a.C.Ea});c=a.getElement();e=b.bb("docos-edit-pane-placeholder",c);b.vB(d,e);a.D.Va(d);a.D.setVisible(!1);d=a.H.getElement();a.D.V=d;a.Vc=b.bb("docos-edit-pane-action-text",c)}
m.Q3b=function(a){a&&a.stopPropagation();Yyh(this)};
m.Ia=function(){Gyh.Ta.Ia.call(this);a7(this,this.getElement(),["click","keypress","keyup"],this.qab);this.xa&&(a7(a7(this,this.Ua,"click",this.C_a),this.$a,"click",this.C_a),$yh(this));this.J&&a7(this,this.J,"action",this.Q3b);this.ma&&this.V&&a7(a7(a7(this,this.ma,"action",this.Z0b),this.V,"action",this.P3b),this.C,"r",this.rab);this.L&&a7(a7(a7(this,this.L,"d",this.N1b),this.L,"e",this.sab),this.L,"ra",this.H3b);var a=E7(this).Rv();azh(this,a);this.Oa&&bzh(this,a);czh(this,a);this.D&&(a=this.H.getElement(),
this.D.V=a);this.collapse();zuh(this.C)&&xo(this.getElement(),!0)};m.rab=function(){Qyh(this)};
function Qyh(a){var b=a.ud();if(b){var c=E7(a);if(c){var d=c.Zj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.FG())return;d=a.C.H;d=c.Zj()&&"full"==d.C&&yvh(e7(a.F),b)&&!a.C.ma;var e=a.C.H;b=c.Zj()&&(huh(e,c)||"full"==e.C)&&yvh(e7(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&$6(a.F).D.C(a.ma.getElement(),e);a.V.getElement()&&$6(a.F).D.C(a.V.getElement(),f);a.ma.Na(d);a.V.Na(b)}else Juh(b)?
(c=!0,a.J.Na(!1),P(a.J.getElement(),!1)):(c=Kyh(a),a.J.Na(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":e7(a.F).V?"Mark as resolved":"Mark as resolved and hide discussion",a.C.tda()||wo(a.J.getElement(),d),a.J&&a.J.getElement()&&$6(a.F).D.C(a.J.La(),b));!a.wc||null!==a.dd&&a.dd==c||(P(a.wc,c),a.dd=c)}}}}function dzh(a){var b=U6(T6(S6(a.H.getId()),a.H.Za)),c=g7(a.F);c.tf("docos-before-highlight-doco").wb(b);D7(e7(a.F),a.H.getId());c.tf("docos-highlight-doco").wb(b)}
m.sab=function(){dzh(this);ezh(this)};m.N1b=function(){dzh(this);F7(this)?this.H.tZa():fzh(this)};m.H3b=function(a){dzh(this);this.dispatchEvent(new hth("ra",this.O));a.stopPropagation()};function azh(a,b){var c=b.C,d=d7(a.F);a.Ea&&Ayh(b,E7(a).getOrigin())&&(c=Kvh(d),Ow(a.Ea,"docos-avatar-unverified"),a.C.D.C(a.Ea,"Author from imported document"));mth(d,a.Ea,c,Y6(b))}function bzh(a,b){(b=b.getName())?(b=oM(a.eb,b),Ie(a.Oa,b)):(b=oM(a.eb,""),Ie(a.Oa,b))}
function czh(a,b){if(b=b.getName())a.Oa&&a.C.D.C(a.Oa,b),a.Ea&&a.C.D.C(a.Ea,b)}function gzh(a,b){a.J&&a.qa().oi(a.J.getElement(),b);a.ma&&a.V&&(a.qa().oi(a.ma.getElement(),b),a.qa().oi(a.V.getElement(),b));a.L&&a.L.ah(b);a.R&&a.qa().oi(a.R.getElement(),b)}function hzh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.Vk()&&this.Kb&&$yh(this);var a=this.D&&G7(this)&&B7(this.D),b=Lyh(this),c=Ae(b),d=!this.Ka||Ae(this.Ka)!=c;d&&(this.Ka=b,Ie(this.Ha,b),Wyh(this));Vyh(this);Uyh(this,c);F7(this)||this.dispatchEvent(new b7(this.getId()));G7(this)&&this.Za&&!a&&P(this.Za,!this.ud().isResolved());b=E7(this).Rv();azh(this,b);this.Oa&&bzh(this,b);czh(this,b);Tyh(this);if(this.Pa&&!a){switch(this.Wa){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.Vk()?this.expand():this.collapse()}Ryh(this)}this.ZQa();
d&&(this.D&&this.D.Gb()&&this.D.reset(!0),this.MDa());Qyh(this);this.R&&this.R.update();this.L&&this.L.update();Xyh(this)};m.zz=function(){if(this.Bc){var a=izh(this,this.Bc);a.Oo()!=this.Ka.Oo()&&(this.Ka=a,Ie(this.Ha,this.Ka),Wyh(this))}};function Lyh(a){var b=E7(a),c=b.wea();if(!c){c=b.getContent();var d=b.rua();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Zj()&&(c=ayh(b,a.C));c=oM(a.eb,c)}a.Bc=c;return izh(a,c)}
function izh(a,b){var c=e7(a.F),d=c.J;if(!d)return b;a=(c=uyh(c,a.C))&&c.getKey()==E7(a).getId()?c.getValue():void 0;c=zyh();var e=ho("DIV");e.appendChild(jo(oM(c,Ve(d))));d=e.innerHTML;e.replaceChild(jo(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new lm(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new lm(f,r)),f=r):k||((w=yd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new lm(f,r+1)),h=xyh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=xyh(q,b,h);h+=b.slice(f,b.length);return oM(c,h)}m.ZQa=function(a){if(this.Bb){var b=Pyh(this);b&&(a&&(this.Bb.textContent=b),a=E7(this),F7(this)||this.Pa||a.ox().equals(a.gP())||(this.Bb.textContent=b))}};function Pyh(a){var b=a.ge,c=E7(a),d=c.ox();return d?a.Pa||F7(a)||!(a=c.gP())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return Wv(this.getElement())};m.pab=function(a){this.dispatchEvent(new b7(this.O));a.stopPropagation()};function fzh(a){var b=a.getElement();b&&(a.C.Bb?(b=a.C.eb,b(function(){return a.Wd()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):Eyh(a.F,a.qa()).prompt(b,a.Wd,"delete-reply",a,a.H.getElement(),!a.Pa))}
m.qab=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!F7(this)&&Nw(c,"docos-replyview-delete")&&b?(fzh(this),a.stopPropagation(),a.preventDefault()):Nw(c,"docos-replyview-edit")&&b?(ezh(this),a.stopPropagation(),a.preventDefault()):Nw(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new b7(this.O)),this.Pb.focus()):Nw(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new b7(this.O)),this.wf.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&uo(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function jzh(a,b){var c=a.ud();if(!c||yvh(e7(a.F),c)){var d=E7(a);d&&d.FG()&&(c=a.C.J[b])&&(a=w7(e7(a.F),a.O))&&(d=d.Yy&&d.Yy()&&!d.isResolved()?s7(d):void 0,b=(new W6(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}m.h_=function(){var a=this.ud();a&&a.Zj()&&jzh(this,"before-suggestion-accepted")};
m.Z0b=function(){var a=La();this.h_();this.Cb&&this.Cb.jo("dsabb",La()-a)};m.EB=function(a,b){var c=this.ud(),d=this.H;d.D&&B7(d.D)&&d.D.setValue("");c&&!c.Zj()&&c.isResolved()!=a&&g7(this.F).tf("docos-resolve-doco").wb(new jth(this.O,a,b||null))};m.P3b=function(){var a=La();jzh(this,"before-suggestion-rejected");this.Cb&&this.Cb.jo("dsrbb",La()-a)};m.expand=function(){E7(this).Zj()||(Qw(this.Ca,"docos-collapsed-replyview"),this.Wa=150>=this.Ca.offsetHeight?2:1,Ryh(this))};
m.collapse=function(){!E7(this).Zj()&&this.Pa&&(Qw(this.Ca,"docos-collapsed-replyview"),150>=this.Ca.offsetHeight?this.Wa=2:(this.Wa=0,Ow(this.Ca,"docos-collapsed-replyview")),Ryh(this))};function Ryh(a){if(!E7(a).Zj()){var b=1==a.Wa;b!=a.Ve&&(a.Pb.style.display=b?"block":"none",a.Ve=b)}}function F7(a){return"root"==a.getId()}function Myh(a){var b=E7(a);return b?juh(a.C.H,b)&&!a.C.ma:!1}function G7(a){var b=E7(a);return b?iuh(a.C.H,b):!1}function Kyh(a){var b=a.ud();return b?kuh(a.C.H,b):!1}
m.oab=function(){g7(this.F).tf("docos-delete-reply").wb({zj:this.O,xxa:this.getId()})};function ezh(a){G7(a)&&(Zyh(a),kzh(a,!1),a.Ca&&a.expand(),a.D.setVisible(!0),a.D.Za=!0,a.D.ready(E7(a).$z()))}m.MDa=function(){G7(this)&&(kzh(this,!0),this.Ca&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.Za=!1))};
m.mac=function(){if(G7(this)){Zyh(this);var a=g7(this.F),b=this.D.getValue();zd(b)||(F7(this)?a.tf("docos-edit-doco").wb({id:this.O,text:b,qna:this.D}):(b={zj:this.O,xxa:this.getId(),text:b,qna:this.D},a.tf("docos-edit-reply").wb(b)))}};function kzh(a,b){for(var c=0;c<a.Od.length;++c)P(a.Od[c],b)}
m.C_a=function(){var a=Nw(this.xa,"docos-replyview-quote-collapsed");P(this.$a,!a);P(this.Ua,a);this.Kb=!a;a?Uw(this.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):Uw(this.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function $yh(a){!a.xa||0>=Tv(a.xa).height||(Uw(a.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<Tv(a.xa).height?(P(a.$a,!0),P(a.Ua,!1),Uw(a.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.$a,!1),P(a.Ua,!1)),a.Kb=!0)}m.vd=function(){Gyh.Ta.vd.call(this);f7(d7(this.F),this.Ea)};function Tyh(a){var b=Nyh(a);b?(b=oM(a.eb,b),Ie(a.Qa,b),P(a.Qa,!0)):P(a.Qa,!1)}
function Nyh(a){var b=E7(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=hZ(a.C)&&Ri(hZ(a.C),33)&&b.Nsa()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function Oyh(a){var b=a.Pf;var c=E7(a),d=a.ud();c&&d?(a=c.vea(),0==a&&c7(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.RA(),c=(d=Juh(d))&&d.getId()!=c.getId(),a=X6(a),b=cth(a,b.C,!0),b=c?(new lA("Reassigned to {user}")).format({user:b}):(new lA("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Uyh(a,b){b=-1==je(b,!0);if(null===a.Kc||b!=a.Kc)NIe(a.Ae,b),a.Kc=b}
function Vyh(a){var b=Oyh(a);a.fc&&wo(a.fc,b);a.Vc&&wo(a.Vc,b)}function Wyh(a){if(a.C.Pb)for(var b=Un("A",a.Ha),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Af(d,In,a.u1b)}}m.u1b=function(a){AIe(this.C.Pb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};function H7(a,b,c,d,e){A7.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new Gyh(a,b,this.So(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Kb=u(this.hab,this);this.Bc=jvh(a);this.Ka="docos-docoview-input-pane";this.Pb="";zuh(this.C)&&(a=new Zz(this),this.va(a),a.Qi("up",38),a.Qi("down",40),this.getHandler().listen(a,"shortcut",this.Pqb))}v(H7,A7);m=H7.prototype;m.IFa=!1;
function lzh(a){a.D||(a.D=new xxh(a.getContext(),a.qa(),a),a.va(a.D),a.D.Ca="Reply...",a.D.re("Reply"),a.yya(),a.getElement()&&mzh(a))}m.Pqb=function(a){switch(a.identifier){case "down":a=nzh(this);var b=ozh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=nzh(this),b=ozh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function nzh(a){var b=Wuh(a.ud(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function ozh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.qa(),f=Jo(e);if(d==f||e.contains(d,f))return c}return-1}
function mzh(a){var b=a.qa(),c=Kx($vh,{Be:a.Ka,VGa:"",mla:a.Pb,kI:"",Jj:a.C.Jj(),VH:a.C.Ea}),d=a.getElement(),e=b.bb("docos-input-pane-placeholder",d);b.vB(c,e);a.D.Va(c);a.D.V=d}m.yya=function(){this.D&&a7(a7(a7(a7(a7(this,this.D,"p",this.nab),this.D,"c",this.lab),this.D,"b",this.jab),this.D,"e",this.mab),this.D,"s",this.mU)};
m.Ba=function(){H7.Ta.Ba.call(this);var a=this.getElement(),b=this.qa();this.D&&mzh(this);Fw(a,"listitem");this.fc=b.bb("docos-docoview-replycontainer",a);this.Vc=b.bb("docos-docoview-rootreply",a);this.F.render(this.Vc);pzh(this)};m.Ia=function(){H7.Ta.Ia.call(this);a7(this,this.getElement(),["keydown","keypress","keyup"],this.iab);if(this.D){var a=this.getElement();this.D.V=a}xo(this.getElement(),!0)};m.Hb=g("fc");
m.Uc=function(a){H7.Ta.Uc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&Cuh(b.L,a);b.R&&b.R.oRa(a)}};m.So=ea(!1);m.HFa=function(a){if(!Nw(a.target,"docos-noclick")){var b=g7(this.getContext()),c=T6(S6(this.getId()),this.Za);b.tf("docos-before-highlight-doco").wb(U6(c));D7(e7(this.R),this.getId());b.tf("docos-highlight-doco").wb(U6(Rsh(c)));this.ma=!0;this.bVa(a)}};m.bVa=ta;
m.iab=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&Q5a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&luh(this.C.H)&&this.ma&&(lzh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.tZa=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ud().Zj())this.Kb("suggestion");else if(b){var c=function(){return a.Kb("discussion")};this.C.Bb?(0,this.C.eb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):Eyh(this.getContext(),this.qa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function pzh(a){for(var b=Wuh(a.ud()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new Gyh(a.getContext(),a.getId(),a.So(),a.qa(),a,e);a.vf(f,jw(a,c)+1,!0);c=a.H[e]=f}}}m.nab=function(){if(this.D){var a=this.D.getValue(),b=txh(this.D.H);b=b?Cth(b):void 0;if(!zd(a)){var c=w7(e7(this.getContext()),this.getId());this.dispatchEvent(new ith("sr",this.getId(),s7(this.ud()),c,a,void 0,b))}}};m.lab=function(){mvh(this.Bc,Suh(Ruh(Quh(Puh(43012),this.ud().getId()),s7(this.ud()))))};
m.jab=function(){this.Vk()&&(this.ma=!0)};m.mab=function(){this.Vk()&&(this.ma=!0)};m.focus=function(){lzh(this);var a=this.Vk();a&&Wv(this.getElement())&&luh(this.C.H)&&(this.ma=!0);if(a){var b=this.qa();a=Jo(b);(kf&&!a||!b.contains(this.getElement(),a))&&Vo(function(){this.Gb()&&!b.contains(this.getElement(),Jo(b))&&this.getElement().focus()},0,this)}};
function qzh(a){var b=a.ud();if(b){var c=null,d;b:{for(d=jw(a,a.F);d<a.rc();d++){var e=a.tc(d);if((e=e==a.J?null:e)&&2==(Jyh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.rc();d++)if(e=a.tc(d),e=e==a.J?null:e){if(2!=(Jyh(e)||b).getOrigin())break;P(e.Qa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Qa,!0)}}
m.update=function(){var a=this.ud();this.F.update();this.re(a.Rv(),c7(a)||void 0);pzh(this);for(var b in this.H){var c=this.H[b];n7(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.IFa&&(this.IFa=a.isResolved(),lzh(this),b=a.isResolved()?"Adding a comment will re-open this discussion...":"Reply...",this.D.Ca=b,this.D.re(a.isResolved()?"Adding a comment will re-open this discussion":"Reply"),!a.isResolved()&&B7(this.D)||this.D.reset(!0));cwh(this);!this.Vk()&&
this.D&&this.D.blur();qzh(this);a=this.Qa;b=this.getElement();a.C&&b&&a.F&&(Uv(b).contains(new Zl(a.H,a.J))||Tvh(a,!1))};m.hab=function(a){this.dispatchEvent("bd");g7(this.getContext()).tf("docos-delete-doco").wb({Em:s7(this.ud()),zj:this.getId(),ap:w7(e7(this.getContext()),this.getId()),mR:a})};function rzh(a){g7(a.getContext()).tf("docos-resolve-doco").wb(new jth(a.getId(),!1,null))}function pth(a){return a.D&&B7(a.D)?a.D.getValue():null}
function szh(a){var b=a.getContext(),c=a.ud();c&&x7(jvh(b),q7(p7(o7(43045),c)));a=a.getId();g7(b).tf("docos-speak-doco").wb(a)}m.Ja=function(){H7.Ta.Ja.call(this);delete this.fc;delete this.H;delete this.D};function tzh(a,b){Z6.call(this,a,b);this.D=!1}v(tzh,Z6);tzh.prototype.Ba=function(){var a=this.qa();this.ib(Kx(Yvh,{},void 0,a));this.F=a.bb("docos-showrepliesbutton-collapsed",this.getElement())};tzh.prototype.setVisible=function(a){a!=this.D&&this.Gb()&&(P(this.getElement(),a),this.D=a)};tzh.prototype.isVisible=g("D");tzh.prototype.Ja=function(){tzh.Ta.Ja.call(this);delete this.F};function uzh(a,b,c,d,e){H7.call(this,a,b,c,d,e);this.Ca=!0;this.J=this.L=null;this.Ha=new kth(a,d,b,this);this.Oa=this.eb=this.V=null;this.Ua=new Zz(this);this.va(this.Ua);b=this.Ua;b.Qi("backToDocument",85);b.Qi("resolve",69);b.Qi("blur",27);b.Qi("next",74);b.Qi("next",Fs(["N","C"]));b.Qi("prev",75);b.Qi("prev",Fs(["P","C"]));b.Qi("speakComment",Fs(["A","C"]));b.Qi("reply",82);this.getHandler().listen(this.Ua,"shortcut",this.hNb);this.getHandler().listen(this,"rd",this.iNb);this.Wa=!1;this.Ka+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Bb=null;z(y(),"docs-edp")&&(this.Bb=new wxh(a,d,"unfocused-presenceindicator"));this.Kc="legacy"!=this.C.F;this.Ea=null}t(uzh,H7);m=uzh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&e7(this.R).J&&this.zz();H7.prototype.setVisible.call(this,a)};m.zz=function(){this.F.zz();for(var a in this.H)this.H[a].zz()};m.Uc=function(a){H7.prototype.Uc.call(this,a);this.Ha&&this.Ha.Uc(a)};m.So=ea(!0);m.nO=function(){return this.ud()?s7(this.ud()):null};
m.Ba=function(){H7.prototype.Ba.call(this);var a=this.qa(),b=this.getElement();this.V=a.bb("docos-replyview-control",b);this.eb=a.bb("docos-anchoreddocoview-internal",b);this.Oa=a.bb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ud(),d=!!c&&kuh($6(this.getContext()).H,c);Sw(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=c7(c))a=a.bb("docos-anchoreddocoview-assigneecontainer",b),this.Ha.render(a),vzh(this,c);this.D&&(a=this.getElement(),
this.D.V=a);this.Bb&&(a=this.qa().bb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Bb.render(a))};m.Ia=function(){H7.prototype.Ia.call(this);var a=this.ud();a&&c7(a)&&this.vf(this.Ha,jw(this,this.F));cwh(this);2<=Kd(this.ud().D)&&(a=wzh(this))&&xzh(this,a);this.iZ(!0);qzh(this);yzh(this);a7(a7(this,this,"show",this.kVa),this,"hide",this.jVa)};
m.vd=function(){var a=this.ud();if(a)if(this.D&&B7(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Gc(this,"show",this.kVa);this.getHandler().Gc(this,"hide",this.jVa);H7.prototype.vd.call(this)};m.ah=function(a){this.qa().oi(this.getElement(),a)};function zzh(a,b){gzh(a.F,b);for(var c in a.H)gzh(a.H[c],b)}m.jNb=function(){var a=new Msh(this.getId(),this.Za),b=g7(this.getContext());b.tf("docos-before-highlight-doco").wb(a);D7(e7(this.R),this.getId());b.tf("docos-highlight-doco").wb(a)};
m.iNb=function(){this.O=null;if(ewh(this)){var a=this.Oa.scrollHeight>this.Oa.offsetHeight,b=this.getElement();a&&!this.Ea&&b?(this.Ea=new XK(b),a7(this,this.Ea,"mousewheel",this.aIb)):!a&&this.Ea&&(this.Ea.dispose(),this.Ea=null);a=a?u4a():0;b=this.Kc?282:240;Rv(this.getElement(),b+a);Rv(this.Oa,b+a)}};m.kVa=function(a){a.target instanceof Hy&&(Ow(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.jVa=function(a){a.target instanceof Hy&&(Qw(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.G8=ea(!0);m.update=function(){H7.prototype.update.call(this);var a=this.Vk();this.Vk()?this.L||this.C.Kb||(this.L=new kB(this.getElement(),this.qa()),this.va(this.L),lB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Wa&&Azh(this);this.Wa=a;yzh(this);if(a=c7(this.ud()))this.Ha.update(),vzh(this,a);this.Ca&&Bzh(this)};
function yzh(a){var b=a.ud();null!=b.R&&(lzh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.Ca){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.Ca=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.iZ(!0);qzh(this)};
m.collapse=function(){if(!this.Ca){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.Ca=!0;this.O=null;if(a=wzh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.Hb().style.maxHeight="",xzh(this,a),this.iZ(!0),qzh(this)}};m.yya=function(){H7.prototype.yya.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.iZ,this,!0)),this.getHandler().listen(this.D,"e",this.RLa),this.getHandler().listen(this.D,"f",this.jNb))};
function wzh(a){var b=$6(a.getContext()).Gs;a=ewh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function xzh(a,b){var c=a.getElement(),d=Kd(a.ud().D);if(!(2>d||c.offsetHeight<b)){var e=jw(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new tzh(a.getContext(),a.qa()),a.va(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.vf(a.J,f+e);var h=a.J;h.F&&wo(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.tc(l+e).setVisible(!1)}}}
function Bzh(a){var b=a.Xc();a.Ca&&a.expand();a.collapse();var c=a.Xc();fm(b,c)||a.dispatchEvent(new b7(a.getId()))}m.iZ=function(a){var b=ewh(this);b&&(lzh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.Hb().style.maxHeight=b+"px":this.Hb().style.maxHeight="",a&&(this.eb.scrollTop=this.eb.scrollHeight))};
m.hNb=function(a){var b=g7(this.getContext());switch(a.identifier){case "backToDocument":b.tf("docos-back-to-document").wb({zj:this.getId()});break;case "resolve":Yyh(this.F);break;case "blur":this.RLa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":szh(this);break;case "reply":this.D.focus()}};m.RLa=function(){var a=g7(this.getContext());a.tf("docos-before-highlight-doco").wb(R6());D7(e7(this.R),null);a.tf("docos-highlight-doco").wb(R6())};
m.focus=function(){H7.prototype.focus.call(this);this.Wa=this.Vk();Azh(this)};function Azh(a){lzh(a);B7(a.D)||a.Wa||a.D.reset(!0);a.Vk()&&(a.expand(),a.jea());a.iZ(!0);a.dispatchEvent(new b7(a.getId()))}m.YR=function(a){H7.prototype.YR.call(this,a);this.iZ(!1)};m.Ja=function(){H7.prototype.Ja.call(this);delete this.Ua;this.J&&delete this.J;delete this.V};function vzh(a,b){var c=a.xa;c&&(a=$sh(b,a.C),Rw(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),Ow(c,a))}
m.aIb=function(a){this.Vk()&&a.stopPropagation()};function Czh(a,b,c,d,e){this.us=a;this.Re=void 0===b?null:b;this.L6a=void 0===c?null:c;this.fga=void 0===d?null:d;this.vcc=void 0===e?!1:e}m=Czh.prototype;m.getNewDocoType=g("us");m.getText=g("Re");m.getAssigneeEmail=g("L6a");m.getOriginatingDocoType=g("fga");m.getWasSmartTodo=g("vcc");function Dzh(a,b,c,d){return Czh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(Dzh,Czh);function I7(a,b,c,d,e,f,h){A7.call(this,a,b,c,e,f);this.Mq=d;this.Ha=this.Ua=null;this.D=new xxh(a,this.qa(),this,h);this.Ga(this.D);this.Uc(b)}v(I7,A7);m=I7.prototype;m.Ba=function(){this.Ha=new Zz(this.getElement());this.va(this.Ha);var a=this.Ha;a.Qi("backToDocument",85);a.Qi("blur",27);a.Qi("next",74);a.Qi("next",Fs(["N","C"]));a.Qi("prev",75);a.Qi("prev",Fs(["P","C"]));a.Qi("reply",82)};
m.Ia=function(){I7.Ta.Ia.call(this);this.getHandler().listen(this.D,"p",this.BVa).listen(this.D,"c",this.Rva).listen(this.D,"s",this.mU).listen(this.D,"b",this.dab).listen(this.D,"e",this.Rqa).listen(this.D,"f",this.fab);this.getHandler().listen(this.Ha,"shortcut",this.eab);var a=this.getElement();this.D.V=a;this.Ua=new kB(this.getElement(),this.qa());this.va(this.Ua);lB(this.Ua)};m.ygb=function(a,b,c,d,e){g7(this.getContext()).tf("docos-convert-doco").wb({zj:a,Em:b,ap:c,JUa:d,mR:e})};
m.BVa=function(){var a=this.Tma()?this.Tma().getEmail():void 0,b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0,c=this.S$();var d=this.ud().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new Dzh(c,a,b,1==d);c=w7(e7(this.getContext()),this.getId());Vo(u(this.ygb,this,this.getId(),this.nO(),c,a,b))};m.xgb=function(a,b,c,d){g7(this.getContext()).tf("docos-delete-doco").wb({zj:a,Em:b,ap:c,mR:d})};
m.Rva=function(){var a=w7(e7(this.getContext()),this.getId()),b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0;Vo(u(this.xgb,this,this.getId(),this.nO(),a,b))};m.So=ea(!0);m.nO=g("Mq");m.Uma=ea(!0);m.HFa=function(a){Ezh(this);a.stopPropagation()};function Ezh(a){var b=g7(a.getContext()),c=Rsh(T6(S6(a.getId()),a.Za));b.tf("docos-before-highlight-doco").wb(U6(c));D7(e7(a.R),a.getId());b.tf("docos-highlight-doco").wb(U6(c))}
m.eab=function(a){var b=g7(this.getContext());switch(a.identifier){case "backToDocument":b.tf("docos-back-to-document").wb({zj:this.getId()});break;case "blur":b.tf("docos-before-highlight-doco").wb(R6());D7(e7(this.R),null);b.tf("docos-highlight-doco").wb(R6());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){cwh(this);this.jea()};m.dab=function(a){this.mU(a)};
m.Rqa=function(){var a=g7(this.getContext());a.tf("docos-before-highlight-doco").wb(R6());D7(e7(this.R),null);a.tf("docos-highlight-doco").wb(R6())};m.fab=function(){this.Vk()||Ezh(this)};m.focus=function(){this.Vk()&&(kf?Vo(this.OWa,0,this):this.OWa())};m.mU=function(a){var b=ewh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}I7.Ta.mU.call(this,a)};
m.OWa=function(){this.D.ready();var a=this.qa(),b=Jo(a);(kf&&!b||!a.contains(this.getElement(),b))&&Vo(function(){this.Gb()&&this.getElement().focus()},0,this)};function J7(a,b,c,d,e,f){I7.call(this,a,b,c,d,e,f);this.D.Ca="Reply...";this.H=!1}v(J7,I7);m=J7.prototype;m.JFa=null;m.A9=null;
m.Ba=function(){var a=this.qa(),b=this.C.ih(),c=Kx(awh,{author:b.getName(),yA:!0,So:!0,Jj:this.C.Jj(),VH:this.C.Ea},void 0,a);this.ib(c);this.D.Va(a.bb("docos-docoview-input-pane",c));this.JFa=a.bb("docos-author",c);this.A9=dW(a,"IMG","docos-replyview-avatar",c);var d=a.bb("docos-replyview-origin",c);P(d,!1);if(a=a.bb("docos-user-presence",c))if(c=this.C.dd)a.style.backgroundColor=c(b.getId());J7.Ta.Ba.call(this)};
m.Ia=function(){J7.Ta.Ia.call(this);cwh(this);var a=this.ud().$z();zd(a)||this.D.ready(a,!0,!0);a=this.C.ih();Lvh(d7(this.getContext()),this.A9,a.C,Y6(a))};m.Tma=function(){return txh(this.D.H)};m.S$=function(){return this.D.getValue()};m.Rqa=function(a){B7(this.D)?this.mU(a):J7.Ta.Rqa.call(this,a)};
m.update=function(){J7.Ta.update.call(this);var a=this.Vk();a!=this.H&&(this.Vk()||B7(this.D)?this.dispatchEvent(new b7(this.getId())):this.Rva());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.H=a};m.vd=function(){J7.Ta.vd.call(this);g7(this.getContext()).tf("docos-edit-draft").wb({zj:this.getId(),text:this.S$(),gDa:this.A9})};m.Ja=function(){J7.Ta.Ja.call(this);delete this.JFa;delete this.A9};function Fzh(a,b,c,d,e,f){J7.call(this,a,b,c,d,e,f);this.ud()}t(Fzh,J7);function Gzh(a,b,c,d,e,f){J7.call(this,a,b,c,d,e,f);this.ud()}t(Gzh,J7);Gzh.prototype.J=function(a,b,c,d,e,f){this.dispatchEvent(new ith("sd",a,b,c,d,e,f))};Gzh.prototype.BVa=function(){var a=w7(e7(this.getContext()),this.getId()),b=txh(this.D.H);if(null!=b){Ri(this.C.C,38);var c=Cth(b)}Vo(u(this.J,this,this.getId(),this.nO(),a,this.S$(),"instant-doco"==this.ud().us,c))};Gzh.prototype.L=function(a,b,c,d){g7(a).tf("docos-cancel-insert-discussion").wb({zj:b,Em:c,ap:d})};
Gzh.prototype.Rva=function(){var a=w7(e7(this.getContext()),this.getId());Vo(u(this.L,this,this.getContext(),this.getId(),this.nO(),a))};function Hzh(a,b,c,d,e,f){b=Czh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.$c=a||null;return b}t(Hzh,Czh);Hzh.prototype.getPosition=g("$c");function Izh(a){this.fga=a}Izh.prototype.getOriginatingDocoType=g("fga");function Jzh(a,b,c){this.fga=a;this.sQ=b;this.eLb=c;return this}t(Jzh,Izh);Jzh.prototype.isTodo=g("sQ");Jzh.prototype.isWrongAssignee=g("eLb");function Kzh(a,b,c,d,e,f){I7.call(this,a,b,c,d,e,f,!0);this.Oa=this.Ka=this.J=this.V=this.Ca=this.L=this.H=this.Wa=this.ma=this.Ea=null;this.eb=jvh(a)}t(Kzh,I7);m=Kzh.prototype;
m.Ba=function(){var a=this.C,b=this.qa();a=Kx(awh,{So:!0,QW:!0,c8a:!!Ri(a.C,41),Jj:a.Jj(),En:"legacy"!=a.F},void 0,b);this.ib(a);this.D.$a=!1;this.D.Va(b.bb("docos-docoview-input-pane",a));this.Ea=b.bb("docos-input-assign-to-text",a);this.ma=b.Fa("docos-smarttodoview-body",a);this.ma.id=gw(this,"body");this.H=b.bb("docos-smarttodoview-feedback",a);this.Ka=b.bb("docos-smarttodoview-showfeedbackdialog-button",a);this.Oa=b.bb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.J=new Auh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.J);this.J.Va(b.Fa("docos-overflowmenu-outer",a));this.H&&(this.L=Lzh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.V=Lzh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Wa=Mzh(this,"docos-smarttodoview-feedback-cancel"),(this.Ca=Mzh(this,"docos-smarttodoview-feedback-submit"))&&this.fAa());
b=b.Fa("docos-smarttodoview-headertext",a);b.id=gw(this,"headertext");Hw(a,"labelledby",b.id);Hw(a,"describedby",this.ma.id);I7.prototype.Ba.call(this)};function Lzh(a,b,c){var d=a.qa(),e=a.getElement();b=d.bb(b,e);c=d.bb(c,e);e=null;b&&(e=new iS(!1,d),c&&fS(e,c),e.Va(b),a.va(e));return e}function Mzh(a,b){var c=a.qa();b=c.bb(b,a.getElement());var d=null;b&&(d=new Fz(null,c),d.Va(b),Kw(b,d.Sk()),a.va(d));return d}
m.Ia=function(){I7.prototype.Ia.call(this);a7(a7(a7(this,this.J,"e",this.oNb),this.J,"i",this.Bqb),this.J,"h",this.uub);this.H&&(this.Ka&&this.getHandler().Af(this.Ka,In,this.PEb),this.Oa&&this.getHandler().Af(this.Oa,In,this.lIb),this.L&&a7(this,this.L,"change",this.fAa),this.V&&a7(this,this.V,"change",this.fAa),this.Wa&&a7(this,this.Wa,"action",this.Jsb),this.Ca&&a7(this,this.Ca,"action",this.nNb));this.D.ready(void 0,void 0,!0);this.update()};
m.jea=function(){I7.prototype.jea.call(this);this.xa&&Ow(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){I7.prototype.update.call(this);var a=c7(this.ud());a=X6(a);a=cth(a,this.C,!0);a=(new lA("Assign to {user}?")).format({user:a});wo(this.Ea,a);P(this.Ea,!0);a=oM(new kcc(new lcc),this.ud().getContent());Ie(this.ma,a);this.resize()};
m.oNb=function(){var a=X6(this.ud().RA()).getEmail();a=new Hzh(void 0,"client-integrated-draft",this.ud().$z(),a,"smart-todo",!0);var b=w7(e7(this.getContext()),this.getId());g7(this.getContext()).tf("docos-convert-doco").wb({zj:this.getId(),ap:b,JUa:a,mR:"smart-todo"})};m.Bqb=function(){g7(this.getContext()).tf("docos-disable-smart-todo-feature").wb()};
m.uub=function(){kw("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});mvh(this.eb,Suh(Ruh(Quh(Puh(43029),this.ud().getId()),s7(this.ud()))))};m.PEb=function(){this.H&&P(this.H,!0);mvh(this.eb,Suh(Ruh(Quh(Puh(43025),this.ud().getId()),s7(this.ud()))))};m.lIb=function(){g7(this.getContext()).tf("docos-write-feedback").wb({source:"smart-todo"})};m.Jsb=function(){this.H&&P(this.H,!1);this.focus()};
m.fAa=function(){var a=null!=this.L&&this.L.isChecked(),b=null!=this.V&&this.V.isChecked();this.Ca.Na(a||b)};m.nNb=function(){g7(this.getContext()).tf("docos-reject-doco-with-feedback").wb({zj:this.getId(),Em:this.nO(),ap:w7(e7(this.getContext()),this.getId()),mR:"smart-todo",kgb:new Jzh("smart-todo",!this.L.isChecked(),this.V.isChecked())})};m.Tma=function(){return c7(this.ud())?X6(c7(this.ud())):null};m.S$=function(){return this.ud().$z()};
m.Ja=function(){I7.prototype.Ja.call(this);delete this.Ea;delete this.ma;delete this.H;delete this.J;delete this.Ka;delete this.Oa};function Nzh(a,b,c,d){this.C=a;this.H=b;this.cb=c;this.D=d}Nzh.prototype.F=function(a){a=e7(this.C).ud(a);var b=this.H.Lj().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Gzh(this.C,a.getId(),b,s7(a),this.cb,this.D);case "client-integrated-draft":return new Fzh(this.C,a.getId(),b,s7(a),this.cb,this.D);case "smart-todo":return new Kzh(this.C,a.getId(),b,s7(a),this.cb,this.D);default:return new uzh(this.C,a.getId(),b,this.cb,this.D)}};function Ozh(a,b){this.C=a;this.D=b}Ozh.prototype.clone=function(){return new Ozh(this.C,this.D)};Ozh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function K7(a,b){Mn.call(this);this.cb=b;this.L=a;this.D=null;if(a=L7(this).L)this.D=new Ozh(a,!0);this.xa=!a;this.Ca=!a;this.Cb=this.H=null}v(K7,Mn);m=K7.prototype;m.aya=da("O");m.Lj=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.WO=function(){return[]};m.lq=function(){return this.H?this.H.getId():null};m.UU=function(){return this.H?r7(this.H):null};m.WU=function(){var a=this.lq();return a?this.O.Dc(a):null};
m.qa=g("cb");function L7(a){return $6(a.L)}m.getContext=g("L");m.kF=function(){return this.Lj().getId()};m.K$=g("D");m.Aha=function(a,b){var c=this.lq();return a||c?b==this.kF()||this.D&&this.D.C==a?!0:!bwh(this,a):!1};function bwh(a,b){if(a.lq()==b)return!0;a=a.UU();return!!a&&a==b}
m.Yma=function(a,b,c){if(this.Aha(a,b)){var d=bwh(this,a)?null:this.H;this.H=e7(this.L).ud(a)||null;var e=d&&a!=d.getId()&&(!r7(d)||a!=r7(d));if(e){var f=this.O.Dc(d.getId());f&&!j7(d.C)&&f.update()}d=!d||e;b=b==this.kF()&&(void 0===c||c);a&&(d||b)&&(d&&this.qXa(),(c=this.O.Dc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new Ozh(a,b),d&&this.Vva(a))}};m.qXa=ba();
m.JOa=function(a,b){var c=g7(this.L);c.tf("docos-before-highlight-doco").wb(a);D7(e7(this.L),b.getId());c.tf("docos-highlight-doco").wb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==L7(this).L&&(a=L7(this).J["highlight-initial-doco"]))&&(b=(new W6("highlight-initial-doco")).addAnchorId(s7(b)).addDocoHandle(w7(e7(this.getContext()),c)).setNonAnchored(!(b.Yy()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){Pzh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){Pzh(this,!1,void 0,a,b,c)};m.Pfa=ba();m.Nfa=ba();function Pzh(a,b,c,d,e,f){var h=e7(a.L),k=Qzh(a,h,b,!!d,!!e);k||!c||e||(k=Qzh(a,h,!b,!!d,!1));b=g7(a.L);k&&(a=U6(Rsh(Qsh(Osh(T6(S6(k.getId()),a.kF())),void 0!==f?f:!0))),b.tf("docos-before-highlight-doco").wb(a),D7(h,k.getId()),b.tf("docos-highlight-doco").wb(a))}
function Qzh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.Lj().rc();if(0==h)return null;a:{var k=a.lq();if(k){var l=a.Lj();if(k=l.Dc(k)){l=jw(l,k);break a}}l=-1}0>l&&(l=0,f=a.Lj().tc(l));for(k=l;!f||d&&!yvh(b,f.ud());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.Lj().tc(l)}return f}
m.Vva=function(a){if(a==L7(this).L){var b=this.O.Dc(a);b&&b.Vk()&&!this.Ca&&(this.Ca=!0,b=L7(this).J["linked-doco-highlighted"])&&(a=e7(this.L).ud(a),a=Ssh("linked-doco-highlighted").addAnchorId(s7(a)).setUserInitiated(!0).build(),b(a))}};m.eaa=function(a){for(var b=this.Lj(),c=b.rc(),d=c,e=0;e<c;++e){var f=b.tc(e);if(f&&0>=this.ZT(a,f)){d=e;break}}return d};
function Rzh(a){if(a.W1()){for(var b=a.Lj(),c=[],d=b.rc(),e=0;e<d;++e)c.push(b.tc(e));c.sort(u(a.ZT,a));for(e=0;e<d;++e)b.tc(e)!=c[e]&&b.vf(c[e],e)}}m.wy=function(){Ovh(d7(this.getContext()))};m.rI=ba();m.Xma=function(){for(var a=this.Lj().rc(),b=new Csh,c,d=0;d<a;d++)c=this.Lj().tc(d),null!=c&&(c=c.ud(),null!=c&&Mxh(b,c));return Dsh(b)};m.YI=ta;m.D9=ce;m.F0=ce;m.G0=ba();m.Ja=function(){K7.Ta.Ja.call(this);this.H=null};
m.Wma=function(a){a=a.pU()||a;a instanceof K7&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ca=this.Ca)};m.pU=ea(null);m.$xa=da("Cb");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof K7){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ca==a.Ca}else a=!1;return a};function Szh(a,b){An.call(this,a);this.zFa=b}v(Szh,An);function Tzh(a){this.C=[];if(a)a:{if(a instanceof Tzh){var b=a.Oe();a=a.Gd();if(0>=this.$d()){for(var c=this.C,d=0;d<b.length;d++)c.push(new iZ(b[d],a[d]));break a}}else b=Nd(a),a=Md(a);for(d=0;d<b.length;d++)Uzh(this,b[d],a[d])}}function Uzh(a,b,c){var d=a.C;d.push(new iZ(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=Tzh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)bd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function Vzh(a){return a.C[0]&&a.C[0].getKey()}m.Gd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.Oe=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Yt=function(a){return Uc(this.C,function(b){return b.getValue()==a})};m.clone=function(){return new Tzh(this)};m.$d=function(){return this.C.length};m.isEmpty=function(){return $c(this.C)};m.clear=function(){bd(this.C)};function Wzh(){Tzh.call(this)}v(Wzh,Tzh);function Xzh(a,b){K7.call(this,a,b);this.V=e7(this.getContext());this.C={};this.R={};this.$a=new Wzh;this.J=new Ush}v(Xzh,K7);m=Xzh.prototype;m.WO=function(){var a=Xzh.Ta.WO.call(this);a.push("docos-layout-anchored");L7(this).Ed&&a.push("docos-layout-anchored-shadows");return a};m.gma=function(a){return(new Nzh(this.getContext(),this,this.qa(),this)).F(a.getId())};
m.xT=function(a){if(this.V.R(a)){var b=a.getId(),c=w7(this.V,b),d=this.Aoa(c,!1);if(d){var e=this.gma(a);this.R[c]&&delete this.R[c];c=this.eaa(e);if(c<=this.Lj().rc()&&-1<c)for(Yzh(this,e,d,c);!this.$a.isEmpty()&&Vzh(this.$a)<=this.Lj().rc();)e=this.$a.remove(),Yzh(this,e.view,e.position,e.index);else e=new Zzh(e,d,c),Uzh(this.$a,c,e)}else this.R[c]=a;b=Qsh(S6(b),!a.QW());a.Zj()||T6(b,this.kF());d&&a.yA()&&zd(a.$z())&&(d=g7(this.getContext()),d.tf("docos-before-highlight-doco").wb(U6(b)),D7(this.V,
a.getId()),d.tf("docos-highlight-doco").wb(U6(b)));(d=this.K$())&&d.C==a.getId()&&(Qsh(b,d.D),Vo(u(this.JOa,this,U6(b),a),0))}};function Yzh(a,b,c,d){var e=La();a.Lj().vf(b,d,!0);a.zfa(c.x,c.y,b,!1);b=La()-e;(a=L7(a).J["doco-rendered"])&&a(new Tsh("doco-rendered",b))}m.zR=function(a){var b=this.Lj().Dc(a);a==this.lq()&&(this.H=null);if(b){var c=this.V.ud(a);c&&c.isResolved()&&b.So()&&L7(this).Vc?$zh(this,a,b):(this.Lj().removeChild(b,!0),Hf(b));this.OI(this.C)}};
function $zh(a,b,c){function d(){q||(q=!0,Hf(c),no(e),Ow(h,"docos-resolve-highlight"),Vo(function(){Qw(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Lv(e),h=L7(a).Vc,k=Tv(h),l=Tv(e),n=Lv(h);n.x+=(k.width-l.width)/2;a.Lj().removeChild(c);Ow(e,"docos-readonly");c.vd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;kf?aAh(a,e,f,n,d,b):bAh(a,e,c.getId(),f,n,d)}
function bAh(a,b,c,d,e,f){Wsh(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";Vo(function(){Gn(b,Tza,f);Vo(f,570);Ow(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function aAh(a,b,c,d,e,f){var h=new HA(b,[c.x,c.y],[d.x,d.y],270),k=new Lcb(b,270);k.play();Vsh(a.J,f,h,270,function(){Hf(h);Hf(k);e()})}
function cAh(a){var b=[];a.Lj().Me(function(c){var d=c.ud();null!=d&&null!=s7(d)?(d=w7(this.V,c.ud().getId()),this.Aoa(d,!0)||this.R[d]||(this.R[d]=c.ud(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new Szh("rv",b))}m.C9=function(a){for(var b=Wd(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.OI(b)};m.oU=function(a){var b=Wd(this.C),c;for(c in a)b[c]=a[c];this.OI(b)};m.Aoa=function(a){return this.C[a]||null};
m.D9=function(a){a=dAh(this,a);return a?(a=a?a.getElement():null)?new Zl(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=dAh(this,a))?a.getDocoMaxHeight():null};m.Vma=function(a,b){(a=dAh(this,a))&&a.YR(b)};function dAh(a,b){return(b=z7(a.V,b))?a.Lj().Dc(b.getId()):null}m.Ja=function(){Xzh.Ta.Ja.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function Zzh(a,b,c){this.zj=a.getId();this.view=a;this.position=b;this.index=c};function eAh(a,b){Xzh.call(this,a,b)}v(eAh,Xzh);m=eAh.prototype;m.W1=ea(!1);m.ZT=ea(0);m.hZ=ta;m.QI=function(){cAh(this)};m.wy=function(){eAh.Ta.wy.call(this);this.Lj().Me(function(a){var b=a.ud();b&&null!=s7(b)&&(b=w7(e7(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.zfa(b.x,b.y,a,!1))},this)};m.OI=function(a){this.C=a;cAh(this);for(var b in this.C)(a=this.R[b])&&this.xT(a);this.wy()};m.zfa=function(a,b,c){(c=c.getElement())&&E5a(c,a,b,$6(this.getContext()).Oi)};function M7(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!zd(f)?f:null}pa("docos.api.Assignee",M7,void 0);M7.prototype.getToken=g("L");M7.prototype.getToken=M7.prototype.getToken;M7.prototype.getEmail=g("F");M7.prototype.getEmail=M7.prototype.getEmail;M7.prototype.getAffinity=g("D");M7.prototype.getAffinity=M7.prototype.getAffinity;M7.prototype.getMatchingMethod=g("H");M7.prototype.getMatchingMethod=M7.prototype.getMatchingMethod;M7.prototype.O=g("C");
M7.prototype.isMatchedOnEmailUserName=M7.prototype.O;M7.prototype.getName=g("J");M7.prototype.getName=M7.prototype.getName;function fAh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function gAh(a,b,c,d){return new M7(a.C,b,d,a.L,a.D,c)}function hAh(a,b){return a.C.toLowerCase().replace(iAh,"")==b?a.D=!0:!1}fAh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&jAh(this,e)){var f=af(e.getEmail());zd(f)||c.push(gAh(this,f,e.getName(),0))}}a.resolve(c)};
function jAh(a,b){if(b.getEmail())var c=af(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||gxh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(Zc(fxh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&Zc(f,d[h]))&&
1<d[h].length)return!0;return hAh(a,e)}function kAh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new fAh(a[d],"full-query",b));return c}function lAh(a,b){for(var c=[],d=0;d<a.length;d++)jd(c,mAh(a[d],b));return c}function mAh(a,b){return pxh(nxh,a).map(function(c){return new fAh(c,"email",b)})}var iAh=/^[@+]|[@+]$/g;function nAh(a){this.C=a}pa("docos.api.AssigneeThenable",nAh,void 0);nAh.prototype.get=g("C");nAh.prototype.get=nAh.prototype.get;function oAh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new nl;this.J=d}function pAh(a,b){var c=Qo();a.C.C?qAh(a,b,c):Ywh(a.C).then(u(function(d,e,f){f?qAh(this,d,e):e.reject()},a,b,c));return new nAh(c.C)}function qAh(a,b,c){var d=Ka(lAh,b,a.D);b=u(a.H,a,Ka(kAh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
oAh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=Qo();zd(f.C)?k.resolve([]):hAh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([gAh(f,f.F,null,Number.MAX_VALUE)]):h.Qn(f.C,5,u(f.O,f,k));f=k.C;jd(d,f)}rAh(this,d,b,c)};function rAh(a,b,c,d){Po(b).then(u(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.UO&&k.value&&jd(f,k.value)}$c(f)?d():sAh(this,f,c)},a))}
function sAh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}$c(e)?(tAh(a,d),a.J(d).then(function(k){return uAh(a,b,c,k)})):vAh(a,e,c)}else vAh(a,b,c)}function vAh(a,b,c){b.sort(Ka(wAh,a.D));c.resolve(b[0])}function tAh(a,b){var c=a.F;pva(b,c.contains,c)||(ol(a.F,b),mvh(a.L,Suh(Puh(43026))))}
function uAh(a,b,c,d){for(var e=[],f={yZ:0};f.yZ<d.length;f={yZ:f.yZ},f.yZ++){var h=Wc(b,function(k){return function(l){return l.getEmail()==d[k.yZ]}}(f));h&&e.push(h)}$c(e)?c.resolve(null):vAh(a,e,c)}function wAh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function xAh(a){this.e8a=a;return this}t(xAh,k5);xAh.prototype.getCancelAnchorId=g("e8a");xAh.prototype.getCancelAnchorId=xAh.prototype.getCancelAnchorId;function yAh(a,b,c,d,e,f){a=V6.call(this,a,b,c,d,e,f||new k5)||this;a.C=!1;return a}t(yAh,V6);yAh.prototype.canPreventDefault=ea(!0);yAh.prototype.preventDefault=function(){this.C=!0};function zAh(a){return W6.call(this,a)||this}t(zAh,W6);zAh.prototype.build=function(){return new yAh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new k5)};function AAh(){this.D=!1}AAh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};AAh.prototype.Yj=function(){return!this.D&&(null==this.C||this.C.Yj())};function BAh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Qo();this.L=c}v(BAh,A);function Ywh(a){if(!$Je())return Mo(!1);if(a.C)return Mo(!0);if(!a.F){var b=Wd(C$e);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Qn(b,u(function(c,d,e,f,h){this.C=!h&&0<c.length;this.H.resolve(this.C);if(this.C&&(h=c.length,c=this.J.R)){var k=new G$d;h=M(k,1,h);h=Mrh(h);c.jo("dacpc",La()-this.L,h.serialize())}},a))}return a.H.C}
BAh.prototype.Qn=function(a,b,c,d){var e=this;if(!$Je())return new x$e;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Re(a)&&this.F&&this.F.Yj()){var k=new AAh,l=La();this.H.C.then(function(){var n=e.J.R;if(k.Yj()){var q=e.D.Qn(h,c);n&&n.jo("dcrdtdr",La()-l);k.D||(k.C=q)}else n&&n.jo("dcrdc",La()-l)});return k}return this.D.Qn(h,c)};BAh.prototype.Ja=function(){delete this.D};function CAh(a){this.C=a}v(CAh,k5);pa("docos.api.OriginatingDocoTypeArgs",CAh,void 0);CAh.prototype.getOriginatingDocoTypeArgs=g("C");CAh.prototype.getOriginatingDocoTypeArgs=CAh.prototype.getOriginatingDocoTypeArgs;function N7(a,b,c){this.C=c;this.Mq=a;this.D=b}v(N7,CAh);pa("docos.api.ConvertDocoArgs",N7,void 0);N7.prototype.getAnchorId=g("Mq");N7.prototype.getAnchorId=N7.prototype.getAnchorId;N7.prototype.getNewDocoArgs=g("D");N7.prototype.getNewDocoArgs=N7.prototype.getNewDocoArgs;function O7(a,b,c){this.D=a;this.$c=void 0!==b?b:null;this.C=void 0==c?-1:c}v(O7,k5);O7.prototype.isInstantDoco=g("D");O7.prototype.getPosition=g("$c");O7.prototype.getInstantDocoSpacerIndex=g("C");O7.prototype.isInstantDoco=O7.prototype.isInstantDoco;O7.prototype.getInstantDocoSpacerIndex=O7.prototype.getInstantDocoSpacerIndex;function DAh(a){this.F=a}DAh.prototype.C=function(a,b){return b?(a=this.F.ud(b.zj))?c7(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};DAh.prototype.D=ea(0);function EAh(a,b){this.$c=a;this.Mq=b;return this}t(EAh,k5);EAh.prototype.getPosition=g("$c");EAh.prototype.getAnchorId=g("Mq");EAh.prototype.getPosition=EAh.prototype.getPosition;EAh.prototype.getAnchorId=EAh.prototype.getAnchorId;function FAh(a){A.call(this);this.C=a}t(FAh,A);function mvh(a,b){var c=$6(a.C).Za;if(c){var d=new vj,e=b.C;null!=b.L?M(d,1,2):null!=e?M(d,1,3):M(d,1,1);GAh(a,d,b.D);b.J&&(a=jyh(e7(a.C)).C.clone(),bj(d,10,a));a=new muh;b.Mq&&M(a,1,b.Mq);c(b.H,b.F||void 0,d,a)}}
function x7(a,b){var c=$6(a.C).Za;if(c){var d=b.ud();var e=new vj;var f=d.Jsa();e=M(e,2,f);null!=d.Xy()&&(f=Fth(d.Xy()).length,M(e,8,f));null!=b.Bx&&(f=b.Bx.Jsa(),M(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":M(e,4,1);break;case "draft":M(e,4,2);break;case "instant-doco":M(e,4,3);break;case "smart-todo":M(e,4,4);f=new P6d;var k=new L6d;var l=!h.isTodo();k=M(k,1,l);h=h.isWrongAssignee();h=M(k,2,h);bj(f,2,h);bj(e,5,f);break;case "suggestion":M(e,4,5);break;default:M(e,
4,0)}}null!=b.D&&M(e,7,b.D);null!=$6(a.C).Pa&&(f=$6(a.C).Pa,bj(e,12,f));null!=$6(a.C).L&&(f=$6(a.C).L==d.getId(),M(e,13,f));f=d.FG();h=c7(d);null!=f?M(e,1,2):null!=h?M(e,1,3):M(e,1,1);GAh(a,e,d.getId());b.L&&(a=jyh(e7(a.C)).C.clone(),bj(e,10,a));a=new muh;d=s7(b.ud());a=M(a,1,d);c(b.J,b.H||void 0,e,a)}}function GAh(a,b,c){a=e7(a.C).O;null!=c&&b.xg(null!=a&&c==a.getId())}FAh.prototype.Ja=function(){A.prototype.Ja.call(this)};function HAh(){}HAh.prototype.C=function(){return["Comment changed"]};HAh.prototype.D=ea(0);function IAh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.ap&&a.addDocoHandle(d.ap),d.Em&&a.addAnchorId(d.Em));return a};function JAh(a,b){this.C=a;this.D=b}v(JAh,CAh);pa("docos.api.FeedbackArgs",JAh,void 0);JAh.prototype.getFeedback=g("D");JAh.prototype.getFeedback=JAh.prototype.getFeedback;function KAh(a){this.C=a}v(KAh,k5);pa("docos.api.HighlightDocoArgs",KAh,void 0);KAh.prototype.isOriginInStreamOrGutter=g("C");KAh.prototype.isOriginInStreamOrGutter=KAh.prototype.isOriginInStreamOrGutter;function LAh(a){var b=a.vJb,c=a.jc,d=a.gKb;a=a.wJb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function MAh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=Xx(Wx,0<c.length?c[0]:"docs-instant-button");Zx.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;dy(this,2,!0)}t(MAh,Zx);m=MAh.prototype;m.Ba=function(){var a=this.qa(),b={jc:!1};b.vJb=this.R.join(" ");$c(this.J)||(b.gKb=this.J.join(" "));$c(this.L)||(b.wJb=this.L.join(" "));this.ib(Kx(LAh,b,void 0,a))};
function NAh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.Gb()){var h=0>=c;a.isVisible()||h?(OAh(a),PAh(a,b,d,f),e&&e()):(a.D=new QAh(b,d,f,e),b=!a.C,h||b||OAh(a),a.C||(a.C=Vo(function(){PAh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Td;k&&k();a.D=null;a.C=null},c,a)))}}
m.nf=function(a){if(this.Gb()){if(void 0===a?0:a)Ev(this.getElement(),"top","0px"),Ow(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(Qw(this.getElement(),"docs-instant-button-visible"),Vv(this.La(),0),this.F=!1);OAh(this)}};m.ag=function(a){this.isVisible()&&(Zx.prototype.ag.call(this,a),a.stopPropagation())};m.im=function(a){this.isVisible()&&(Zx.prototype.im.call(this,a),a.stopPropagation())};m.VP=function(a){this.isVisible()&&a.stopPropagation()};
function PAh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;Qw(a.getElement(),"docs-instant-quick-hide");Ow(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function OAh(a){a.C&&(Wo(a.C),a.C=null)}m.isVisible=function(){Nw(this.getElement(),"docs-instant-button-visible");return this.F};function QAh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Td=d}QAh.prototype.getOpacity=g("C");function RAh(a,b){Z6.call(this,a,b);this.D=null;this.F=a}t(RAh,Z6);RAh.prototype.Ba=function(){Z6.prototype.Ba.call(this);this.D=new MAh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.qa());this.D.render();this.Va(this.D.getElement())};
RAh.prototype.Ia=function(){Z6.prototype.Ia.call(this);$6(this.F).D.C(this.getElement(),"Add a comment");this.D.isVisible()||$6(this.F).D.D(this.getElement(),!0);this.D.Ia();a7(this,this.D,"action",this.H)};function SAh(a,b,c,d){Yy(a.D.getElement(),"docos");$6(a.F).D.D(a.getElement(),!1);var e=a.D.H;NAh(a.D,b,c,d,function(){e!=b&&$6(a.F).D.nf(a.getElement())})}RAh.prototype.nf=function(a){this.D.isVisible()&&$6(this.F).D.D(this.getElement(),!0);this.D.nf(a)};RAh.prototype.H=function(){this.nf();this.dispatchEvent("create-draft")};function TAh(a,b){A.call(this);this.D=a;this.F=$6(a);this.C=b;this.H=new wz(this);a=g7(this.D);this.H.Nb(a.Ra("docos-edit-reply"),rs,this.f2b).Nb(a.Ra("docos-delete-reply"),rs,this.P1b).Nb(a.Ra("docos-edit-doco"),rs,this.b2b).Nb(a.Ra("docos-edit-draft"),rs,this.e2b)}t(TAh,A);function UAh(a,b,c,d,e,f){return P7(a,u(a.cKb,a,b,c,d,e,void 0===f?!1:f))}m=TAh.prototype;m.cKb=function(a,b,c,d,e,f,h){if(VAh(h))return a=kvh(this.C,a,b,c,d,e),f.yj.callback(a),a;f.yj.callback(0);return 0};
m.eKb=function(a,b,c,d,e,f){if(VAh(f))return a=nvh(this.C,a,b,c,d),e.yj.callback(a),a;e.yj.callback(0);return 0};m.bKb=function(a,b,c,d,e,f){if(VAh(f))return a=ovh(this.C,a,b,c,d),e.yj.callback(a),a;e.yj.callback(0);return 0};function WAh(a,b){return P7(a,u(a.L6b,a,b))}m.e2b=function(a){var b=a.data;kp(P7(this,u(this.d2b,this,b.zj,b.text)),u(function(c){c&&b.gDa&&f7(d7(this.D),b.gDa);return c},this))};m.d2b=function(a,b,c,d){Q7(u(this.C.c2b,this.C,a,b),c,d)};
m.L6b=function(a,b,c){Q7(u(this.C.Y$a,this.C,a),b,c)};function XAh(a,b,c,d,e,f,h){return P7(a,u(a.K5a,a,b,c,d,e,f,h))}
m.K5a=function(a,b,c,d,e,f,h,k){if(VAh(k)){k=this.C;var l,n;a&&(n=hyh(e7(k.C),a))&&"instant-doco"==n.us&&(l=31);var q=Puh(43009);null!=n&&Quh(q,n.getId());null!=l&&(q.F=l);n&&n.yA()&&a!=b&&pvh(e7(k.C),n.getId());a=cf();l=La();n=euh(auh(l7(new k7(a)),l),k.F.ih());c&&m7(n,c,l);d&&(c=(new bsh).setType("text/plain").setValue(d),bj(n.C,9,c));e&&($th(n,e),q.J=e);f&&(duh(n,f),q.C=f);e=v7(u7(n),!0);M(e.C,3,l);b&&($uh(e,b),Ruh(q,b));y7(e7(k.C),e);e7(k.C).flush();mvh(k.D,Suh(q));b=w7(e7(k.C),a);h.yj.callback(b);
return b}h.yj.callback(0);return 0};m.b2b=function(a){var b=a.data;kp(P7(this,u(this.ffb,this,b.id,b.text)),function(c){c||b.qna.dispatchEvent("c")})};m.ffb=function(a,b,c,d){Q7(u(this.C.efb,this.C,a,b),c,d)};m.P1b=function(a){a=a.data;kp(P7(this,u(this.O1b,this,a.zj,a.xxa)),ba())};m.O1b=function(a,b,c,d){Q7(u(this.C.j$a,this.C,a,b),c,d)};m.f2b=function(a){var b=a.data;kp(P7(this,u(this.hfb,this,b.zj,b.xxa,b.text)),function(c){c||b.qna.dispatchEvent("c")})};
m.hfb=function(a,b,c,d,e){Q7(u(this.C.gfb,this.C,a,b,c),d,e)};m.L5a=function(a,b,c,d,e,f){Q7(u(this.C.U$a,this.C,a,b,c,d),e,f)};m.qcc=function(a,b,c,d){Q7(u(this.C.$$a,this.C,a,b),c,d)};m.rcc=function(a,b,c,d,e){Q7(u(this.C.aab,this.C,a,b,c),d,e)};m.s7b=function(a,b,c,d,e){Q7(u(this.C.Z$a,this.C,a,b,c),d,e)};function Q7(a,b,c){VAh(c)?(a(),b.yj.callback(!0)):b.yj.callback(!1)}m.f$a=function(a,b,c,d){Q7(u(this.C.V$a,this.C,a,b),c,d)};
m.ybc=function(a,b,c){if(VAh(c))return a=qvh(this.C,a),b.yj.callback(a),a;b.yj.callback(0);return 0};m.b9b=function(a,b,c,d){Q7(u(this.C.EFa,this.C,a,b),c,d)};m.i$a=function(a,b,c){Q7(u(this.C.X$a,this.C,a),b,c)};m.h$a=function(a,b,c){Q7(u(this.C.W$a,this.C,a),b,c)};function YAh(a,b,c,d){return P7(a,u(a.r5a,a,b,c,d))}m.r5a=function(a,b,c,d,e){if(VAh(e))return a=vvh(this.C,a,b,c),d.yj.callback(a),a;d.yj.callback(0);return 0};
m.hCa=function(a,b,c,d){if(VAh(d))return a=zvh(this.C,a,b),c.yj.callback(a),a;a=[];c.yj.callback(a);return a};function P7(a,b){var c=new ip,d={yj:c};(a=a.F.ge)?a(d,b):b(d,"edit-not-intercepted");return c}function VAh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function ZAh(a,b){A.call(this);this.C=[];this.F=new zsh(a);this.D=Ash(this.F,"user");this.J=Ash(this.F,"control");this.Dd=new Uo(b||50);this.Dd.start();Fn(this.Dd,"tick",this.YXa,!1,this);this.J.sf("setPeerReady_",u(this.f9b,this))}v(ZAh,A);m=ZAh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.YXa=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Dd.stop(),a;}};m.sf=function(a,b,c){this.D.sf(a,b,c)};m.QL=function(a){this.D.QL(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({IY:a,Rl:b})};m.f9b=function(a){a?this.Dd.stop():this.Dd.start();if(!this.H){this.H=!0;this.YXa();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.IY,b.Rl)}this.C=null}};m.Ja=function(){Hf(this.F);Hf(this.Dd);ZAh.Ta.Ja.call(this)};function $Ah(a){Mn.call(this);this.C=a;this.Ma=new Nn(this);this.va(this.Ma);this.Ma.listen(this.C,"u",this.D);this.C.Sd(this)}v($Ah,Avh);$Ah.prototype.D=function(a){var b=quh(a.Rl.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new Bvh("u",new tsh(b))));a.stopPropagation()};function Dvh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&ya(n[0])&&d(n[0])});a.C.GFa(b,c?c.Mf():void 0,l,e,f,h,k)};function aBh(a,b,c){OJe.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.va(this.C);this.C.QL(u(this.D,this));this.F=b}v(aBh,OJe);aBh.prototype.send=function(a,b){Ba(b)&&(b=Ul(b));this.C.send(a,{t:this.F,p:b})};aBh.prototype.D=function(a,b){PJe(this,a,b)};aBh.prototype.l9=function(a,b,c){b=aBh.Ta.l9.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?aBh.Ta.l9.call(this,a,b.p,c):null};function bBh(){Mn.call(this)}v(bBh,Mn);function cBh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Mn.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new qn;this.va(this.J);rn(this.J,this.H.getStatus().C,function(l){l.D.Wj()&&Mk(l.C)?k.dispatchEvent(new Bvh("r")):Nk(l.C)&&k.dispatchEvent(new Bvh("e"))});this.F=function(l){l&&k.dispatchEvent(new Bvh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t(cBh,bBh);
cBh.prototype.FFa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.y9)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new gIa;var b=this.D.ih().getId();a.R=b;tHa(a,this.D.z9,this.O,this.D.Sma);this.C=a;this.C.subscribe("9",this.F)}};
cBh.prototype.GFa=function(a,b,c,d,e,f,h){b=b?["p",Ul(b)]:[];dBh(this,b,"/docos/p/"+a,c,d,e,f,h)};function dBh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?Jva(b):void 0;c=Xp(a.H.jf(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.gq();h?Pk(c,h):Pk(c,3);d&&Rk(c,function(n){d(n.Pe())});e&&Qk(c,e,f);k&&Zp(c,k);null!=a.L&&(c.Qa=a.L);c.bf()}cBh.prototype.Ja=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());bBh.prototype.Ja.call(this)};function eBh(a,b,c){this.seq=fBh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var fBh=1;function gBh(a){Mn.call(this);this.C=a;this.C.sf("recv",u(this.O3b,this),!0);this.C.sf("recvEvt",u(this.N3b,this),!0);this.D={}}v(gBh,bBh);m=gBh.prototype;m.O3b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.N3b=function(a){this.dispatchEvent(new Bvh(a.type,a.payload))};m.FFa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.GFa=function(a,b,c,d,e,f,h){a=new eBh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ja=function(){gBh.Ta.Ja.call(this);delete this.C};function hBh(a){A.call(this);this.F=a;this.D=this.C=null}t(hBh,A);
function iBh(a){if(a.C)return a.C;var b=$6(a.F),c=b.Rma;if(void 0!==c)return c&&(a.C=new $Ah(c),a.va(a.C)),a.C;if(b.BFa){var d=acd();c=new fHa(new b0b,void 0,void 0,void 0,new UEa,void 0,void 0,TGa(PGa(d)));var e=b.Sma;e&&c.J4(e);var f=b.DFa;f&&oHa(c,f);b.AHa&&$Ea(c.D,"anon","true");(f=b.CPa)&&$Ea(c.D,"invite",f);f=null;if(b.y9){f=new gIa;var h=b.ih().getId();f.R=h;bFa(c.H,f);tHa(f,b.z9,d,e)}b=new cBh(c,!0,["id",b.z9],f,null!=b.E0?b.E0:6E4,b,d);b.va(c);a.C=new $Ah(b);a.va(a.C);a.va(b);return a.C}b=
b.YVa;if(!b)throw Error("Peer missing.");c={};d=new Gl(window.location.href);(e=Ql(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Gl(b)).toString());d=acd();b=(new Gl(b)).yc("ctoken",d).toString();c.pu=b;a.D=ho("div");a.D.style.display="none";document.body.appendChild(a.D);b=new qX(c);aNe(b,a.D);b.connect();b=new ZAh(b);c=eth(a.F);b=new aBh(b,d,c);c=new gBh(b);a.C=new $Ah(c);a.va(a.C);a.va(c);a.va(b);return a.C}
hBh.prototype.Ja=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ja.call(this)};function jBh(a,b){this.C=a;this.F=b}jBh.prototype[Lqa]=!0;function R7(a,b,c){var d=La();b();b=La()-d;a.F.jo(c,b)}m=jBh.prototype;m.Yma=function(a,b,c){a=u(this.C.Yma,this.C,a,b,c);R7(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);R7(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);R7(this,a,"dvmhp")};m.QI=function(){var a=u(this.C.QI,this.C);R7(this,a,"dvmla")};
m.wy=function(){var a=u(this.C.wy,this.C);R7(this,a,"dvmfl")};m.xT=function(a){a=u(this.C.xT,this.C,a);R7(this,a,"dvmadv")};m.hZ=function(a){a=u(this.C.hZ,this.C,a);R7(this,a,"dvmudv")};m.zR=function(a){a=u(this.C.zR,this.C,a);R7(this,a,"dvmrdv")};m.Lj=function(){return this.C.Lj()};m.aya=function(a){this.C.aya(a)};m.WO=function(){return this.C.WO()};m.lq=function(){return this.C.lq()};m.UU=function(){return this.C.UU()};m.WU=function(){return this.C.WU()};m.qa=function(){return this.C.qa()};
m.kF=function(){return this.C.kF()};m.K$=function(){return this.C.K$()};m.Aha=function(a,b){return this.C.Aha(a,b)};m.Pfa=function(){this.C.Pfa()};m.Nfa=function(){this.C.Nfa()};m.ZT=function(a,b){return this.C.ZT(a,b)};m.rI=function(a,b){this.C.rI(a,b)};m.Xma=function(){return this.C.Xma()};m.YI=function(a){this.C.YI(a)};m.D9=function(a){return this.C.D9(a)};m.F0=function(){return this.C.F0()};m.G0=function(a){this.C.G0(a)};m.dispose=function(){this.C.dispose()};m.isDisposed=function(){return this.C.isDisposed()};
m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Pc=function(a,b,c,d){return this.C.Pc(a,b,c,d)};m.Gc=function(a,b,c,d){return this.C.Gc(a,b,c,d)};m.tS=function(a){return this.C.tS(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.sB=function(a){return this.C.sB(a)};m.Ko=function(){return this.C.Ko()};m.LO=function(a,b,c){return this.C.LO(a,b,c)};m.zJ=function(a,b){return this.C.zJ(a,b)};m.vC=function(a,b,c,d){return this.C.vC(a,b,c,d)};
m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.pU=function(){return this.C.pU()||this.C};m.Wma=function(a){this.pU().Wma(a)};m.equals=function(a){return this===a};m.$xa=function(a){this.pU().$xa(a)};function kBh(a,b){jBh.call(this,a,b);this.D=a}t(kBh,jBh);m=kBh.prototype;m.C9=function(a){a=u(this.D.C9,this.D,a);R7(this,a,"davmddp")};m.oU=function(a){a=u(this.D.oU,this.D,a);R7(this,a,"davmudp")};m.OI=function(a){a=u(this.D.OI,this.D,a);R7(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.Vma=function(a,b){this.D.Vma(a,b)};function lBh(a,b,c){Mn.call(this);this.C=a;this.xa=b;this.V=c||null;this.Ma=new Nn(this);this.va(this.Ma);this.J=a.get("netIo");this.O=!0;this.F="not-in-progress";this.H=!1;this.L=this.D=this.R=null;this.ma=new wz(this);this.va(this.ma);this.Ma.listen(this.J,"r",this.M3b).listen(this.J,"u",this.H4b).listen(this.J,"e",this.gNb);this.Ma.listen(e7(a),["dd"],this.fNb).listen(e7(a),"bu",this.eNb)}t(lBh,Mn);
function mBh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return nBh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new ip),a.F="in-progress",nBh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function nBh(a,b){a.H?a.F="blocked":(a.F="in-progress",a.mRa(b))}function oBh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Ld(null):d.callback(c)}m=lBh.prototype;
m.mRa=function(a){for(var b=e7(this.C),c=kyh(b),d=[],e=0;e<c.length;e++){d.push(jj(c[e].F));var f=c[e].getId();fd(b.H,f)}b=new Hsh;d=dj(b,1,d);this.L&&M(d,2,this.L);$6(this.C).Cb&&(b=$6(this.C).Cb,M(d,5,b));Dvh(this.J,"sync",d,u(this.K2b,this),u(this.J2b,this),!1,a?a:void 0)};m.J2b=function(){this.O=!1;oBh(this,!0)};m.gNb=function(){this.dispatchEvent("net-error")};
m.K2b=function(a){a=new qsh(a);var b=this.O;this.O=!1;var c=La();if(b){var d=S7(this.xa,"model-loaded");if(d){var e=(new W6("model-loaded")).build();d(e)}}d=e7(this.C);try{if(pBh(this,a,b),this.L=K(a,2),lyh(d))Vo(u(this.mRa,this));else{var f=La()-c;oBh(this,!1,b?f:void 0);this.V&&this.V.jo("dscat",f)}}catch(h){throw Vo(function(){throw h;}),h;}};
function pBh(a,b,c){var d=e7(a.C),e=iyh(d),f=aj(b,Q6,1);b=0<f.length;var h=e7(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=jj(l.value);var n=P6(l),q=eyh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=e7(r.C);n=P6(l);delete e[q.getId()];var x=q.getId();if(Zc(w.H,x))n=!1;else{x=q.getId();if(x=Zc(w.Ha,x)){if(j7(q.C)){qBh(r,q);n=!1;break a}r=q.getId();fd(w.Ha,r)}M(l,9,!1);M(n,12,!1);void 0===K(n,13)&&M(n,13,0);q=Wd(q.D);w=ja(O6(n));for(r=w.next();!r.done;r=w.next())r=r.value,M(r,12,!1),void 0===
K(r,13)&&M(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(rBh(jj(q[x.value].C)));q=O6(n);dj(n,8,hd(q,w));n=!0}}n&&k.push(new t7(l))}uvh(h,k,"n");h=ja(kyh(d));for(k=h.next();!k.done;k=h.next())k=k.value,j7(k.C)&&void 0===k.C.C.getId()&&qBh(a,k);if(c)for(a=ja(Object.keys(e)),h=a.next();!h.done;h=a.next())h=e[h.value],Yuh(h)||void 0===h.C.C.getId()&&!j7(h.C)||(b=!0,h=jj(h.F),P6(h),k=P6(h),dj(k,8,[]),f=La(),M(k,13,f),M(k,12,!1),
M(h,9,!1),y7(d,new t7(h),"n"));b&&d.flush(c)}function qBh(a,b){a=e7(a.C);var c=jj(b.F),d=P6(c);M(c,9,!1);M(d,12,!1);b=b.getId();fd(a.H,b);y7(a,new t7(c),"n")}function rBh(a){var b=La();M(a,13,b);M(a,12,!1);return a}m.M3b=function(){var a=12E4*Math.random();null!==this.R&&Wo(this.R);this.R=Vo(function(){mBh(this,$6(this.C).Mca?1:void 0)},a,this)};
m.H4b=function(a){if(a.Rl){var b=a.Rl;a=e7(this.C);var c=0;b=aj(b,Q6,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=jj(d.value);var e=P6(d);e=eyh(a,e.getId(),K(e,11));e&&e.oQ()||(y7(a,new t7(d),"n"),c++)}0<c&&e7(this.C).flush()}};m.fNb=function(a){"n"!=a.O&&dyh(e7(this.C))&&mBh(this)};m.eNb=function(a){"n"!=a.source&&dyh(e7(this.C))&&mBh(this)};m.Ja=function(){Mn.prototype.Ja.call(this);delete this.C;delete this.Ma;delete this.ma};function sBh(a,b,c){A.call(this);this.H=a;this.C=b;this.F=c;this.Ma=new Nn(this);this.va(this.Ma);this.D=null;this.O=!1;this.J=null}t(sBh,A);function tBh(a){if(!Prh(a.H,"netIo"))return!1;a.D=new lBh(a.H,a.F,a.C.R||void 0);a.va(a.D);a.Ma.listen(a.D,"net-error",a.R);return!0}sBh.prototype.R=function(){uBh(this.F,"fe")};function vBh(a){a.O=!0;a.J=La();mp(kp(mBh(a.D,a.C.Uy?1:void 0),a.L,a),a.V,a)}function wBh(a){if(uuh(a.C)){var b=a.D.D;b?kp(b,function(){return xBh(a)}):xBh(a)}}
sBh.prototype.L=function(a){var b=this.C.R;b&&b.wya(jyh(e7(this.H)).C.clone().serialize());if(b=S7(this.F,"sync-success")){var c=(new W6("sync-success")).build();b(c)}(b=S7(this.F,"initial-anchored-render-done"))&&null!==a&&b(new Tsh("initial-anchored-render-done",a));(a=S7(this.F,"initial-sync-and-render-complete"))&&a(new Tsh("initial-sync-and-render-complete",La()-this.J));uBh(this.F,"s");uBh(this.F,"r")};
sBh.prototype.V=function(){var a=S7(this.F,"sync-error");if(a){var b=(new W6("sync-error")).build();a(b)}uBh(this.F,"e")};function xBh(a){a.D.L=null;mBh(a.D,a.C.Mca?1:void 0)};function yBh(){}yBh.prototype.C=function(a,b){return b?b.D_?["Action item created"]:["Comment created"]:[]};yBh.prototype.D=ea(0);function zBh(){}zBh.prototype.C=function(){return["Reply added"]};zBh.prototype.D=ea(0);function ABh(a){var b=a.b6a,c=a.CJb,d=a.G0b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function BBh(a){hX.call(this);this.V=a;this.Ha=$6(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(BBh,hX);m=BBh.prototype;
m.Ba=function(){hX.prototype.Ba.call(this);Ow(px(this),"docos");var a=Ja(px(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Ix(this.Hb(),ABh,{b6a:this.O,CJb:this.R,G0b:this.ma});Gx(this,"ok");a=this.Ha.Wa;null!==a&&(Ev(this.uq(),"z-index",a),Ev(px(this),"z-index",a+1))};
m.Ia=function(){hX.prototype.Ia.call(this);var a=this.qa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=wx(this.D,"ok");Fn(this.F,"click",u(this.$za,this));Fn(this.H,"click",u(this.$za,this));Fn(this.L,"click",u(this.$za,this))};
m.update=function(){this.xa.disabled=!0;CBh(Qvh(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.Gxa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}DBh(Qvh(this.V),a)};m.$za=function(){var a=this;CBh(Qvh(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.vd=function(){Ln(this.F);Ln(this.H);Ln(this.L)};m.Ja=function(){hX.prototype.Ja.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function EBh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}pa("docos.api.StorageUpdate",EBh,void 0);function FBh(a,b){if(a){b||a.unshift(void 0);GBh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),HBh(c[2],b),FBh(c[3],b),b&&c.shift());b&&a.shift()}}function HBh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function GBh(a,b){if(a){b||a.unshift(void 0);HBh(a[3],b);HBh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)GBh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function IBh(a){A.call(this);this.D=a;this.C=$6(a).fc;this.H=[];this.F=[];$6(a).Rc||(this.Ma=new Nn(this),this.va(this.Ma),this.Ma.listen(e7(a),["f","dd"],this.cab).listen(e7(a),"bu",this.bab))}v(IBh,A);m=IBh.prototype;m.cab=function(a){if("o"!=a.O&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=id(this.H);var b=id(this.F);this.C.H0a(a,b,u(this.mIb,this,a),u(this.kIb,this,b));this.H=[];this.F=[]}}else JBh(this,a.type,a.C,a.R)};
m.bab=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,JBh(this,a.type,c.zj,c.C)};function JBh(a,b,c,d){if(c){var e;"bu"==b?e=e7(a.D).ud(c):e=e7(a.D).F[c];(b=e)&&j7(b.C)&&void 0===b.C.C.getId()?a.F.push(c):b&&!Yuh(b)&&(e=jj(b.F).Mf(),e=Xd(e),FBh(e,!1),b=new EBh(c,e,b.oQ()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.mIb=function(a){for(var b=0;b<a.length;b++);};
m.kIb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);KBh(this,d,c)};m.$ub=function(a,b){if(0<b.length){for(var c=e7(this.D),d=0;d<b.length;d++){ya(b[d]);var e=Xd(b[d]);FBh(e,!0);e=new Q6(e);y7(c,new t7(e),"o")}c.flush(!0)}a()};m.Zub=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);KBh(this,d,c);a()};
function KBh(a,b,c){if(a=eth(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ja=function(){IBh.Ta.Ja.call(this);delete this.D;delete this.Ma;delete this.C};function LBh(a,b){var c=new S$e(new H$e([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));U$e(c,b);b=c.D;a=null!=K(a.C,50)?K(a.C,50):4;M(b,5,MBh(a));return kdf(c)}function MBh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function NBh(a,b){this.F=a;this.D=b;this.H=$6(this.D);this.C=null};function OBh(a){this.F=a}OBh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ud(b.C))?c7(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};OBh.prototype.D=ea(0);function PBh(a,b){this.F=a;this.H=e7(this.F);this.J=b}PBh.prototype.C=function(a,b){var c=this.H.ud(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.yA())return["Draft comment"];b=[];c=Wuh(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Zj()){var h=this.J;var k=f.T1();null==k?h="":(h=h(k).C(),h=null==h?"":xud(h,mud.getInstance()))}else h=f.$z();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(Y6(f.Rv())+(" on "+a.format(Wth(f)))));b.push(h+f)}return b};
PBh.prototype.D=ea(0);function QBh(a){this.B9b=a;return this}t(QBh,k5);QBh.prototype.shouldOverrideHide=g("B9b");QBh.prototype.shouldOverrideHide=QBh.prototype.shouldOverrideHide;function RBh(a){this.C=a}v(RBh,k5);pa("docos.api.ToggleShowStreamPaneArgs",RBh,void 0);RBh.prototype.getDisplay=g("C");RBh.prototype.getDisplay=RBh.prototype.getDisplay;function SBh(a){Zz.call(this,a);this.Qi("back-to-document",[85]);this.Qi("next-doco",[74]);this.Qi("prev-doco",[75]);this.Qi("prev-anch",[75,1]);this.Qi("next-anch",[74,1]);this.Qi("resolve",[69]);this.Qi("reopen",[69,1]);this.Qi("reply",[82]);this.Qi("speak-comment",Fs(["A","C"]));this.addEventListener("shortcut",this.Ea)}t(SBh,Zz);SBh.prototype.Ea=function(a){this.dispatchEvent(a.identifier)};function TBh(a,b,c){b=c||b;var d=a.MI,e=a.u0b;c=a.b7a;var f=a.a7a,h=a.En,k='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';k+=vw("Comment history box.");var l='"><div class="'+T("docos-streampane-content")+'">';e?(a='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',b=b={En:h},e="",b.En?(e+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',e+="Comment</div></div>"):(e+='<div class="'+T("docs-material")+'">'+R(Xsh({Jh:"docos-icon-add-comment",wA:"docos-icon-add-comment-size",Be:"docos-new-comment-icon",rQ:!0})),e+="Comment</div>"),b=S(e),a=a+R(b)+"</div>",d?(d='<div class="'+T("docos-notification-settings")+'">',h=h={En:h},h=h.En,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(Xsh({Jh:"docos-icon-bell",wA:"docos-icon-bell-size",Be:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+R(h)+"</div>"):h="",h=a+h+"</div>"):(d=b,b=a.UB,h=a.MI,a=a.VH,d='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(Ysh({size:48,Be:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+'"><div class="'+T("docos-streampane-username")+" "+
T("goog-inline-block")+'">'+R(b)+"</div>"+R($vh({Be:"docos-streampane-input-pane",K$b:!0,VH:a},d)),h&&(d+='<div class="'+T("docos-streampane-notificationslink")+'">',d+="Notification settings</div>"),h=S(d+"</div></div>"));k+=l+h;c&&(k+='<div class="'+T("docos-streampane-bannertext")+'">'+R(c),f&&(k+='<a target="_blank" rel="noreferrer" href="'+T(ww(f))+'" class="'+T("docos-streampane-bannerlink")+'">',k+="Learn more</a>"),k+="</div>");k+='<div class="'+T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+
" "+T("goog-inline-block")+'">';return S(k+"You do not have permission to add comments.</div></div></div>")}function UBh(){var a='<div class="'+T("docos-streampane-error")+'">';return S(a+"Commenting disabled due to a network error. Please reload the page.</div>")};function VBh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+WBh({hq:"spinner-blue"})+WBh({hq:"spinner-red"})+WBh({hq:"spinner-yellow"})+WBh({hq:"spinner-green"})+"</div></div>")}
function WBh(a){a=a.hq;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function XBh(a,b){Z6.call(this,a,b);this.D=null}v(XBh,Z6);XBh.prototype.Ba=function(){var a=this.qa();this.D=Kx(VBh,{},void 0,a);this.ib(this.D)};XBh.prototype.nf=function(){this.D.parentElement.removeChild(this.D)};XBh.prototype.Ja=function(){delete this.D};function YBh(a,b){Nn.call(this);this.R=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=g7(this.R);this.vg=null;this.V=new Zz(this.C.qa().Yb());this.V.Qi("blur",27);this.ma=new wz(this);this.va(this.ma);this.ma.Nb(this.J.Ra("docos-new-doco"),rs,this.ZMb).Nb(this.J.Ra("docos-highlight-doco"),rs,this.YMb);this.listen(this.C,"bd",this.XMb).listen(this.C,"br",this.$Mb)}t(YBh,Nn);
function ZBh(a){0==a.D&&0<a.C.rc()&&(a.D=$Bh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.rc();c++)$Bh(a,c)==a.D&&(b=c);aCh(a);T7(a.C,!1);b=a.C.tc(b).getId();b=new Msh(b,a.C.getId());a.J.tf("docos-before-highlight-doco").wb(b);a.J.tf("docos-highlight-doco").wb(b)}}function aCh(a){a.vg||(a.vg=new gx(a.C.qa().Yb()),a.va(a.vg));a.listen(a.vg,"focusin",a.rVa).listen(a.V,"shortcut",a.QLa)}m=YBh.prototype;
m.rVa=function(a){this.C.qa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,bCh(this,!0),T7(this.C,!0),this.Gc(this.vg,"focusin",this.rVa).Gc(this.V,"shortcut",this.QLa),a=R6(),this.J.tf("docos-before-highlight-doco").wb(a),this.J.tf("docos-highlight-doco").wb(a))};m.QLa=function(){T7(this.C,!1);bCh(this,!1)};
m.YMb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Dc(a)){if(this.D=w7(e7(this.R),b.C),b.D==this.C.getId()){aCh(this);bCh(this,!1);a instanceof uzh&&(a.ah(!0),zzh(a,!0));T7(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof uzh)a:if(lzh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.O.focus();else{b=Wuh(a.ud(),!1);for(var c=b.length-1;0<=c;c--)if(hzh(a.H[b[c].getId()]))break a;hzh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,T7(this.C,!0),bCh(this,!0)};
m.ZMb=function(a){a=a.data;var b=z7(e7(this.R),a.ap);if(b){for(var c=0;c<this.C.rc();c++)if(b.getId()==this.C.tc(c).getId()){this.D=a.ap;break}this.F=!0;T7(this.C,!1,!0);bCh(this,!1)}};m.XMb=function(){cCh(this)};m.$Mb=function(){e7(this.R).V||cCh(this)};function cCh(a){if(1==a.C.rc())a.D=0,T7(a.C,!1);else{for(var b=0,c=0;c<a.C.rc();c++)if($Bh(a,c)==a.D){b=c;break}b==a.C.rc()-1?b--:b++;a.D=$Bh(a,b);a.F=!0;T7(a.C,!1,!0);bCh(a,!1)}}
function bCh(a,b){for(var c=x4a(a.C),d=0;d<c.length;d++){var e=a.C.Dc(c[d]);e instanceof uzh&&(e.ah(b),zzh(e,b))}}function $Bh(a,b){return w7(e7(a.R),a.C.tc(b).getId())};function dCh(a,b,c){this.D=a;this.F=b;this.C=c||null};function eCh(a,b,c,d){Z6.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.aya(this);this.O={};this.J=[];this.H=[];this.Ca=!1;this.ma=this.F=this.R=null;this.xa=new wz(this);this.va(this.xa);a=e7(this.context);this.getHandler().listen(a,"bu",this.p1b).listen(a,"dd",this.Q1b).listen(a,"f",this.q2b).listen(b,"rv",this.Q6b).listen(this,"ra",this.G3b).listen(this,"sd",this.k4b).listen(this,"sr",this.l4b).listen(this,"sn",this.V3b).listen(this,"sp",this.W3b).listen(this,"bd",this.q1b).listen(this,
"ar",this.c1b).listen(this,"ph",this.I2b);gth(this)}v(eCh,Z6);m=eCh.prototype;
m.Ia=function(){eCh.Ta.Ia.call(this);Yy(this.getElement(),"docos");Pw(this.getElement(),["docos","docos-stream-view"]);Fw(this.getElement(),"list");vuh(this.C)?Ow(this.getElement(),"docos-stream-view-height"):(Ow(this.getElement(),"docos-stream-view-legacy"),Ow(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&Ow(this.getElement(),"docs-gm");"material_blue"==this.C.F?Ow(this.getElement(),"docos-gm-blue"):"material_green"==this.C.F?Ow(this.getElement(),"docos-gm-green"):"material_yellow"==
this.C.F&&Ow(this.getElement(),"docos-gm-yellow");Pw(this.Hb(),this.D.WO());this.getHandler().listen(this,"rd",this.zab);var a=g7(this.context);this.xa.Nb(a.Ra("docos-highlight-doco"),rs,this.Sfa);$6(this.context).Kb&&Nw(this.getElement(),"docos-layout-vertical")&&(this.R=new YBh(this.context,this),this.F=this.gb.createElement("DIV"),Ow(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.xx).listen(this.F,"focus",this.Y3b),fCh(this).appendChild(this.F),this.ma=new YA);
this.nCa()};m.KFa=ea(!0);m.V8=function(){this.D.QI();gCh(this);this.D.YI(!0);this.dispatchEvent("ail")};m.xx=function(){ZBh(this.R)};m.Y3b=function(){var a=this.R;a.H=!0;ZBh(a)};m.nCa=function(){var a=e7(this.context);if(Kd(a.C)){this.D.YI(!1);a=Wd(a.C);for(var b in a)hCh(this,b);this.D.rI();this.V8()}};m.zz=function(a,b){for(var c=this.rc()-1;0<=c;--c){var d=this.tc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.zz()}};
m.Sfa=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.V&&this.D.Aha(a,c)){if(this.ma&&a&&this.D.lq()!=a){var d=this.rc();d="Comment "+(jw(this,this.Dc(a))+1+(" of "+(d+" ")));ZA(this.ma,d)}this.dispatchEvent("us");this.D.Yma(a,c,b);gCh(this);this.dispatchEvent("ud")}};m.p1b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.zj;c=c.C;b&&(e7(this.context).ud(b),(c=this.Dc(b)||c&&this.Dc(c))?(c.getId()!=b&&c.Uc(b),this.J.push(b)):this.O[b]=!0)}};m.Q1b=function(a){this.H.push(a.C)};
function gCh(a){a.Ca||a.D.wy()}m.q2b=function(a){this.D.YI(!a.F);this.Ca=!0;for(var b=0;b<this.H.length;++b)iCh(this,this.H[b]);for(var c in this.O)hCh(this,c);Sd(this.O)||this.D.rI();for(b=0;b<this.J.length;++b)jCh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.QI();this.D.wy();this.Ca=!1;this.D.YI(!0)};m.zab=function(a){this.Dc(a.zj)&&(this.D.hZ(a.zj),gCh(this))};
m.G3b=function(a){var b=e7(this.context).ud(a.zj);if(a=$6(this.context).J.reanchor)b=s7(b),b=Ssh("reanchor").addAnchorId(b).build(),a(b),this.context.V=!0};m.k4b=function(a){var b={text:a.C,Em:a.Em,ap:a.ap,Sab:a.Em,D_:a.D_};a.Em&&$6(this.context).Kc&&(b.quote=(0,$6(this.context).Kc)(a.Em));a.Em&&$6(this.context).Oa&&(b.Em=(0,$6(this.context).Oa)(a.Em));g7(this.context).tf("docos-new-doco").wb(b)};
m.l4b=function(a){var b=e7(this.context).ud(a.zj);if(!b)throw Error(a.zj+" not contained within appropriate stream.");var c=g7(this.context);b.isResolved()?c.tf("docos-resolve-doco").wb(new jth(a.zj,!1,a.C)):c.tf("docos-new-reply").wb(new dCh(a.zj,a.C,a.D_))};m.V3b=function(){this.D.highlightNext()};m.W3b=function(){this.D.highlightPrevious()};m.q1b=function(){this.D.Pfa()};m.c1b=function(){this.D.Nfa()};
function hCh(a,b){var c=e7(a.context).ud(b);c&&a.Ha(c)&&!a.Dc(b)&&(a.dispatchEvent("us"),a.D.xT(c),a.dispatchEvent("ud"),a.R&&T7(a,!0))}function jCh(a,b){a.dispatchEvent("us");var c=a.Dc(b);if(c){var d=e7(a.context).ud(b);d&&a.Ha(d)?(c.update(),a.D.hZ(b)):iCh(a,b)}a.dispatchEvent("ud")}function iCh(a,b){b&&(a.dispatchEvent("us"),a.D.zR(b),a.dispatchEvent("ud"))}m.Q6b=function(a){for(var b=a.zFa.length,c=0;c<b;++c)iCh(this,a.zFa[c])};m.A5=function(){for(var a=this.rc(),b=0;b<a;++b)this.tc(b).A5()};
function fCh(a){return(a=a.getElement())?a.parentElement:null}function T7(a,b,c){if(!b&&!c||0!=a.rc())a.qa().oi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.qa().oi(a.F,b))}m.Ja=function(){eCh.Ta.Ja.call(this);delete this.xa};m.I2b=function(){var a=this.D.WU();null==a||a.isDisposed()||(a.update(),a.focus())};function kCh(a){A.call(this);this.C=[];this.D=!1;this.F=new vp;this.H=a?!1:!0}t(kCh,A);kCh.prototype.start=function(){this.H=!0;lCh(this)};function lCh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.gk(u(a.J,a)))}kCh.prototype.J=function(){this.C.shift()();this.D=!1;lCh(this)};kCh.prototype.Ja=function(){this.F.dispose();A.prototype.Ja.call(this)};function mCh(a,b,c,d){eCh.call(this,a,b,c,d);this.Oa=new kCh;this.L=[];this.Ka=new XBh(a,d);this.Ea=!1;this.V=null}v(mCh,eCh);m=mCh.prototype;m.KFa=g("Ea");m.V8=function(){mCh.Ta.V8.call(this);this.Ka.nf();this.Ea=!0;this.V&&this.Sfa(this.V)};m.qCa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Dc(b)||(hCh(this,b),a++)}0==this.L.length?this.V8():(a=this.Oa,b=u(this.qCa,this),a.C.push(b),lCh(a))};
m.nCa=function(){var a=e7(this.context);if(Kd(a.C)){this.Ka.render(fCh(this));this.D.YI(!1);a=Wd(a.C);for(var b in a)this.L.push(b);b=this.Oa;a=u(this.qCa,this);b.C.push(a);lCh(b)}};m.Sfa=function(a){this.Ea?mCh.Ta.Sfa.call(this,a):this.V=a};function nCh(a,b,c,d,e){H7.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];$6(a).Bc&&(c=c.concat(["link"]));this.L=new Auh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);lzh(this);this.Ka+=" docos-streamdocoview-input-pane";this.Pb="Discard reply";this.Ca=this.V=this.Ha=this.Ua=this.Oa=this.Ea=null}t(nCh,H7);m=nCh.prototype;
m.Ba=function(){H7.prototype.Ba.call(this);var a=this.qa(),b=this.getElement();this.Ea=a.bb("docos-streamdocoview-inputcontainer",b);this.Oa=a.bb("docos-streamdocoview-reopen-control",b);this.Ua=a.bb("docos-streamdocoview-resolve-control",b);this.L.Va(a.bb("docos-actionmenu-outer",b));Kw(this.L.F.La(),"More options");this.Ha=a.bb("docos-author",b);this.V=dW(a,"IMG","docos-streamdocoview-avatar",b);this.Ca=dW(a,"IMG","docos-streamreplyview-avatar",this.Ea);a=this.qa();b=this.getElement();var c=a.bb("docos-docoview-comment",
b);c&&($6(this.getContext()).D.C(c,"Reply to this comment"),Kw(c,"Reply to this comment"));if(c=a.bb("docos-docoview-resolve",b))$6(this.getContext()).D.C(c,"Mark as resolved and hide discussion"),Kw(c,"Mark as resolved and hide discussion");if(a=a.bb("docos-docoview-reopen",b))$6(this.getContext()).D.C(a,"Mark as open and return discussion to the document view"),Kw(a,"Mark as open and return discussion to the document view")};
m.Ia=function(){H7.prototype.Ia.call(this);oCh(this);var a=this.getElement();this.D.V=a;a7(a7(a7(a7(this,this.L,"d",this.tZa),this.L,"e",this.$1b),this.L,"r",this.R3b),this.L,"ra",this.I3b);a=this.ud().Rv();pCh(this,a);qCh(this,a);a=$6(this.getContext()).ih();mth(d7(this.getContext()),this.Ca,a.C,Y6(a));(a=a.getName())&&this.Ca&&this.C.D.C(this.Ca,a)};m.Uc=function(a){H7.prototype.Uc.call(this,a);this.L&&Cuh(this.L,a)};
m.update=function(){H7.prototype.update.call(this);var a=this.ud().Rv();pCh(this,a);qCh(this,a);this.L.update();oCh(this);this.Ea&&(a=!Sd(this.H)||B7(this.D)||this.Vk(),P(this.Ea,a))};function pCh(a,b){var c=d7(a.getContext()),d=b.C;a.V&&Ayh(b,a.ud().getOrigin())&&(d=Kvh(c),a.V.classList.add("docos-avatar-unverified"),a.C.D.C(a.V,"Author from imported document"));mth(c,a.V,d,Y6(b))}function qCh(a,b){if(b=b.getName())a.Ha&&a.C.D.C(a.Ha,b),a.V&&a.C.D.C(a.V,b)}
function oCh(a){var b=a.ud();a.Oa&&P(a.Oa,b.isResolved());a.Ua&&P(a.Ua,!b.isResolved())}m.bVa=function(a){var b=this.getElement();a=a.target;Nw(a,"docos-docoview-comment")&&b?this.D.ready():Nw(a,"docos-docoview-resolve")&&b?rCh(this):Nw(a,"docos-docoview-reopen")&&b&&rzh(this)};m.$1b=function(){ezh(this.F)};m.R3b=function(){this.ud().isResolved()?rzh(this):rCh(this)};m.I3b=function(a){this.dispatchEvent(new hth("ra",this.ud().getId()));a.stopPropagation()};
function rCh(a){var b=g7(a.getContext());a.dispatchEvent("br");var c=new jth(a.getId(),!0,B7(a.D)?a.D.getValue():null);b.tf("docos-resolve-doco").wb(c);a.dispatchEvent("ar")}m.A5=function(){var a=this.F;a.Kb&&!a.H.Vk()||$yh(a)};m.vd=function(){H7.prototype.vd.call(this);var a=d7(this.getContext());f7(a,this.V);f7(a,this.Ca)};m.Ja=function(){H7.prototype.Ja.call(this);delete this.L;delete this.Ha;delete this.V;delete this.Ca;delete this.Ea;delete this.Oa;delete this.Ua};function sCh(a,b,c,d){this.C=a;this.D=b;this.cb=c;this.H=d}sCh.prototype.F=function(a){a=e7(this.C).ud(a);var b=this.D.Lj().getId();return new nCh(this.C,a.getId(),b,this.cb,this.H)};function tCh(a,b){K7.call(this,a,b)}v(tCh,K7);m=tCh.prototype;m.W1=function(){return"none"!=$6(this.getContext()).$a};m.gma=function(a){return(new sCh(this.getContext(),this,this.qa(),this)).F(a.getId())};m.ZT=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");return("creation"==L7(this).$a?b.ox().getTime()-a.ox().getTime():b.gP().getTime()-a.gP().getTime())||(a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0)};
m.xT=function(a){var b=this.Lj(),c=this.gma(a),d=0;this.W1()&&(d=this.eaa(c));b.vf(c,d,!0);c.update();if(c=b=this.K$())b.C!=a.getId()?c=!1:(c=a.Yy()?s7(a):void 0,d=$6(this.getContext()).qh,d=null!=c&&d(c),c=null==c||a.isResolved()||!!Zuh(a)||d);c&&(b=U6(Qsh(T6(S6(a.getId()),this.kF()),b.D)),this.JOa(b,a))};m.zR=function(a){this.Lj().Dc(a)&&(a=this.Lj().removeChild(a),Hf(a))};m.hZ=function(a){if(this.W1()){var b=this.Lj();if(a=b.Dc(a)){var c=jw(b,a),d=this.eaa(a);c!=d&&b.vf(a,d)}}};
m.Pfa=function(){Pzh(this,!0,!0)};m.Nfa=function(){if(this.H&&this.lq()){var a=this.lq();D7(e7(this.getContext()),a);this.kF()&&g7(this.getContext()).tf("docos-highlight-doco").wb(U6(Osh(T6(S6(a),this.kF()))))}};m.QI=function(){Rzh(this)};function uCh(a){a=a||{};var b=a.I7b,c=a.J7b,d=a.Q7a,e=a.P7a;a=a.Y9a;if(sw(d)||sw(c)){var f;sw(a)&&sw(c)?f='<a href="'+T(ww(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function vCh(a,b){Q.call(this,b);this.C=a}v(vCh,Q);vCh.prototype.Ba=function(){this.ib(Kx(uCh,{P7a:K(this.C,4),Q7a:this.C.$m(),Y9a:K(this.C,5),I7b:K(this.C,2),J7b:K(this.C,1)},void 0,this.qa()))};function wCh(a,b){Z6.call(this,a,b);g7(a);this.Nc=new Hy(b);this.F=a;for(var c in Bsh){a=Bsh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new SP(d,a,b);this.Nc.Ga(a,!0)}this.D=new Py("",this.Nc,eP.getInstance(),b);Qy(this.D,new Ly(null,9));this.D.tH=!0;this.Ga(this.D)}v(wCh,Z6);m=wCh.prototype;
m.Ia=function(){wCh.Ta.Ia.call(this);var a=this.qa(),b=a.bb("docos-ns-caption",this.getElement());a=a.bb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.qa().Fe(a,"Notifications");b=$6(this.F).D;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Nc.rc();a++){var c=this.Nc.tc(a),d=c.getElement();a:{switch(c.Sa()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}a7(this,this.D,"action",this.Eab);a7(this,this.C,"r",this.Zma);a7(this,this.getElement(),"keyup",this.tgb);a7(this,this.Nc,"show",this.Dab);a7(this,this.Nc,"hide",this.Cab);this.Zma()};m.Dab=function(){0<this.Nc.rc()&&this.Nc.oh(0)};m.Cab=function(a){a.stopPropagation()};m.tgb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.Eab=function(a){var b=a.target.Sa(),c=Qvh(this.F);b!=CBh(c)&&DBh(c,b);this.Zma();a.stopPropagation()};m.Zma=function(){var a=this;!this.C.V&&this.C.MI()?CBh(Qvh(this.F)).then(function(b){for(var c=0;c<a.Nc.rc();++c){var d=a.Nc.tc(c);d.Zb(d.Sa()==b)}b=!a.C.V&&a.C.MI();a.D.Na(b)},void 0,this):this.D.Na(!1)};function xCh(a,b,c,d){Z6.call(this,a,b);this.H=new tCh(a,b);this.va(this.H);this.D=c?new mCh(a,this.H,sfa(Xuh),b):new eCh(a,this.H,sfa(Xuh),b);this.Ga(this.D);this.J=a;this.ma=null;this.Ea=!!d;Ri(this.C.C,30)||(this.F=new xxh(a,b),this.va(this.F),this.Ga(this.F),this.F.Ca="Add a comment");this.O=null;Ri(this.C.C,30)&&this.C.MI()&&!this.C.ma&&(this.O=new wCh(a,b),this.Ga(this.O));this.L=null;Ri(this.C.C,30)&&(this.L=new Fz("",b,"legacy"!=this.C.F?4:void 0),this.Ga(this.L));this.xa=new wz(this);this.va(this.xa);
this.V=new vCh(N(this.C.C,M4e,2)||new M4e,b);this.Ga(this.V);this.Ca=!1;this.R=null;gth(this)}v(xCh,Z6);m=xCh.prototype;m.yWa=0;m.xy=null;m.B9=null;m.nU=null;m.gC=null;m.oO=null;
m.Ba=function(){var a="legacy"!=this.C.F,b=this.qa(),c=Kx(TBh,{UB:this.C.ih().getName(),MI:this.C.MI(),u0b:!!Ri(this.C.C,30),VH:this.C.Ea,b7a:this.C.Ty,a7a:this.C.Ky,En:a},void 0,b);Ri(this.C.C,30)&&Ow(c,"docos-enable-docs-header");a&&Ow(c,"docs-gm");"material_blue"==this.C.F?Ow(c,"docos-gm-blue"):"material_green"==this.C.F?Ow(c,"docos-gm-green"):"material_yellow"==this.C.F&&Ow(c,"docos-gm-yellow");this.ib(c);a=b.bb("docos-streampane-content",c);this.D.render(a);this.oO=Ri(this.C.C,30)?this.D.Hb():
this.C.O;this.V.render(c);this.B9=b.bb("docos-streampane-username",c);this.nU=dW(b,"IMG","docos-streampane-avatar",c)};
m.Ia=function(){xCh.Ta.Ia.call(this);var a=this.qa(),b=this.getElement();this.F&&this.F.Va(a.bb("docos-streampane-input-pane",b));if(this.O){var c=a.bb("docos-notification-settings",b);this.O.Va(c)}c=$6(this.J).D;this.L&&(a=a.bb("docos-new-comment-button",b),this.L.Va(a),c.C(a,this.C.Ka?"Add comment not available":"Add a comment"),a7(this,this.L,"action",this.uab),this.k0a(),this.getHandler().listen(this.C,"r",this.k0a));this.C.xa&&(b=this.C.xa,this.F&&(this.F.V=b));xo(b,!0);this.gC=new SBh(b);Fn(this.gC,
"next-doco",this.e3b,!0,this);this.gC.addEventListener("prev-doco",this.x3b,!0,this);Fn(this.gC,"resolve",u(this.q5a,this),!0);Fn(this.gC,"reopen",u(this.yab,this),!0);Fn(this.gC,"back-to-document",this.W6a,!0,this);Fn(this.gC,"speak-comment",this.V$b,!0,this);b=g7(this.J);a=this.C.Ka?this.B2b:this.xab;this.xa.Nb(b.Ra("docos-highlight-doco"),rs,a);this.F&&a7(this,this.F,"p",this.a1b);a7(a7(a7(a7(a7(a7(a7(a7(this,this.getElement(),"click",this.vab),this.D,"f",this.r2b),this.D,"b",this.t1b),this.D,
"e",this.h2b),this.D,"us",this.j4b),this.D,"ud",this.i4b),this.D,"ail",this.h4b),this,["aftershow","afterhide"],this.wab);b=this.C.ih();Lvh(d7(this.J),this.nU,b.C,Y6(b));this.B9&&(a=b.getName())&&this.C.D.C(this.B9,a);this.nU&&(a=b.getName())&&this.C.D.C(this.nU,a);this.Ea||(this.ma=new kB(this.getElement(),this.qa()),this.va(this.ma),lB(this.ma));yCh(this)};
m.wab=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.J[b];if(c){a=a.target instanceof l$e;var d=(new W6(b)).setNonAnchored(!0).setApiEventArgs(new QBh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.A5=function(){this.D.A5()};m.vab=function(a){Nw(a.target,"docos-streampane-notificationslink")&&!this.C.V&&this.dispatchEvent("dnd")};
m.a1b=function(){var a=this.F.getValue();zd(a)||(g7(this.J).tf("docos-new-doco").wb({text:a,Em:null,ap:0,quote:null}),this.xy=null)};m.r2b=function(a){if(a=a.target)this.xy=a.getElement()};m.t1b=function(a){zCh(this,a)};m.h2b=function(a){zCh(this,a)};function zCh(a,b){(b=b.target)&&b.getElement()==a.xy&&(a.xy=null)}m.j4b=function(){null!=this.xy&&(this.yWa=this.xy.offsetTop)};m.i4b=function(){null!=this.xy&&this.oO&&(this.oO.scrollTop+=this.xy.offsetTop-this.yWa)};m.h4b=function(){this.dispatchEvent("initial-load-complete")};
m.xab=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&ACh(this,a.C||null);if(a=a.C?this.D.Dc(a.C):null)this.xy=a.getElement()};m.B2b=function(a){a=a.data;var b=a.C||null,c=this.C.J["toggle-show-stream-pane"];c&&(b=b?e7(this.J).ud(b):null)&&(b=(new W6("toggle-show-stream-pane")).addAnchorId(s7(b)).addDocoHandle(w7(e7(this.J),b.getId())).setNonAnchored(!(b.Yy()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new RBh(!0)).build(),c(b));ACh(this,a.C||null)};
function ACh(a,b){(b=b?a.D.Dc(b):null)?(a.xy=b.getElement(),a.oO&&(a.oO.scrollTop=b.getElement().offsetTop)):a.xy=null}m.e3b=function(){this.H.highlightNext()};m.x3b=function(){this.H.highlightPrevious()};m.q5a=function(){var a=this.H.WU(),b=this.H.lq();b=b?e7(this.J).ud(b):null;a&&b&&(a=a.F,b.Zj()?a.h_():a.EB(!0))};m.yab=function(){var a=this.H.WU();a&&a.F.EB(!1)};m.W6a=function(){var a=g7(this.J),b=this.H.lq();a.tf("docos-back-to-document").wb({zj:b})};m.V$b=function(){var a=this.H.WU();a&&szh(a)};
function yCh(a){if(a.Ca&&!a.R&&a.Gb()){var b=Kx(UBh);a.R=new Q;a.R.Va(b);a.vf(a.R,0)}}m.k0a=function(){this.L.Na(this.C.wf)};m.uab=function(){this.dispatchEvent("create-draft")};m.vd=function(){xCh.Ta.vd.call(this);f7(d7(this.J),this.nU)};m.Ja=function(){xCh.Ta.Ja.call(this);delete this.B9;delete this.nU;delete this.xy;delete this.oO;delete this.V;delete this.F;delete this.H;delete this.D;delete this.xa;this.gC&&(delete this.gC,this.gC=null)};function BCh(a){A.call(this);this.H=a;a=$6(a);null!=K(a.C,44)&&null!=K(hZ(a.C),39)&&Ri(hZ(a.C),39)?a=null:a=(a=N(a.C,gZ,7))?a:new gZ;this.C=a;this.D=null;this.F=Qo();Prh(this.H,"netIo")&&this.F.resolve()}v(BCh,A);function CBh(a){if(a.C)return Mo(CCh(a.C));a.D||(a.D=a.F.C.then(function(){return new Lo(function(b,c){Dvh(a.H.get("netIo"),"uc",void 0,function(d){return b(new nsh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.Mo();a.D=null;return CCh(a.C)},void 0,a)}
function DBh(a,b){var c="all"==b;b="none"==b;var d=(new gZ).Na(!0);c=M(d,3,c);c=M(c,4,!b);b=M(c,5,!b);b=M(b,6,!0);a.C=b;b=new Fsh;b=bj(b,1,a.C);Dvh(a.H.get("netIo"),"uc",b)}function CCh(a){return Ui(a,2,!0)?Ri(a,3)?"all":Ui(a,4,!0)||Ui(a,5,!0)?"important":"none":"none"};function DCh(a,b){var c=a.ud(),d=b.ud();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.ox();a=d.ox();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function ECh(a,b){this.C=a;this.$c=b}ECh.prototype.ud=g("C");ECh.prototype.getPosition=g("$c");function FCh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function GCh(a,b){return a.C().tc(b).getId()}function HCh(a,b){for(var c=a.C().rc(),d=0;d<c;++d)a.H(GCh(a,d),Infinity);a.layout(b||[])}m=FCh.prototype;m.layout=function(a){do{var b=a;ICh(this,0,this.C().rc(),1,-Infinity,this.Ugb,this.Vgb,b);b=a;ICh(this,this.C().rc()-1,-1,-1,Infinity,this.Y6a,this.Z6a,b);a.pop()}while(0<a.length)};function JCh(a,b){0==a.D&&(a.D=1);a.F=hd(b,a.F);ld(a.F)}
function KCh(a){0!=a.D&&(2==a.D?HCh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function ICh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=GCh(a,b);var n=b;n=a.C().tc(n).getHeight();var q=a;var r=b;r=q.C().tc(r).ud().getId();q=q.J(r);r=a.L(l);e=Zc(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.Ugb=function(a,b){return b+a+10};m.Y6a=function(a,b){return b-10};m.Vgb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.Z6a=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function LCh(a,b){var c=this;Xzh.call(this,a,b);this.F={};this.ma={};this.Ea=new FCh(u(this.Lj,this),u(this.pRa,this),u(this.moa,this),u(this.I8b,this));this.Ua=$6(a).An;this.Ha=new VL;this.eb=!0;this.Pb=new Dp(this.Zbc,500,this);this.Oa=this.Pa=null;this.Ka=Rvh(a);this.Kb=new qn;this.va(this.Kb);rn(this.Kb,this.Ka.D,function(){c.Qa=!0;c.Za&&MCh(c,c.Za);KCh(c.Ea);c.Bb&&c.wy();c.Qa=!1});this.Bb=!1;this.Za=null;this.Wa=this.Qa=!1}v(LCh,Xzh);var NCh=null;m=LCh.prototype;
m.WO=function(){var a=LCh.Ta.WO.call(this);a.push("docos-layout-vertical");return a};m.W1=ea(!0);m.YI=da("eb");m.ZT=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=w7(e7(this.getContext()),a.getId()),d=w7(e7(this.getContext()),b.getId());return DCh(new ECh(a,this.C[c]||new Zl(Number.MAX_VALUE,Number.MAX_VALUE)),new ECh(b,this.C[d]||new Zl(Number.MAX_VALUE,Number.MAX_VALUE)))};m.hZ=function(a){this.rI(a,!1)};m.Vva=function(a){LCh.Ta.Vva.call(this,a);this.wy()};
m.qXa=function(){for(var a=this.Lj(),b=a.rc(),c=0;c<b;c++){var d=a.tc(c);d.getId()!=this.lq()&&d.getId()!=this.UU()&&d.G8()&&d.collapse()}};m.QI=function(){cAh(this);Rzh(this);for(var a=this.Lj(),b=a.rc(),c=0;c<b;++c){var d=a.tc(c);d.G8()&&!d.Vk()&&Bzh(d)}a=[];(b=this.lq())&&a.push(b);this.Ka.C||this.Qa?(b=this.Ea,b.D=2,JCh(b,a||[])):HCh(this.Ea,a);OCh(this)};m.G0=function(a){this.Pa=a.clone();this.Oa&&this.Oa.contains(a)?this.Pb.start():(a=this.Pb,a.stop(),a.upa())};
m.Zbc=function(){if(this.O){this.Oa=this.Pa.clone();var a=this.Lj();this.Oa.expand(500,0,500,0);var b=a.rc(),c="";0<b&&(c=a.tc(b-1).getId());for(var d=0;d<b;d++){var e=a.tc(d),f=this.ma[e.getId()];f=PCh(e,this.Oa,f.y,c);e.setVisible(f)}}};
m.wy=function(){LCh.Ta.wy.call(this);if(this.Ka.C)this.Bb=!0;else{KCh(this.Ea);var a=this.Lj(),b;for(b in this.F){var c=a.Dc(b);if(c){var d=b==this.lq()||b==this.UU()?-10:this.Ua,e=!c.Uma();b!=this.lq()&&b!=this.UU()&&this.Cb&&(e=e&&this.Cb.Wa);this.zfa(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}OCh(this);this.Bb=!1}};function PCh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.Vk()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function OCh(a){var b=L7(a).J.bounds;b&&(a=a.F0(),!NCh&&!a||rd(NCh,a)||(NCh=a,a=(new W6("bounds")).setUserInitiated(!0).build(),b(a)))}m.moa=function(a){if(a&&!(a in this.F))if(L7(this).Qa){var b=this.pRa(a);null!==b&&(this.F[a]=b)}else if(b=this.Lj().Dc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.I8b=function(a,b){this.F[a]=b};m.rI=function(a){cAh(this);if(L7(this).Qa)QCh(this);else{var b=[];this.lq()&&b.push(this.lq());a&&b.push(a);RCh(this,b)}};
function QCh(a){L7(a).Qa&&(a.F={});var b=a.lq();RCh(a,b?[b]:[])}function RCh(a,b){a.Ka.C||a.Qa?JCh(a.Ea,b):a.Ea.layout(b)}m.OI=function(a){var b=Nd(a),c=Kd(this.C),d=b.length!=c;this.Wa=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Wa=!0;break}}d&&(this.Ka.C?this.Za=a:MCh(this,a))};
function MCh(a,b){a.C=b;SCh(a);cAh(a);a.Wa&&(Rzh(a),a.Wa=!1);QCh(a);b=a.Ha.Oe();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.xT(d)}a.rI();a.wy();a.Za=null}function SCh(a){var b=Object.keys(a.C);b.sort(u(a.K5b,a));a.Ha.clear();for(var c=e7(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=z7(c,parseInt(e,10));f&&c.R(f)&&a.Ha.set(e,a.Ha.$d())}}
m.K5b=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=z7(e7(this.getContext()),c);d=z7(e7(this.getContext()),d);return DCh(new ECh(c,b),new ECh(d,a))};m.zR=function(a){LCh.Ta.zR.call(this,a);SCh(this)};m.eaa=function(a){a=w7(e7(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(SCh(this),b=this.Ha.get(a));return b};
m.zfa=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.Lj();f=h.rc();h=h.tc(f-1).getId();f=PCh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.eb&&l&&this.Lj().rc()<TCh(this);k=this.eb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));Wsh(this.J,h);var n=new xsh(e,[a,b],f,wN);Vsh(this.J,h,n,f,function(){return Hf(n)})}else Iv(e,
a,b),f||c.setVisible(!1);c.TPa=-10==a;this.ma[h]=new Zl(a,b);this.F[h]=b}};function UCh(a,b){return(a=a.C[b])?a.y:null}m.pRa=function(a){a=w7(e7(this.getContext()),a);return UCh(this,a)};m.Aoa=function(a,b){a=UCh(this,a);return null===a?null:new Zl(b?-10:this.Ua,a)};
m.F0=function(){var a=this.Lj();if(!a||!a.Gb())return null;var b=a.rc();if(!b)return null;var c=a.tc(0);b=a.tc(b-1);a=b.getElement();c=this.moa(c.getId());b=this.moa(b.getId());return null!=c&&null!=b?[c,210+this.Ua,b+a.offsetHeight,this.Ua]:null};function TCh(a){a=L7(a);return(a=null!=K(a.C,47)?K(a.C,47):null)?a:100};function VCh(a){this.C=a}v(VCh,k5);pa("docos.api.WriteFeedbackArgs",VCh,void 0);VCh.prototype.getSource=g("C");VCh.prototype.getSource=VCh.prototype.getSource;if(!WCh)var WCh=ea("");if(!XCh)var XCh=ea("");function U7(a,b){var c=this;A.call(this);this.dd=La();this.J={};this.F=new Pvh;var d=U7.__default_config;d&&Yd(this.J,d);a&&Yd(this.J,a);this.D=new tuh(this.J,b);this.F.sf("config",this.D);this.ma={};Ri(this.D.C,17)&&(this.Ya=new Cvh,this.F.sf("errorReporter",this.Ya),this.qua=this.Ya.F.C(this.qua));this.xa=null;this.V={};this.Ha=null;this.Wa=!1;this.Za=!0;this.R=new sBh(this.F,this.D,this);YCh(this,"s",function(){c.C.Oa=!0;if(0<Kd(c.C.C)){ZCh(c);var e=c.D.fk;e&&e(43082,3E4)}});YCh(this,"fe",u(this.Hja,
this));this.fc=new NBh(this,this.F);Nrh();this.qua()}v(U7,A);pa("Docos",U7,void 0);pa("docos.api.connect",function(a){return new U7(a)},void 0);m=U7.prototype;m.L_a=!1;m.sR=null;m.Ya=null;m.n5=null;m.Ut=null;m.Fm=null;m.Cs=null;m.YUa=!1;m.lza=null;m.nt=null;m.EQ=null;
m.qua=function(){if(this.Ya)for(var a in U7.prototype)Ca(this[a])&&(this[a]=this.Ya.F.C(this[a]));this.$a=new Ivh(this.D);this.F.sf("imageManager",this.$a);a=new BCh(this.F);this.F.sf("subscriptionManager",a);this.Ca=new FAh(this.F);this.F.sf("impressionRecorder",this.Ca);this.eb=chd(Qn());this.va(this.eb);this.Ed=new Evh(this.eb);this.F.sf("relativeDateFormatter",this.Ed);this.C=new $xh(this.D);this.F.sf("stream",this.C);this.Pa=new hBh(this.F);this.va(this.Pa);this.Ma=new Nn(this);this.va(this.Ma);
this.Ea=null;this.L=new ivh(this.F);this.F.sf("controller",this.L);this.H=new TAh(this.F,this.L);if(Ri(this.D.C,19)){this.Ea=new IBh(this.F);this.va(this.Ea);a=this.Ea;var b=u(this.Vc,this),c=u(this.Oa,this);a.C?a.C.AFa(u(a.$ub,a,b),u(a.Zub,a,c)):c()}else this.Oa();this.EQ=$Ch(this);this.F.sf("contactStore",this.EQ);this.Ua=this.D.ih().getEmail()?new oAh(this.EQ,this.D.ih(),this.Ca,this.D.bl):null;a=g7(this.F);this.O=this.wc=null;Tn("docs-aria-speakable")&&(this.wc=new qdf(void 0,!0),this.O=new w$e(this.wc,
a),this.O.bind("docos-new-doco",new yBh),this.O.bind("docos-new-reply",new zBh),this.O.bind("docos-delete-doco",new DAh(this.C)),this.O.bind("docos-resolve-doco",new OBh(this.C)),this.O.bind("docos-speak-doco",new PBh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new HAh));this.Qa=new wz(this);this.va(this.Qa);this.Qa.Nb(a.Ra("docos-cancel-insert-discussion"),rs,this.x1b).Nb(a.Ra("docos-delete-doco"),rs,this.bNb).Nb(a.Ra("docos-reject-doco-with-feedback"),rs,this.M1b).Nb(a.Ra("docos-convert-doco"),
rs,this.J1b).Nb(a.Ra("docos-before-highlight-doco"),rs,this.Pva).Nb(a.Ra("docos-highlight-doco"),rs,this.pua).Nb(a.Ra("docos-new-doco"),rs,this.cNb).Nb(a.Ra("docos-resolve-doco"),rs,this.dNb).Nb(a.Ra("docos-back-to-document"),rs,this.n1b).Nb(a.Ra("docos-new-reply"),rs,this.d3b).Nb(a.Ra("docos-write-feedback"),rs,this.U4b).Nb(a.Ra("docos-disable-smart-todo-feature"),rs,this.R1b).Nb(a.Ra("docos-vote-doco"),rs,this.Q4b).Nb(a.Ra("docos-vote-reply"),rs,this.R4b).Nb(a.Ra("mouse-hover-doco-view"),rs,this.$2b);
this.Ma.listen(this.C,"dd",this.X2b).listen(this.C,"af",this.b1b).listen(this.C,"bu",this.W2b).listen(this.C,"p",this.m3b).listen(this.D,"r",this.Aja)};function $Ch(a){var b=Ijd("client").then(function(){var c=qa("gapi.config.update");a.D.Qma&&c("googleapis.config/sessionIndex",a.D.Qma);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return qa("gapi.client")});return new BAh(a.D,LBh(a.D,b),a.dd)}
function ZCh(a){a.EQ&&!a.EQ.C&&luh(a.D.H)&&xuh(a.D)&&Ywh(a.EQ)}function aDh(a){a.Cs||(bDh(a),a.Cs=new xCh(a.F,Qn(a.D.O),a.D.Ul,a.D.Wd),a.Ma.listen(a.Cs,"dnd",a.Hqb),a.Ma.listen(a.Cs,"initial-load-complete",a.AFb),a.Ma.listen(a.Cs,"create-draft",a.Ae));return a.Cs}m.Hqb=function(){this.Cb()};m.AFb=function(){var a=S7(this,"initial-pane-render-done");if(a&&this.lza){var b=La()-this.lza;a(new Tsh("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.J;this.C.J=a;var c=this.C,d=this.D,e={},f=c.J;c=Wd(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Yy()&&!Yuh(k)){var l=wyh(k,f,d);k=Wd(k.D);for(var n in k)l+=wyh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,Yd(a,e),this.Ut.zz(a));this.V=e;e={};for(var q in this.V)e[w7(this.C,q)]=this.V[q];return e};U7.prototype.find=U7.prototype.find;U7.prototype.Wd=function(){this.C.J&&(this.C.J=null,this.Ut.zz(this.V,!0),this.V={})};U7.prototype.clearFind=U7.prototype.Wd;
U7.prototype.Ky=function(){var a=this.D;var b=vyh(this.C,a);b?(b=b.getKey(),a=(a=yyh(b,a))?jo(a).textContent:null):a=null;return a};U7.prototype.getSelectedMatchA11yContext=U7.prototype.Ky;U7.prototype.highlightNext=function(a,b,c){this.Fm&&this.Fm.highlightNext(!!a,b,c)};U7.prototype.highlightNext=U7.prototype.highlightNext;U7.prototype.highlightPrevious=function(a,b,c){this.Fm&&this.Fm.highlightPrevious(!!a,b,c)};U7.prototype.highlightPrevious=U7.prototype.highlightPrevious;
U7.prototype.select=function(a,b){var c=z7(this.C,a);a=c?c.getId():"";b=c?new iZ(a,b):null;c=this.C.ma;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.ma=b;b=c?this.Ut.Dc(c.getKey()):null;c=this.Ut.Dc(a);b&&b!=c&&b.zz();if(c){c.G8()&&(b=uyh(e7(this.F),this.D),c.expand(b?b.getKey():void 0));c.zz();b=tyh(this.C,this.Ut);d=g7(this.F);var e=Psh(S6(a));e.C=b?b.start:0;e=U6(e);d.tf("docos-before-highlight-doco").wb(e);D7(e7(this.F),a);
d.tf("docos-highlight-doco").wb(e);if(b&&ewh(c)&&(a=c.Hb())){c=Tv(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};U7.prototype.select=U7.prototype.select;U7.prototype.b1a=function(){var a=this.C.ma;if(a){this.C.ma=null;(a=this.Ut.Dc(a.getKey()))&&a.zz();a=g7(this.F);var b=Psh(S6(""));b.C=0;b=U6(b);a.tf("docos-before-highlight-doco").wb(b);D7(e7(this.F),null);a.tf("docos-highlight-doco").wb(b)}};
U7.prototype.unselect=U7.prototype.b1a;U7.prototype.E1a=function(){var a=this.C,b=new Pxh(a,"c"),c;for(c in a.C)b.C.push(new Nxh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Qxh(b));a.flush(!0)};U7.prototype.updateAll=U7.prototype.E1a;U7.prototype.b_=function(){return!!Ri(this.D.C,19)&&!!this.D.fc&&!this.D.Rc};U7.prototype.isSavingToOfflineStorage=U7.prototype.b_;U7.prototype.dN=function(){return 0<Hxh.$d()};U7.prototype.hasUnpostedDocos=U7.prototype.dN;
U7.prototype.eN=function(){for(var a=Nd(this.C.L),b=0,c;c=a[b];b++){var d=this.C;if((c=hyh(d,c))&&(c.Zj()?yvh(d,c):d.R(c)))return!0}return!1};U7.prototype.hasVisibleAnchoredDocos=U7.prototype.eN;U7.prototype.s6b=function(a){var b=this.C,c=b.V;b.V=a;if(c!=b.V&&this.Ut&&(a=this.Ut,b=e7(a.context),Kd(b.C))){for(c=a.rc()-1;0<=c;--c){var d=a.tc(c).getId();jCh(a,d)}b=Wd(b.C);for(d in b)hCh(a,d);a.D.QI();gCh(a);a.D.rI()}};
U7.prototype.Aja=function(){cDh(this);0<Kd(this.C.C)&&ZCh(this);if(this.Cs)if("none"!=this.D.$a){var a=this.Cs.D;a.D.QI();gCh(a)}else this.Cs.A5()};U7.prototype.setResolvedAnchoredDocosVisible=U7.prototype.s6b;U7.prototype.c_=function(a,b,c){return dDh(this,a,b?b:void 0,c)};U7.prototype.newDoco=U7.prototype.c_;
U7.prototype.QS=function(a,b,c){if(null==a||zd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=eDh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());kp(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.khb();a=P7(f,u(f.eKb,f,a,d,e,b));
kp(a,c);break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();a=P7(f,u(f.bKb,f,a,d,e,b));kp(a,c);break;default:throw Error("Unknown NewDocoArgs type.");}};U7.prototype.interceptingNewDoco=U7.prototype.QS;function dDh(a,b,c,d,e,f,h){fDh(a,b,c);b=kvh(a.L,b,d||"draft",e,f,h);c&&0<b&&(d={},d[b]=c,V7(a).oU(d));return b}
function eDh(a,b,c,d,e,f,h){fDh(a,b,c);return kp(UAh(a.H,b,d||"draft",e,f,h),u(function(k){if(c&&0<k){var l={};l[k]=c;V7(this).oU(l)}return k},a))}function fDh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.Bb();c&&(a.xa=c)}
U7.prototype.d_=function(a,b){if(null==a||zd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return dDh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),nvh(this.L,a,c,d,b.khb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,ovh(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};U7.prototype.newDoco2=U7.prototype.d_;U7.prototype.TS=function(a,b,c){if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");kp(kp(XAh(this.H,void 0,a,void 0,void 0,b,void 0),u(function(d){0<d&&this.Kb(d);return d},this)),c)};U7.prototype.interceptingNewSuggestion=U7.prototype.TS;
U7.prototype.gN=function(a,b,c){kp(kp(YAh(this.H,a,!0,b),u(function(d){gDh(this,a);return d},this)),c)};U7.prototype.interceptingAcceptSuggestion=U7.prototype.gN;U7.prototype.Bd=function(a){return zvh(this.L,a,!0)};U7.prototype.acceptSuggestions=U7.prototype.Bd;U7.prototype.VS=function(a,b,c){kp(kp(YAh(this.H,a,!1,b),u(function(d){gDh(this,a);return d},this)),c)};U7.prototype.interceptingRejectSuggestion=U7.prototype.VS;U7.prototype.hI=function(a,b){var c=this.H;a=P7(c,u(c.hCa,c,a,!0));kp(a,b)};
U7.prototype.interceptingAcceptSuggestions=U7.prototype.hI;U7.prototype.Jia=function(a,b){b=vvh(this.L,a,!1,b);gDh(this,a);return b};U7.prototype.rejectSuggestion=U7.prototype.Jia;function gDh(a,b){(b=z7(a.C,b))&&a.Fm&&a.Fm.zR(b.getId())}U7.prototype.Qja=function(a){return zvh(this.L,a,!1)};U7.prototype.rejectSuggestions=U7.prototype.Qja;U7.prototype.YS=function(a,b){var c=this.H;a=P7(c,u(c.hCa,c,a,!1));kp(a,b)};U7.prototype.interceptingRejectSuggestions=U7.prototype.YS;
U7.prototype.OS=function(a,b){var c=this.H;a=P7(c,u(c.i$a,c,a));kp(a,b)};U7.prototype.interceptingDeleteReply=U7.prototype.OS;U7.prototype.KS=function(a,b){var c=this.H;a=P7(c,u(c.h$a,c,a));kp(a,b)};U7.prototype.interceptingDeleteReplies=U7.prototype.KS;U7.prototype.Oi=function(a){return(a=z7(this.C,a))?s7(a):null};U7.prototype.getAnchorData=U7.prototype.Oi;U7.prototype.Ty=function(a){return(a=z7(this.C,a))?a.FG():null};U7.prototype.getSuggestionId=U7.prototype.Ty;U7.prototype.Hl=function(){return this.D.ih().getId()};
U7.prototype.getCurrentAuthor=U7.prototype.Hl;U7.prototype.bl=function(a){return(a=z7(this.C,a))?a.Rv().getId():null};U7.prototype.getAuthor=U7.prototype.bl;U7.prototype.Gl=function(a){return(a=z7(this.C,a))?a.Rv().getName():null};U7.prototype.getAuthorName=U7.prototype.Gl;U7.prototype.An=function(a){"string"===typeof a&&(a=this.Ka(a));return hDh(this).D.D9(a)};U7.prototype.getDocoPosition=U7.prototype.An;U7.prototype.getDocoMaxHeight=function(a){return V7(this).getDocoMaxHeight(a)};
U7.prototype.getDocoMaxHeight=U7.prototype.getDocoMaxHeight;U7.prototype.hLb=function(a,b){V7(this).Vma(a,b)};U7.prototype.setDocoMaxHeight=U7.prototype.hLb;U7.prototype.Lh=function(a){a=iDh(this,a);V7(this).OI(a)};U7.prototype.flushAnchors=U7.prototype.Lh;U7.prototype.qh=function(a){V7(this).OI(a)};U7.prototype.flushDocoPositions=U7.prototype.qh;U7.prototype.d2a=function(a){a=iDh(this,a);V7(this).oU(a)};U7.prototype.updateAnchors=U7.prototype.d2a;U7.prototype.m2a=function(a){V7(this).oU(a)};
U7.prototype.updateDocoPositions=U7.prototype.m2a;U7.prototype.Ve=function(a){V7(this).C9(Sc(a,this.Ka,this))};U7.prototype.deleteAnchors=U7.prototype.Ve;U7.prototype.wf=function(a){V7(this).C9(a)};U7.prototype.deleteDocoPositions=U7.prototype.wf;U7.prototype.t2a=function(a){this.Fm?this.Fm.G0(a):this.Ha=a};U7.prototype.updateViewport=U7.prototype.t2a;U7.prototype.Pf=da("Wa");U7.prototype.enableAnchoredDocoAnimations=U7.prototype.Pf;
U7.prototype.Gs=function(){var a=this.D.L;return(a=a?this.C.ud(a):void 0)?s7(a):""};U7.prototype.getLinkedAnchor=U7.prototype.Gs;U7.prototype.Os=function(){var a=this.D.L;return null===a?0:w7(this.C,a)};U7.prototype.getLinkedDoco=U7.prototype.Os;U7.prototype.jT=function(){var a=this.D.L;return null===a?!1:!!this.C.F[a]};U7.prototype.isLinkedDocoDeleted=U7.prototype.jT;function iDh(a,b){var c={};Gd(b,function(d,e){(e=this.Ka(e))&&(c[e]=d)},a);return c}U7.prototype.HIb=function(a){this.C.Ka=a};
U7.prototype.setActiveSuggestions=U7.prototype.HIb;U7.prototype.Tn=function(){var a=this.C.O;return a&&a.Zj()?a.getId():null};U7.prototype.getHighlightedSuggestionDocoId=U7.prototype.Tn;U7.prototype.Ka=function(a){return(a=hyh(this.C,a))?w7(this.C,a.getId()):0};U7.prototype.W9a=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.lza=La();aDh(this).Gb()&&(Hf(this.Cs),this.Cs=null);NIe(this.D.O,!1);aDh(this).render(this.D.O)};U7.prototype.renderPaneSurface=U7.prototype.W9a;
U7.prototype.lT=function(){return aDh(this).D.KFa()};U7.prototype.isPaneSurfaceRendered=U7.prototype.lT;function V7(a){a.Fm||(a.Fm=jDh(a),a.Ha&&(a.Fm.G0(a.Ha),a.Ha=null));return a.Fm}function hDh(a){if(!a.Ut){bDh(a);var b=V7(a);a.Ut=new eCh(a.F,b,u(a.C.R,a.C),b.qa())}return a.Ut}function bDh(a){if(!a.L_a){a.L_a=!0;var b=a.D.O,c=a.D.Ca;b&&(a.D.wc||Xv(kKd(""),b),a.D.D.install(b));!c||b&&Sn(b)==Sn(c)||(a.D.wc||Xv(kKd(""),c),a.D.D.install(c))}}
U7.prototype.Jka=function(){if(!this.D.Ca)throw Error("Anchor surface div not specified in config.");hDh(this).Gb()&&(Hf(this.Ut),this.Ut=null,jDh(this));NIe(this.D.Ca,!1);hDh(this).render(this.D.Ca)};U7.prototype.renderAnchorSurface=U7.prototype.Jka;
function jDh(a){var b=a.D.ej,c=LCh;"absolute"==b&&(c=eAh);if(a.Fm&&(a.Fm instanceof c||a.Fm.pU()instanceof c))return a.Fm;var d=Qn(a.D.Ca);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new kBh(c,d));a.Fm&&(a.Fm.Wma(c),Hf(a.Fm));a.Fm=c;a.Fm.$xa(a);a.va(a.Fm);return a.Fm}
U7.prototype.nla=function(){if(!this.D.Ua)throw Error("Instant docos div not specified in config.");this.nt&&this.nt.Gb()&&(Hf(this.nt),this.nt=null);this.nt||this.J["enable-gsuite-embedding"]||(this.nt=new RAh(this.F,Qn(this.D.Ua)),this.Ma.listen(this.nt,"create-draft",this.Bc),this.nt.render(this.D.Ua))};U7.prototype.renderInstantDocosButton=U7.prototype.nla;U7.prototype.jcc=function(a,b,c){this.nt&&SAh(this.nt,a,b,c)};U7.prototype.showInstantDocosButtonAt=U7.prototype.jcc;
U7.prototype.Bb=function(a){this.nt&&this.nt.nf(a)};U7.prototype.hideInstantDocosButton=U7.prototype.Bb;U7.prototype.ej=function(){return this.Fm?this.Fm.F0():null};U7.prototype.getAnchorSurfaceBounds=U7.prototype.ej;U7.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.D0(this.J))};U7.prototype.setOption=U7.prototype.setOption;U7.prototype.gD=function(){if(this.Cs){var a=this.Cs;a.C.xa&&a.C.xa.focus()}};U7.prototype.grabFocus=U7.prototype.gD;
U7.prototype.V0b=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.D0(this.J)};U7.prototype.setListener=U7.prototype.V0b;function kDh(a,b){return b&&a.C.R(b)?b.getId():null}U7.prototype.Wm=function(a){return(a=z7(this.C,a))?a.ox()?a.ox().getTime():null:null};U7.prototype.getDocoCreationTime=U7.prototype.Wm;
U7.prototype.fN=function(a,b){var c=g7(this.F);a=hyh(this.C,a);a=kDh(this,a);var d=Psh(S6(a||""));b&&(b=this.D.Ka?this.Cs.D.getId():hDh(this).getId(),T6(d,b));c.tf("docos-before-highlight-doco").wb(U6(d));D7(e7(this.F),a);c.tf("docos-highlight-doco").wb(U6(d))};U7.prototype.highlightAnchor=U7.prototype.fN;
U7.prototype.Kb=function(a,b){var c=g7(this.F);a=z7(this.C,a);a=kDh(this,a);var d=Psh(S6(a||""));b&&(b=this.D.Ka?this.Cs.D.getId():hDh(this).getId(),d=T6(d,b));c.tf("docos-before-highlight-doco").wb(U6(d));D7(e7(this.F),a);c.tf("docos-highlight-doco").wb(U6(d))};U7.prototype.highlightDoco=U7.prototype.Kb;U7.prototype.w2a=function(a){var b=g7(this.F);a=z7(this.C,a);a=kDh(this,a);if(null!=a){var c=this.C.ud(a);c&&x7(this.Ca,q7(p7(o7(43045),c)));b.tf("docos-speak-doco").wb(a)}};
U7.prototype.verbalizeDoco=U7.prototype.w2a;U7.prototype.LL=function(a){return!!hyh(this.C,a)};U7.prototype.hasDocoForAnchorId=U7.prototype.LL;U7.prototype.HL=function(a){return!!z7(this.C,a)};U7.prototype.hasDoco=U7.prototype.HL;U7.prototype.hv=function(a){return(a=hyh(this.C,a))?a.Zj()?!yvh(this.C,a):a.isResolved():!1};U7.prototype.getResolvedForAnchorId=U7.prototype.hv;U7.prototype.cT=function(a){return(a=z7(this.C,a))?a.isResolved():!1};U7.prototype.isDocoResolved=U7.prototype.cT;
U7.prototype.Ul=function(){var a=jyh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};U7.prototype.getDocoCounts=U7.prototype.Ul;U7.prototype.Cm=function(){return jyh(this.C).C.clone().serialize()};
U7.prototype.getDocoCounts2=U7.prototype.Cm;U7.prototype.wj=function(){return V7(this).Xma().C.clone().serialize()};U7.prototype.getAnchoredDocoCounts=U7.prototype.wj;U7.prototype.fk=function(){return Nd(this.C.L)};U7.prototype.getAnchors=U7.prototype.fk;U7.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};U7.prototype.getDocoHandles=U7.prototype.getDocoHandles;U7.prototype.Cb=function(){this.D.MI()&&(this.n5||(this.n5=new BBh(this.F),this.va(this.n5)),this.n5.setVisible(!0))};
U7.prototype.displayNotificationControlDialog=U7.prototype.Cb;U7.prototype.Kc=function(a){return a.x};U7.prototype.Rc=function(a){return a.y};function cDh(a){if(a.YUa&&!Prh(a.F,"netIo")){var b=iBh(a.Pa);b&&(a.F.sf("netIo",b),a.Ya&&(a.Ya.H=b),b=a.R,uuh(b.C)?b.C.Bd?uBh(b.F,"r"):tBh(b)&&vBh(b):b.L(null),Prh(a.F,"subscriptionManager")&&Qvh(a.F).F.resolve())}}U7.prototype.ge=function(a){this.R.H.get("netIo").C.FFa(a)};U7.prototype.connectBrowserChannel=U7.prototype.ge;
U7.prototype.Hja=function(){var a=S7(this,"net-error");a&&a((new W6("net-error")).build());this.D.hv&&(this.setOption("accessLevel","readonly"),a=aDh(this),a.Ca||(a.Ca=!0,yCh(a)))};U7.prototype.Vc=function(){uBh(this,"r");this.Oa()};U7.prototype.Oa=function(){this.YUa=!0;cDh(this)};U7.prototype.Eja=function(a){YCh(this,"r",a)};U7.prototype.onReady=U7.prototype.Eja;U7.prototype.Cja=function(a){YCh(this,"s",a)};U7.prototype.onInitialSyncSuccess=U7.prototype.Cja;
U7.prototype.Bja=function(a){YCh(this,"e",a)};U7.prototype.onInitialSyncError=U7.prototype.Bja;U7.prototype.Ae=function(){var a=this.D.J["create-draft"];if(a){var b=(new W6("create-draft")).setApiEventArgs(new O7(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};U7.prototype.Bc=function(){var a=this.D.J["create-draft"];if(a){var b=(new W6("create-draft")).setApiEventArgs(new O7(!0,new Zl(0,this.nt.D.H),this.nt.D.O)).build();a(b)}};
function YCh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=fe(d,c)}else a.ma[b]=c}function uBh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}U7.prototype.Ucc=function(){this.Pb()};U7.prototype.tickle=U7.prototype.Ucc;U7.prototype.Pb=function(){a:{var a=this.R;if(uuh(a.C)){if(!a.O){if(!a.D&&!tBh(a))break a;vBh(a)}mBh(a.D,a.C.Mca?1:void 0)}}};U7.prototype.sync=U7.prototype.Pb;U7.prototype.xi=function(){wBh(this.R)};U7.prototype.fullSync=U7.prototype.xi;
U7.prototype.Od=function(){var a=this.R;uuh(a.C)&&(a.D.H=!0)};U7.prototype.blockFutureSync=U7.prototype.Od;U7.prototype.Wcc=function(){var a=this.R;uuh(a.C)&&(a.D.H=!1)};U7.prototype.unblockFutureSync=U7.prototype.Wcc;U7.prototype.iT=function(){var a=this.R;return uuh(a.C)?a.D.H:!1};U7.prototype.isFutureSyncBlocked=U7.prototype.iT;U7.prototype.yy=function(){var a=this.D;return null!=a.E0?a.E0:6E4};U7.prototype.getRetryBackoffThreshold=U7.prototype.yy;U7.prototype.aT=function(){return this.D.y9};
U7.prototype.isBrowserChannelEnabled=U7.prototype.aT;U7.prototype.hT=function(){return!!Ri(this.D.C,30)};U7.prototype.isDocsStreamHeaderEnabled=U7.prototype.hT;U7.prototype.kT=function(){return vuh(this.D)};U7.prototype.isNewDocosStreamPaneUiEnabled=U7.prototype.kT;U7.prototype.uM=function(){return dyh(this.C)};U7.prototype.hasPendingContent=U7.prototype.uM;m=U7.prototype;
m.x1b=function(a){var b=a.data;a=Quh(Puh(43011),b.zj);var c=null!=b.Em;c&&Ruh(a,b.Em);mvh(jvh(this.F),Suh(a));kp(WAh(this.H,b.zj),u(function(d){if(d){d=(d=this.C.O)&&d.getId()!==b.zj;d||(this.Pva(new ss(c?new Msh("",void 0,void 0,void 0,b.Em):R6())),this.pua(new ss(c?new Msh("",void 0,void 0,void 0,b.Em):R6())));var e=S7(this,"deleted");if(e&&b.Em&&b.ap){var f=(new W6("deleted")).addAnchorId(b.Em).addDocoHandle(b.ap).setUserInitiated(!0).build();e(f);this.sR=null}d&&(this.sR=this.C.O)}},this))};
m.bNb=function(a){a=a.data;lDh(this,a.ap,a.zj,a.mR)};m.M1b=function(a){a=a.data;lDh(this,a.ap,a.zj,a.mR,a.kgb)};function lDh(a,b,c,d,e){var f=S7(a,"before-doco-deleted");if(f&&b){var h=s7(z7(a.C,b));d=e?new JAh(d,e):new CAh(d);b=(new zAh("before-doco-deleted")).addAnchorId(h).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.C)return}mDh(a,c,!0,e)}
m.J1b=function(a){var b=a.data;if((a=S7(this,"converted"))&&b){var c=s7(z7(this.C,b.ap)),d=new N7(c,b.JUa,b.mR);b=(new zAh("converted")).addAnchorId(c).addDocoHandle(b.ap).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.aNb=function(a){(a=z7(this.C,a))&&mDh(this,a.getId(),!1)};U7.prototype.deleteDoco=U7.prototype.aNb;function mDh(a,b,c,d){var e=a.C.ud(b),f=w7(a.C,b);e=s7(e);var h=a.H;b=P7(h,u(h.f$a,h,b,d));kp(b,u(a.C2a,a,e,f,c))}
U7.prototype.C2a=function(a,b,c,d){if(d){d=S7(this,"before-selected");var e=S7(this,"selected"),f=S7(this,"deleted");if(a&&b){if(d){var h=(new W6("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new W6("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new W6("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.sR=null}}};U7.prototype.U0a=function(a){return qvh(this.L,a)};U7.prototype.undoDeleteDoco=U7.prototype.U0a;
U7.prototype.sLb=function(a){this.Za=a;P(hDh(this).getElement(),a)};U7.prototype.setDocosGutterVisibility=U7.prototype.sLb;U7.prototype.fT=g("Za");U7.prototype.isDocosGutterVisible=U7.prototype.fT;U7.prototype.Vg=function(){var a=this.fc;a.C=a.H.H.C;a.F.setOption("accessLevel","readonly")};U7.prototype.enterReanchorMode=U7.prototype.Vg;U7.prototype.ggb=function(){var a=this.fc;a.D.V=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};U7.prototype.resetReanchorMode=U7.prototype.ggb;
U7.prototype.$S=function(a,b){var c=this.H;a=P7(c,u(c.ybc,c,a));kp(a,b)};U7.prototype.interceptingUndoDeleteDoco=U7.prototype.$S;U7.prototype.ubc=function(a,b){this.L.EFa(a,new L6(b))};U7.prototype.setSuggestionQuote=U7.prototype.ubc;U7.prototype.ZS=function(a,b){var c=this.H;b=new L6(b);P7(c,u(c.b9b,c,a,b))};U7.prototype.interceptingSetSuggestionQuote=U7.prototype.ZS;
U7.prototype.Uy=function(a){a=z7(this.C,a);if(!a)return null;if(!a.Zj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.T1()};U7.prototype.getSuggestionQuote=U7.prototype.Uy;U7.prototype.jh=function(a){return this.Ua?pAh(this.Ua,a):new nAh(Mo())};U7.prototype.findAssignee=U7.prototype.jh;U7.prototype.Scc=function(){Rvh(this.F).C=!0};U7.prototype.startBatchEvent=U7.prototype.Scc;U7.prototype.Fg=function(){var a=Rvh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};
U7.prototype.endBatchEvent=U7.prototype.Fg;m=U7.prototype;m.dNb=function(a){a=a.data;var b=this.H;b=P7(b,u(b.s7b,b,a.C,a.D,a.F));kp(b,u(this.N5b,this,a))};
m.N5b=function(a,b){if(b){b=S7(this,"before-selected");var c=S7(this,"selected");if(c){var d=this.C.ud(a.C),e=w7(this.C,a.C);d&&d.Yy()&&e&&(a.D?(b&&(a=(new W6("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new W6("selected")).setUserInitiated(!0).build(),c(a),this.sR=null):(b&&(a=(new W6("before-selected")).addAnchorId(s7(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new W6("selected")).addAnchorId(s7(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.sR=d))}}};
m.Q4b=function(a){a=a.data;var b=this.H;P7(b,u(b.qcc,b,a.C,a.D))};m.R4b=function(a){a=a.data;var b=this.H;P7(b,u(b.rcc,b,a.C,a.D,a.F))};m.n1b=function(a){var b=this.D.Ve;b&&(a=this.C.ud(a.data.zj))&&b(s7(a),!0)};
function nDh(a,b,c){var d=S7(a,c);if(d){var e=a.C.ud(b.C)||null,f=b.F;if(e!=a.sR||"number"===typeof f){var h=new W6(c),k=w7(a.C,b.C);e&&e.Yy()&&k&&h.addAnchorId(s7(e)).addDocoHandle(k);k=new k5;var l=b.R;null!=l?k=new xAh(l):"number"===typeof f?k=new wKg(f):void 0!==b.H&&(k=new KAh(b.H));f=!!e&&!a.C.R(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.sR=e)}}m.Pva=function(a){nDh(this,a.data,"before-selected")};
m.pua=function(a){var b=a.data;nDh(this,b,"selected");if(a=this.C.ud(b.C)){b="number"===typeof b.F?4:b.D==hDh(this).getId()?1:b.D==aDh(this).D.getId()?2:3;var c=this.Ca;a=p7(o7(43044),a);a.H=b;x7(c,q7(a))}};m.d3b=function(a){a=a.data;var b=a.C,c=this.H;P7(c,u(c.L5a,c,a.D,a.F,null,b?b:void 0))};m.U4b=function(a){var b=a.data;if(a=S7(this,"write-feedback"))b=(new W6("write-feedback")).setUserInitiated(!0).setApiEventArgs(new VCh(b.source)).build(),a(b)};
m.R1b=function(){var a=S7(this,"disable-smart-todo-feature");if(a){var b=(new W6("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.cNb=function(a){var b=a.data;kp(XAh(this.H,b.Sab,b.Em,b.text,b.quote,b.Qha,b.D_),u(function(c){if(0<c){var d=b.Em,e=b.ap,f=S7(this,"posted");f&&d&&e&&(d=(new W6("posted")).addAnchorId(d).addDocoHandle(e).setUserInitiated(!0).build(),f(d));this.Pva(new ss(R6()));this.pua(new ss(R6()))}return c},this))};
m.$2b=function(a){var b=S7(this,"hover");if(b){a=a.data;var c=Ssh("hover").setNonAnchored(!a.qKb).setUserInitiated(!0);if(a.zKb){var d=this.C.ud(a.zj);c.addAnchorId(d?s7(d):"");c.addDocoHandle(w7(this.C,a.zj))}b(c.build())}};m.X2b=function(a){if("dd"==a.type){var b=S7(this,"deleted");if(b&&a.C&&a.D&&(a.Mq||this.D.Ha)&&a.V&16){var c=(new W6("deleted")).addDocoHandle(a.D);a.Mq&&c.addAnchorId(a.Mq);a=c.build();b(a)}}};
m.W2b=function(a){if("bu"==a.type){var b=Ssh("created");this.xa&&(b.setApiEventArgs(new EAh(this.xa,a.C[0].Em)),this.xa=null);var c=Ssh("resolved"),d=Ssh("unresolved");b=IAh(b,a.C,8);c=IAh(c,a.C,2);d=IAh(d,a.C,4);oDh(this,"created",b);oDh(this,"resolved",c);oDh(this,"unresolved",d)}};m.m3b=function(a){if("p"==a.type&&(a=S7(this,"pending"))){var b=(new W6("pending")).setUserInitiated(!0).build();a(b)}};
m.b1b=function(){var a=S7(this,"view-updated");if(a){var b=(new W6("view-updated")).setUserInitiated(!0).build();a(b)}};function oDh(a,b,c){a=S7(a,b);!c.isEmpty()&&a&&a(c.build())}function S7(a,b){return a.isDisposed()?null:a.D.J[b]||null}
m.Ja=function(){delete this.Fm;delete this.D;delete this.EQ;delete this.L;delete this.Ya;delete this.Ma;delete this.$a;delete this.Pa;delete this.n5;delete this.Ea;delete this.C;delete this.Qa;Hf(this.nt);delete this.nt;Hf(this.Ut);delete this.Ut;Hf(this.Cs);delete this.Cs;U7.Ta.Ja.call(this);Hf(this.F);delete this.F};pa("Docos",U7,void 0);pa("Docos.Point",Zl,void 0);pa("Docos.Point.getX",U7.prototype.Kc,void 0);pa("Docos.Point.getY",U7.prototype.Rc,void 0);
pa("Docos.AbstractAlteredDocoArgs",Czh,void 0);pa("Docos.NewDraftArgs",Hzh,void 0);pa("Docos.LayoutType.ABSOLUTE","absolute",void 0);pa("Docos.LayoutType.VERTICAL","vertical",void 0);pa("Docos.UiVersion.LEGACY","legacy",void 0);pa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);pa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);pa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);pa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
pa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);pa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);pa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);pa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);pa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);pa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);pa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
pa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);pa("Docos.OptionName.DRIVE_ID","drive-id",void 0);pa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);pa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);pa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);pa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);pa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
pa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);pa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);pa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);pa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);pa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);pa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);pa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
pa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);pa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);pa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);pa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);pa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
pa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);pa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);pa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);pa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);pa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);pa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);pa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);
pa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);pa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);pa("Docos.OptionName.IO","i",void 0);pa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);pa("Docos.OptionName.KEY_DATA","kd",void 0);pa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);pa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);pa("Docos.OptionName.LAYOUT","layout",void 0);
pa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);pa("Docos.OptionName.LINK_OPENER","link-opener",void 0);pa("Docos.OptionName.LISTENERS","listeners",void 0);pa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);pa("Docos.OptionName.LOCAL","l",void 0);pa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);pa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);pa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);
pa("Docos.OptionName.OFFLINE","offline",void 0);pa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);pa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);pa("Docos.OptionName.PANE_DIV","panediv",void 0);pa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);pa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);pa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);pa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);
pa("Docos.OptionName.QUOTE_FN","quotefn",void 0);pa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);pa("Docos.OptionName.READONLY","readonly",void 0);pa("Docos.OptionName.RESOLVE","resolve",void 0);pa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);pa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);pa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);pa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);
pa("Docos.OptionName.SORT_PANE","sortpane",void 0);pa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);pa("Docos.OptionName.STORAGE","storage",void 0);pa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);pa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);
pa("Docos.OptionName.SYNC_ONCE","so",void 0);pa("Docos.OptionName.UI_VERSION","ui-version",void 0);pa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);pa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);pa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);pa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);pa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);
pa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);pa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);pa("Docos.EventType.CONVERTED","converted",void 0);pa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);pa("Docos.EventType.CREATED","created",void 0);pa("Docos.EventType.DELETED","deleted",void 0);
pa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);pa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);pa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);pa("Docos.EventType.HOVER","hover",void 0);pa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);pa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);pa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);
pa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);pa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);pa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);pa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);pa("Docos.EventType.NETWORK_ERROR","net-error",void 0);pa("Docos.EventType.PENDING","pending",void 0);pa("Docos.EventType.POSTED","posted",void 0);pa("Docos.EventType.REANCHOR","reanchor",void 0);
pa("Docos.EventType.RESOLVED","resolved",void 0);pa("Docos.EventType.SELECTED","selected",void 0);pa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);pa("Docos.EventType.UNRESOLVED","unresolved",void 0);pa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);pa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);pa("Docos.AccessLevel.READONLY","readonly",void 0);pa("Docos.AccessLevel.SUGGEST","suggest",void 0);pa("Docos.AccessLevel.FULL","full",void 0);
pa("Docos.NewDocoType",opd,void 0);pa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);pa("Docos.NewDocoType.DISCUSSION","discussion",void 0);pa("Docos.NewDocoType.DRAFT","draft",void 0);pa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);pa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);pa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);pa("Docos.prototype.dispose",U7.prototype.dispose,void 0);pa("Docos.CountField.ACCEPTED","accepted",void 0);
pa("Docos.CountField.DRAFT","draft",void 0);pa("Docos.CountField.OPEN","open",void 0);pa("Docos.CountField.REJECTED","rejected",void 0);pa("Docos.CountField.RESOLVED","resolved",void 0);pa("Docos.CountField.TOTAL","total",void 0);pa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function pDh(){nLg.apply(this,arguments)}t(pDh,nLg);pK("docosbundled",pDh);
