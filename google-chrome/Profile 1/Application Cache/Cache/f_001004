i2c.prototype.g_=W(1351,function(a){iy(this.fb.bw(this.D),"docs-icon-comment-blank-highlighted",a)});m2c.prototype.g_=W(1350,function(a){var b=JI(this.D);this.C.Xe(function(c){var d=a&&c.np().gb()==b;c.g_(d)})});j_b.prototype.MLa=W(1218,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||MG(h)&&d||ROe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||MG(c)&&d||ROe(c)))return c;return null});
Rla.prototype.Ffa=W(7,function(){throw Hca("setValue not supported").C;});Sca.prototype.H=W(2,function(){throw Hca("remove").C;});uda.prototype.H=W(1,function(){this.J.splice(this.F,1);this.F--});Qla.prototype.H=W(0,function(){Zca(0<=this.F);Xla(this.J,this.L[this.F]);Yla(this.J);--this.F});function l4g(a,b){a.ZT=b.ZT;return a}function m4g(a,b,c){for(a=a.jj();a.C();){var d=a.D();if(yb(b,d))return c&&a.H(),!0}return!1}function n4g(a,b,c){return a.bZ(b)?a.Jxa(b,c):null}
function o4g(a,b){var c=b.Tq();b=b.Uq();var d=a.get(c);return!yb(b,d)||null==d&&!a.bZ(c)?!1:!0}function p4g(a){return a?a.Uq():null}function q4g(a){if(a.F.C())return!0;if(!Sa(a.F,a.R))return!1;a.F=a.L.C.jj();return a.F.C()}function r4g(a,b){return(a=a.C.get(b))?a:[]}function s4g(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(yb(a,d.Tq()))return d}return null}function t4g(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}
function u4g(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function v4g(a,b){for(b=b.jj();b.C();){var c=b.D().Uq();if(yb(a,c))return!0}return!1}function w4g(){this.J=this.F=0}t(w4g,Qa);w4g.prototype.C=function(){return this.F<this.L.size()};w4g.prototype.D=function(){this.C();return this.L.kqa(this.J=this.F++)};w4g.prototype.H=function(){this.L.via(this.J);this.F=this.J;this.J=-1};function x4g(){w4g.call(this)}t(x4g,w4g);function y4g(){this.J=!1}t(y4g,Qa);
y4g.prototype.C=g("J");y4g.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=q4g(this);return a};y4g.prototype.H=function(){this.O.H();this.O=null;this.J=q4g(this)};function z4g(){}t(z4g,Qa);z4g.prototype.C=function(){return this.F.C()};z4g.prototype.D=function(){return this.F.D().Uq()};z4g.prototype.H=function(){this.F.H()};function A4g(){}t(A4g,Qa);A4g.prototype.C=function(){return this.F.C()};A4g.prototype.D=function(){return this.F.D().Tq()};A4g.prototype.H=function(){this.F.H()};
function B4g(){this.F=this.J=0}t(B4g,Qa);B4g.prototype.C=function(){return this.J<this.L.C.length};B4g.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};B4g.prototype.H=function(){this.L.via(this.J=this.F);this.F=-1};function C4g(a){var b;null==a?b=0:b=Bb(a)|0;return b}function D4g(a,b){for(var c=C4g(b),d=r4g(a,c),e=0;e<d.length;e++){var f=d[e];if(yb(b,f.Tq()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Uq()}return null}
function E4g(){this.F=0}t(E4g,Qa);E4g.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};E4g.prototype.D=function(){return this.L=this.J[this.F++]};E4g.prototype.H=function(){D4g(this.O,this.L.Tq());0!=this.F&&this.F--};function F4g(){this.D=0}t(F4g,Qa);F4g.prototype.jj=function(){var a=new E4g;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function G4g(a){var b=0;for(a=a.jj();a.C();){var c=a.D();b+=Xba(c);b|=0}return b}function H4g(){}t(H4g,Qa);H4g.prototype.equals=function(a){return null!=a&&a.H_?yb(this.Tq(),a.Tq())&&yb(this.Uq(),a.Uq()):!1};H4g.prototype.nk=function(){return Xba(this.Tq())^Xba(this.Uq())};H4g.prototype.toString=function(){return Ta(this.Tq())+"="+Ta(this.Uq())};H4g.prototype.H_=!0;function I4g(){this.F=0}t(I4g,H4g);I4g.prototype.Tq=function(){return this.C.value[0]};
I4g.prototype.Uq=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};I4g.prototype.Ffa=function(a){return u4g(this.D,this.C.value[0],a)};function J4g(){}t(J4g,Qa);J4g.prototype.C=function(){return!this.J.done};J4g.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new I4g,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};J4g.prototype.H=function(){t4g(this.F,this.O.value[0])};function K4g(){this.D=this.F=0}t(K4g,Qa);
K4g.prototype.jj=function(){var a=new J4g;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function L4g(a){var b=new F4g;b.C=new Map;b.F=a;a.C=b;b=new K4g;b.C=new Map;b.H=a;a.D=b}function M4g(a,b){return Sa(b,a)?"(this Map)":Ta(b)}function N4g(){}t(N4g,Qa);N4g.prototype.toString=function(){return this.C?Vb(this.D)?this.C.toString():Ta(this.C.toString())+Ta(this.D):this.J};function O4g(a,b){var c=new N4g;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ta(c.F)+Ta(c.D);return c}
function P4g(a,b){a.C?Gb(a.C,a.H):a.C=dca(a.F);a=a.C;a.bp=Ta(a.bp)+Ta(b)}function Q4g(){}t(Q4g,Qa);m=Q4g.prototype;m.Tq=g("D");m.Uq=g("C");m.Ffa=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.H_?yb(this.D,a.Tq())&&yb(this.C,a.Uq()):!1};m.nk=function(){return Xba(this.D)^Xba(this.C)};m.toString=function(){return Ta(this.D)+"="+Ta(this.C)};m.H_=!0;function R4g(){}t(R4g,Q4g);function S4g(a,b){var c=new R4g;c.D=a;c.C=b;return c}
function T4g(a,b,c){var d=C4g(b),e=r4g(a,d);if(0==e.length)a.C.set(d,e);else if(d=s4g(b,e))return d.Ffa(c);e[e.length]=S4g(b,c);a.D++;return null}function U4g(a,b,c){for(a=a.YH().jj();a.C();){var d=a.D();if(yb(b,d.Tq()))return c&&(d=S4g(d.Tq(),d.Uq()),a.H()),d}return null}function V4g(){}t(V4g,Qa);m=V4g.prototype;m.add=function(){throw Hca("Add not supported on this collection").C;};m.clear=function(){for(var a=this.jj();a.C();)a.D(),a.H()};m.contains=function(a){return m4g(this,a,!1)};
m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return m4g(this,a,!0)};m.Kc=function(a){for(var b=!1,c=this.jj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Qf=function(){return this.GTa(Array(this.size()))};m.GTa=function(a){var b=this.size();a.length<b&&(a=l4g(Array(b),a));for(var c=a,d=this.jj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};
m.toString=function(){for(var a=O4g("[","]"),b=this.jj();b.C();){var c=b.D();P4g(a,Sa(c,this)?"(this Collection)":Ta(c))}return a.toString()};function W4g(){}t(W4g,V4g);W4g.prototype.clear=function(){this.C.clear()};W4g.prototype.contains=function(a){return this.C.Pu(a)};W4g.prototype.jj=function(){var a=this.C.YH().jj(),b=new z4g;b.F=a;return b};W4g.prototype.size=function(){return this.C.size()};function X4g(){}t(X4g,V4g);
X4g.prototype.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.kDa)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.jj();a.C();){var b=a.D();if(!this.contains(b)){a=!1;break a}}a=!0}return a};X4g.prototype.nk=function(){return G4g(this)};X4g.prototype.Kc=function(a){var b=this.size();if(b<a.size())for(var c=this.jj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.jj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};X4g.prototype.kDa=!0;function Y4g(){}t(Y4g,X4g);m=Y4g.prototype;
m.clear=function(){this.C.clear()};m.contains=function(a){return null!=a&&a.H_?o4g(this.C,a):!1};m.jj=function(){var a=new y4g;a.L=this.C;a.R=a.L.D.jj();a.F=a.R;a.J=q4g(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Tq()),!0):!1};m.size=function(){return this.C.size()};function Z4g(){}t(Z4g,X4g);m=Z4g.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.bZ(a)};m.jj=function(){var a=this.C.YH().jj(),b=new A4g;b.F=a;return b};
m.remove=function(a){return this.C.bZ(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function $4g(){}t($4g,Qa);m=$4g.prototype;m.clear=function(){this.YH().clear()};m.bZ=function(a){return!!U4g(this,a,!1)};m.Pu=function(a){for(var b=this.YH().jj();b.C();){var c=b.D().Uq();if(yb(a,c))return!0}return!1};m.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.p4a||this.size()!=a.size())return!1;for(a=a.YH().jj();a.C();){var b=a.D();if(!o4g(this,b))return!1}return!0};
m.get=function(a){return p4g(U4g(this,a,!1))};m.nk=function(){return G4g(this.YH())};m.isEmpty=function(){return 0==this.size()};m.hPb=function(){var a=new Z4g;a.C=this;return a};m.Jxa=function(){throw Hca("Put not supported on this map").C;};m.remove=function(a){return p4g(U4g(this,a,!0))};m.size=function(){return this.YH().size()};m.toString=function(){for(var a=O4g("{","}"),b=this.YH().jj();b.C();){var c=b.D();c=Ta(M4g(this,c.Tq()))+"="+Ta(M4g(this,c.Uq()));P4g(a,c)}return a.toString()};
m.values=function(){var a=new W4g;a.C=this;return a};m.replace=function(a,b){return n4g(this,a,b)};m.p4a=!0;function a5g(){}t(a5g,$4g);m=a5g.prototype;m.clear=function(){L4g(this)};m.bZ=function(a){var b;Xb(a)?b=null==a?!!s4g(null,r4g(this.C,C4g(null))):void 0!==this.D.C.get(a):b=!!s4g(a,r4g(this.C,C4g(a)));return b};m.Pu=function(a){return v4g(a,this.D)||v4g(a,this.C)};m.YH=function(){var a=new Y4g;a.C=this;return a};
m.get=function(a){var b;Xb(a)?b=null==a?p4g(s4g(null,r4g(this.C,C4g(null)))):this.D.C.get(a):b=p4g(s4g(a,r4g(this.C,C4g(a))));return b};m.Jxa=function(a,b){var c;Xb(a)?c=null==a?T4g(this.C,null,b):u4g(this.D,a,b):c=T4g(this.C,a,b);return c};m.remove=function(a){var b;Xb(a)?b=null==a?D4g(this.C,null):t4g(this.D,a):b=D4g(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return n4g(this,a,b)};function b5g(){}t(b5g,a5g);
b5g.prototype.replace=function(a,b){return n4g(this,a,b)};function c5g(){}t(c5g,V4g);m=c5g.prototype;m.add=function(a){this.OEa(this.size(),a);return!0};m.OEa=function(){throw Hca("Add not supported on this list").C;};m.clear=function(){this.FTa(0,this.size())};m.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.jDa||this.size()!=a.size())return!1;a=a.jj();for(var b=this.jj();b.C();){var c=b.D(),d=a.D();if(!yb(c,d))return!1}return!0};
m.nk=function(){for(var a=1,b=this.jj();b.C();){var c=b.D();a=31*a+Xba(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(yb(a,this.kqa(b)))return b;return-1};m.jj=function(){var a=new w4g;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(yb(a,this.kqa(b)))return b;return-1};m.via=function(){throw Hca("Remove not supported on this list").C;};
m.FTa=function(a,b){var c=new x4g;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.jDa=!0;function d5g(){}t(d5g,c5g);m=d5g.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.OEa=function(a,b){this.C.splice(a,0,b)};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.kqa=function(a){return this.C[a]};m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(yb(a,this.C[b])){a=b;break a}a=-1}return a};
m.jj=function(){var a=new B4g;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(yb(a,this.C[b])){a=b;break a}a=-1}return a};m.via=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.via(a);return!0};m.size=function(){return this.C.length};m.Qf=function(){var a=this.C;return l4g(a.slice(0,this.C.length),a)};
m.GTa=function(a){var b=this.C.length;a.length<b&&(a=l4g(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.FTa=function(a,b){this.C.splice(a,b-a)};m.jDa=!0;function e5g(a){var b=new uta;return Nj(b,6,a)}function f5g(){var a=mx.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function g5g(a){a.v0a=!1;a.u0a=!1}function h5g(a){var b=new am;a.C.forEach(function(c){c.isEmpty()||bm(b,c.Jd())});return b.Jd()}
function i5g(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new Jm(k,h));return!0});return e}function j5g(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new Jm(h,f),!0):!1});return d}function k5g(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?i5g(a,!!b,d,e):j5g(a,d,e)}function l5g(a,b){a.C.V=b;a.xa&&a.D&&(P(a.D,0<b),zp(a.D.childNodes[1],b))}function m5g(a,b,c){a.C.highlightDoco(zR(a.D,b),null==c?void 0:c)}
function n5g(a,b){var c={},d;for(d in b){var e=zR(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function o5g(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,u(ba(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function c5(a){return a.C.hasUnpostedDocos()}function p5g(a,b){return!(!a.D[b]&&!a.J[b])}var q5g={};function d5(a){J(this,a,0,1,null,null)}v(d5,I);d5.prototype.ea=function(){var a=new E;r5g(this,a);return Y(a)};
function r5g(a,b){Aj(a,b,q5g,d5.prototype.getExtension)}function s5g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&qj(b,2,c);c=K(a,3);null!=c&&qj(b,3,c)}function t5g(a){J(this,a,0,-1,null,null)}v(t5g,I);m=t5g.prototype;m.ea=function(){var a=new E;s5g(this,a);return Y(a)};m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};
function u5g(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)}function v5g(a){J(this,a,0,-1,null,null)}v(v5g,I);v5g.prototype.ea=function(){var a=new E;u5g(this,a);return Y(a)};
function w5g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,t5g,3);null!=c&&b.C(3,c,s5g);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,v5g,7);null!=c&&b.C(7,c,u5g);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}function x5g(a){J(this,a,0,-1,null,null)}v(x5g,I);m=x5g.prototype;m.ea=function(){var a=new E;w5g(this,a);return Y(a)};
m.getName=function(){return K(this,1)};m.bd=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Jc=function(a){return L(this,9,a)};var y5g=[8],z5g=[5];function A5g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function e5(a){J(this,a,0,-1,null,null)}v(e5,I);m=e5.prototype;m.ea=function(){var a=new E;A5g(this,a);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};
m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function B5g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,d5,3);null!=c&&b.C(3,c,r5g);c=K(a,4);null!=c&&b.D(4,c)}function C5g(a){J(this,a,0,-1,null,null)}v(C5g,I);m=C5g.prototype;m.ea=function(){var a=new E;B5g(this,a);return Y(a)};
m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function D5g(a,b){a=N(a,BY,1);null!=a&&b.C(1,a,Qef)}function E5g(a){J(this,a,0,-1,null,null)}v(E5g,I);E5g.prototype.ea=function(){var a=new E;D5g(this,a);return Y(a)};
function f5(a){return N(a,C5g,9)}function F5g(a,b){var c=N(a,BY,1);null!=c&&b.C(1,c,Qef);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&rj(b,3,c);c=K(a,4);null!=c&&rj(b,4,c)}function G5g(a){J(this,a,0,-1,null,null)}v(G5g,I);G5g.prototype.ea=function(){var a=new E;F5g(this,a);return Y(a)};G5g.prototype.D=function(a){L(this,2,a)};
function H5g(a,b){var c=K(a,1);null!=c&&rj(b,1,c);c=K(a,2);null!=c&&rj(b,2,c);c=K(a,3);null!=c&&rj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Mj(a,G5g,5);0<c.length&&wj(b,5,c,F5g)}function I5g(a){J(this,a,0,-1,z5g,null)}v(I5g,I);I5g.prototype.ea=function(){var a=new E;H5g(this,a);return Y(a)};function J5g(a){J(this,a,0,-1,y5g,null)}v(J5g,I);m=J5g.prototype;m.ea=function(){var a=new E;K5g(this,a);return Y(a)};
function K5g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,A5g);c=N(a,e5,4);null!=c&&b.C(4,c,A5g);c=N(a,BY,5);null!=c&&b.C(5,c,Qef);c=N(a,x5g,14);null!=c&&b.C(14,c,w5g);c=K(a,6);null!=c&&rj(b,6,c);c=K(a,7);null!=c&&rj(b,7,c);c=g5(a);0<c.length&&wj(b,8,c,K5g);c=f5(a);null!=c&&b.C(9,c,B5g);c=N(a,OT,21);null!=c&&b.C(21,c,qke);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&rj(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,E5g,18);null!=c&&b.C(18,c,D5g);c=N(a,I5g,19);null!=c&&b.C(19,c,H5g);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.getContent=function(){return N(this,e5,3)};m.setContent=function(a){return Nj(this,3,a)};m.Ms=function(){return null!=K(this,3)};function g5(a){return Mj(a,J5g,8)}
m.getOrigin=function(){return K(this,17)};function h5(a){return N(a,J5g,2)}function i5(a){J(this,a,0,-1,null,null)}v(i5,I);function L5g(a){J(this,a,0,-1,null,null)}v(L5g,I);m=i5.prototype;m.ea=function(){var a=new E;M5g(this,a);return Y(a)};
function M5g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=h5(a);null!=c&&b.C(2,c,K5g);c=K(a,3);null!=c&&rj(b,3,c);c=K(a,4);null!=c&&rj(b,4,c);c=a.Pp();null!=c&&b.C(5,c,N5g);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.Pp=function(){return N(this,L5g,5)};m.yu=function(a){return Nj(this,5,a)};m=L5g.prototype;m.ea=function(){var a=new E;N5g(this,a);return Y(a)};
function N5g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,A5g);c=N(a,i5,3);null!=c&&b.C(3,c,M5g)}m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,e5,2)};m.setTitle=function(a){return Nj(this,2,a)};function O5g(a){J(this,a,"gs",-1,null,null)}v(O5g,I);O5g.prototype.ea=function(){var a=new E;var b=this.lp();null!=b&&a.C(1,b,Sef);return Y(a)};O5g.re="gs";O5g.prototype.lp=function(){return N(this,Ref,1)};
var P5g=[1,2],Q5g=[1];function R5g(a){J(this,a,"sr",-1,Q5g,null)}v(R5g,I);R5g.prototype.ea=function(){var a=new E;var b=Mj(this,i5,1);0<b.length&&wj(a,1,b,M5g);b=K(this,2);null!=b&&rj(a,2,b);b=K(this,3);null!=b&&rj(a,3,b);return Y(a)};R5g.re="sr";function S5g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function T5g(a){J(this,a,0,-1,null,null)}v(T5g,I);T5g.prototype.ea=function(){var a=new E;S5g(this,a);return Y(a)};T5g.prototype.getId=function(){return K(this,1)};
T5g.prototype.Jc=function(a){return L(this,1,a)};function U5g(a){J(this,a,"u",-1,P5g,null)}v(U5g,I);U5g.prototype.ea=function(){var a=new E;var b=Mj(this,i5,1);0<b.length&&wj(a,1,b,M5g);b=Mj(this,T5g,2);0<b.length&&wj(a,2,b,S5g);return Y(a)};U5g.re="u";
function V5g(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new fnf(c,a.H):gnf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||enf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Gmf(d.D.metadata,d.F):Mmf),e=b(d.C));if(e)return d.getUrl()}}return null}function W5g(a){null===a.F&&(a.F=V5g(a.C,function(b){return!!b&&!Hmf(b)}),null===a.F&&(a.F=xnf(a,V5g)));return a.F}function X5g(){}t(X5g,X4g);m=X5g.prototype;m.add=function(a){return null==this.C.Jxa(a,this)};m.clear=function(){this.C.clear()};
m.contains=function(a){return this.C.bZ(a)};m.isEmpty=function(){return this.C.isEmpty()};m.jj=function(){return this.C.hPb().jj()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.kDa=!0;function Y5g(a,b,c,d){ZB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(Y5g,ZB);Y5g.prototype.Jw=function(){this.rA=[this.C?p9a(this.element):this.element.offsetLeft,this.element.offsetTop];Y5g.Ta.Jw.call(this)};function Z5g(a,b){A.call(this);this.Mg=a;this.C=b}
v(Z5g,A);m=Z5g.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.Af=function(a,b,c){this.Mg.D.Af(this.C+":"+a,u(this.iIa,this,b),c)};m.DI=function(a){this.D=u(this.iIa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Mg.D.send(this.C+":"+a,b)};m.iIa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ia=function(){this.Mg=this.Mg.C[this.C]=null};
function $5g(a){A.call(this);this.D=a;this.C={};this.D.DI(u(this.F,this))}v($5g,A);function a6g(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new Z5g(a,b);return a.C[b]=c}$5g.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};
$5g.prototype.Ia=function(){Id(this.C,function(a){Jf(a)});Jf(this.D);delete this.C;delete this.D};var b6g={Eb:!0,Fb:!0,Gb:!0,Hb:!0,Lb:!0,Mb:!0},c6g={t4a:"all",Dyc:"important",NONE:"none"};function d6g(){return T('<div class="'+U("docs-docos-activitybox")+'"><div class="'+U("docs-docos-activitybox-inner")+'"></div></div>')}function e6g(a,b,c){Q.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}t(e6g,Q);m=e6g.prototype;
m.Aa=function(){Q.prototype.Aa.call(this);var a=this.oa(),b=Ry(d6g,{},{},a);this.jb(b);this.D=a.getElement("docs-docos-caret");this.H=a.$a("docs-docos-activitybox-inner",b);this.L&&(ey(b,"docos-enable-new-header"),ey(this.D,"docos-enable-new-header"));this.O?ey(b,"docos-streampanesize"):ey(b,"docos-streampanesize-legacy")};
m.Ga=function(){eA(this.getElement(),"docos");this.F=new lB(this.getElement());this.F.ij("close-box",27);this.C=new py(this.getElement(),"toggle_display");qy(this.C,!0);Mge(this.C,!1);this.C.bJa=!1;this.getHandler().listen(this.F,"shortcut",this.KSb).listen(this.C,"show",this.R7b).listen(this.C,"hide",this.Q7b).listen(this.C,"beforeshow",this.P7b).listen(this.C,"beforehide",this.O7b)};m.Db=g("H");m.R7b=function(){P(this.D,!0);this.dispatchEvent("show")};m.Q7b=function(){P(this.D,!1)};m.P7b=function(){return this.dispatchEvent("beforeshow")};
m.O7b=function(){return this.J?!1:this.dispatchEvent("hide")};m.setVisible=function(a){this.C&&this.C.setVisible(a)};m.isVisible=function(){return!!this.C&&this.C.isVisible()};m.KSb=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};m.Ia=function(){Jf(this.F);delete this.F;delete this.D;delete this.H;Jf(this.C);delete this.C;Q.prototype.Ia.call(this)};
function f6g(a,b){tS.call(this,void 0,b,!0,!0);this.H=a;this.setTitle("Comment limit");ty(this,Fe("You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy."));this.C.setContent("Make a copy");uTe(this,"Reload");this.Jr=!0}t(f6g,tS);f6g.prototype.Aa=function(){tS.prototype.Aa.call(this);ey(this.getElement(),"docs-error-dialog")};f6g.prototype.Ez=function(){(Ot(),fv).pb(!0);tS.prototype.Ez.call(this)};
f6g.prototype.jX=function(){uF(this.H,!0)};
function g6g(a,b,c,d,e,f,h,k){e=void 0===e?!1:e;f=void 0===f?new To:f;h=void 0===h?(Ot(),a3a):h;Oo.call(this);this.F=null;this.R=!1;this.bb=f;this.C=a;this.Ja=new f6g(b,this.bb);this.Na=c;this.Ha=d;this.Da=e;this.D=new e6g(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.bb);this.La=new Po(this);this.J=new FA(this);this.ma=new HA(void 0,void 0,!0,uC.getInstance());this.L=h;this.V=!1;this.xa=z(y(),
"docs-edll");this.O=(this.H=Sy())&&z(y(),"docs-ehspc");this.Ba=k||null;this.C.onReady(u(this.d8b,this))}t(g6g,Oo);m=g6g.prototype;m.render=ba();
m.d8b=function(){if(!this.H||this.O){var a=this.bb.getElement("docs-docos-commentsbutton");this.F=ST(null);jz(this.F,16,!1);this.F.Va(a);JA(this.ma,this.F,(Ot(),Yv),LA);this.C.setOption(Docos.OptionName.STREAM_BUTTON,a)}this.J.Ob((Ot(),Yv),lt,this.kdc);a=this.H?Vo("docs-chrome"):a.parentNode.parentNode;this.D.render(a);P(this.D.getElement(),!1);Yv.Ma(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.Db());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,
this.xa);this.Na&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");this.H||!this.xa?a=!0:(a=this.C.getLinkedDoco(),a=!!a&&(!this.C.hasDoco(a)||this.C.isDocoResolved(a)||!this.C.getDocoPosition(a)));a?h6g(this):this.C.isLinkedDocoDeleted()&&(a=aB("This comment has been deleted.","info",!0),ZA.getInstance().postMessage(a));this.C.setListener(Docos.OptionName.DIALOG_OPENED,u(this.SUa,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,
u(this.SUa,this));Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,u(this.$8b,this));this.C.setOption(Docos.OptionName.SORT_PANE,!0);this.J.Ob(this.L,jt,this.xYa);this.xYa(new mXa("enabled",this.L.isEnabled(),!1));this.Da||this.C.setListener(Docos.EventType.NETWORK_ERROR,u(this.QSb,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,u(this.T7b,this));this.La.listen(this.D,["show","hide"],this.x5b)};
m.SUa=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};m.$8b=function(a){if(!this.H||this.O)a=a.getArgs(),this.TAa(a.getDisplay(),!1),this.Ba&&this.Ba(cx(this.D.Db()))};m.xYa=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};m.kdc=function(){h6g(this);var a=this.D;a.C&&!b$a(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
m.QSb=function(){if(!this.R&&xq(this.Ha,0)){if(this.C.hasPendingContent()){var a=aB("Failed to post comment due to a network error.","warning",!0);ZA.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);(Ot(),a3a).Ma(!1,"docos-fatal-reason");this.R=!0}};m.T7b=function(){this.Ja.setVisible(!0);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);(Ot(),a3a).Ma(!1,"docos-fatal-reason")};
m.x5b=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a);this.F&&this.F.$b(a);a||this.dispatchEvent("activity-box-closed")};m.TAa=function(a,b){b=void 0===b?!0:b;a&&h6g(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function h6g(a){a.V||(a.V=!0,a.C.renderPaneSurface())}m.Ia=function(){Jf(this.F);Jf(this.La);Jf(this.D);Jf(this.ma);Jf(this.J);Oo.prototype.Ia.call(this)};
function j5(a,b,c){zo.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}t(j5,zo);function i6g(){Oo.call(this);this.F=new am;this.D=this.H=this.J=null;this.L=this.C=!1}t(i6g,Oo);function j6g(a,b,c){k5(a);a.D=b;a.H=c;a.dispatchEvent(new j5("ge",[b],c))}i6g.prototype.R=function(a,b){k5(this);this.D=a;this.H=b;this.dispatchEvent(new j5("ee",[a],b))};function k6g(a){a.C||a.D||k5(a);a.dispatchEvent("oe")}i6g.prototype.O=function(){k5(this);this.dispatchEvent("je")};
i6g.prototype.reset=function(){k5(this);this.dispatchEvent("me")};function k5(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}i6g.prototype.Ia=function(){delete this.J;delete this.F;delete this.H;delete this.D;Oo.prototype.Ia.call(this)};function l6g(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}
function m6g(a){var b=new tta,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new PBd(b)}function n6g(a,b){return(a=GI(a,b))?a.Hc():null}function o6g(a,b){return b?(b=YBd(b))&&ZBd($Bd(b))?n6g(a,b.gb()):null:null}var p6g=[1];function q6g(a){J(this,a,0,-1,null,null)}v(q6g,I);
q6g.prototype.ea=function(){var a=new E;var b=this.lp();null!=b&&a.C(1,b,Sef);return Y(a)};q6g.prototype.lp=function(){return N(this,Ref,1)};function r6g(a){J(this,a,0,-1,null,null)}v(r6g,I);r6g.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};r6g.prototype.Pf=function(){return K(this,1)};function s6g(a){J(this,a,0,-1,p6g,null)}v(s6g,I);
s6g.prototype.ea=function(){var a=new E;var b=Mj(this,i5,1);0<b.length&&wj(a,1,b,M5g);b=K(this,2);null!=b&&rj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&rj(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};
var t6g=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,u6g=/^(.*?)([':;,\.?}\]\)!]+)$/;
function v6g(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Ee(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(t6g,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,r){return Dd(n[2],r)&&Gga(n[1],q)>Gga(n[1],r)},l||(e="http://"),l=h.match(u6g),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Ge("a",b,h));d.push(l);return""});return He(d)}function w6g(a,b,c){TJ.call(this,35);this.fd=a;this.C=b;this.F=c}t(w6g,TJ);w6g.prototype.Kd=function(){var a=new pG,b=eo(this.F,this.C);D(a,1,this.fd);D(a,2,b);return a};w6g.prototype.Cg=ea(!1);function l5(){}l5.prototype.getType=ea("ApiEventArgs");l5.prototype.getType=l5.prototype.getType;function x6g(a){this.C=a}v(x6g,l5);pa("docos.api.FindSelectionArgs",x6g,void 0);function y6g(a){return"FindSelectionArgs"===a.getType()}x6g.isFindSelectionArgs=y6g;x6g.prototype.getType=ea("FindSelectionArgs");x6g.prototype.getVerticalOffset=g("C");x6g.prototype.getVerticalOffset=x6g.prototype.getVerticalOffset;function z6g(a){this.F=a}z6g.prototype.C=function(){if(!NI(this.F.C))return[];var a=QI(this.F.C),b=vJ(a);if(qhc(xL(this.F.Ja,a),b).length){var c=WI(a,b);a=a.dc();var d=b.x;b=b.y;c=[QM(this.F)?w1b(c,a,d,b):ritz_api.RitzModelApi.getA11yDisplayValue(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};z6g.prototype.D=ea(0);function A6g(a,b){this.F=a;this.J=b;this.H=aBd()}A6g.prototype.C=function(){if(!NI(this.F.C))return[];var a=QI(this.F.C),b=vJ(a);a=qhc(xL(this.F.Ja,a),b);if(!a.length)return["Not on a comment"];a=this.H.rb(a[0]);b=this.J;b.C.verbalizeDoco(zR(b.D,a));return[]};A6g.prototype.D=ea(0);function B6g(a,b,c,d,e,f,h,k,l,n,q,r,w){A.call(this);this.D=a;this.R=b;this.ma=c;this.Na=d;this.H=e;this.Sa=f;this.Ja=h;this.Oa=k;this.C=l;this.L=n;this.J=b.Ja;this.F=b.C;this.O=aBd();this.V={};this.Ba=new am;this.xa=new NCa(0);a=[this.xa];kd(q.F,a);fhb(q,a);q.C=dhb(q.F);ehb(q);this.Da=r;this.Ha=new ekf(w,this.Da.F);this.qa(this.Ha);this.Ua=new Po(this);this.qa(this.Ua);this.Pa=!1;C6g(this)}t(B6g,A);
function C6g(a){var b=Tc(GSb,function(d){return!b6g[d]});a.Ua.listen(a.Na,"activity-box-closed",a.jBb).listen(a.H,"mouseover",m5(a,a.MLb)).listen(a.H,"click",m5(a,a.HZb)).listen(a.H,"selectionChange",m5(a,a.NLb)).listen(a.H,"inputBoxActivate",m5(a,a.JLb)).listen(a.H,"hide_docos",m5(a,a.LLb)).listen(a.F,"oa",m5(a,a.GZb)).listen(a.Ja,"nd",a.aIb).listen(a.Ja,"od",a.ZHb).listen(a.Ja,"pd",a.YHb).listen(a.H,"insert_doco",a.EZb).listen(new HP(a.Oa),iOc(),a.QLb).listen(a.R,"docos_change",a.YLb).listen(a.L,
"Ci",a.dpb).listen(a.F,"na",a.LQa).listen(a.H,"overlay-redraw",a.xDb);var c=eH(a.F);a.Ua.listen(c,b,a.KLb);a.Ua.listen(c,["Kb"],m5(a,a.FZb));AR(a.D,Docos.EventType.HOVER,m5(a,a.vub));AR(a.D,Docos.EventType.SELECTED,m5(a,a.DZb));AR(a.D,Docos.EventType.CREATED,a.COa,a);AR(a.D,Docos.EventType.UNRESOLVED,a.COa,a);AR(a.D,Docos.EventType.DELETED,a.DOa,a);AR(a.D,Docos.EventType.RESOLVED,a.DOa,a);AR(a.D,Docos.EventType.POSTED,a.Yub,a);AR(a.D,Docos.EventType.PENDING,a.bEb,a);AR(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.lyb,a);VD.Ob(jt,u(a.czb,a));(Ot(),Yv).Ob(jt,u(a.Job,a));Zv.subscribe("action",u(a.SBb,a));lw.subscribe("action",u(a.ZBb,a));mw.subscribe("action",u(a.$Bb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Da.C(Ev,new Ew(b));a.Ha.bind(Ev.getId(),new A6g(a.R,a.D));a.Da.C(Fv,new Ew(b));a.Ha.bind(Fv.getId(),new z6g(a.R));a.LQa()}m=B6g.prototype;m.LQa=function(){var a=NI(this.F);(Ot(),Zv).Ma(a);lw.Ma(a);mw.Ma(a)};m.xDb=function(){D6g(this.L)};
m.czb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.R.gP())};function m5(a,b){return function(c){a.Pa||b.call(a,c)}}m.EZb=function(){var a=QI(this.F),b=vJ(a);if(b&&!c5(this.D)&&!E6g(this,a,b)){var c=ritz_api.RitzModelApi.getNewWorkbookRangeId();a=new w6g(c,a.dc(),fn(b));b=u(this.dzb,this,c,b);a.D=b;this.Sa.C(a)}};m.dzb=function(a,b,c){c&&(a=F6g(this,this.O.rb(new YAd(a))))&&(this.C.dispatchEvent(new j5("ie",[a],b)),this.ma.Ub(2))};
function E6g(a,b,c){b=qhc(xL(a.J,b),c);return b.length?(m5g(a.D,a.O.rb(b[0]),!0),!0):!1}m.COa=function(a){var b=this;Qc(a.D,function(c){G6g(b,!0,c);b.Ba.add(c)})};m.DOa=function(a){var b=this;Qc(a.D,function(c){G6g(b,!1,c);b.Ba.remove(c)})};
function G6g(a,b,c,d,e){c=F6g(a,c);d=d||o6g(a.F,c);e=e||zS(c);if(c&&d&&e){var f=xL(a.J,d);if(b){var h=f.C.Uf(e.y,e.x)||new am;h.add(c);f.J++;ZSb(f.C,e.y,e.x,h)}else(h=f.C.Uf(e.y,e.x))&&h.remove(c)&&f.J--;ZSb(f.D,e.y,e.x,!0);f.H.Vb()||f.H.start();a.F.getActiveGrid()&&(d=d==QI(a.F),b?(a=a.C,(b=d?e:null)&&Km(b,a.J)&&a.F.add(c),a.dispatchEvent(new j5("ae",[c],b))):(a=a.C,(b=d?e:null)&&Km(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new j5("le",[c],b))))}else a.C.dispatchEvent("ne")}
function F6g(a,b){if(!b)return null;if(!a.V[b]){var c=a.O.D(b);c&&(a.V[b]=c)}return a.V[b]}m.GZb=function(){this.C.reset()};m.vub=function(a){a=H6g(this,a);var b=zS(a);this.C.dispatchEvent(new j5("fe",[a],b))};m.Yub=ba();m.bEb=function(){JPe(this.xa,this.D.C.hasPendingContent())};m.lyb=function(a){this.Na&&(a.J||this.C&&!this.C.D)&&this.Na.TAa(!0)};m.jBb=function(){this.ma.Ub(3)};
m.DZb=function(a){if(!(a.C&&y6g(a.C)||c5(this.D))){var b=H6g(this,a),c=zS(b);b&&c?(this.Pa=!0,j6g(this.C,b,c)):b||a.J?this.C.reset():b||this.ma.Ub(3)}};m.dpb=function(){this.Pa=!1};m.LLb=function(){this.C.dispatchEvent("he")};m.NLb=function(){if(!this.L.isEmpty()&&!c5(this.D)){this.ma.Ub(3);var a=this.C,b=vJ(QI(this.F));Km(a.H,b)||!a.D&&!a.C&&Km(a.J,b)||(k5(a),a.dispatchEvent(new j5("de",[],b)))}};
m.HZb=function(){var a=QI(this.F);if(!c5(this.D)&&a){var b=xL(this.J,a),c=(a=vJ(a))?qhc(b,a):[];c.length&&(b=this.C,c=c[0],Km(b.H,a)?(k5(b),b.dispatchEvent(new j5("be",[],a))):b.dispatchEvent(new j5("be",[c],a)))}};m.JLb=function(){c5(this.D)||this.C.reset()};m.FZb=function(){k6g(this.C)};m.KLb=function(){k6g(this.C)};
m.YLb=function(a){a=a.O||[];md(a);for(var b=0;b<a.length;b++){var c=this.O.rb(new YAd(a[b]));if(c){var d=F6g(this,c);(d=gSe(this.J,d))?(G6g(this,!1,c,d.model,d.Nna),G6g(this,!0,c),this.C.dispatchEvent("ne")):this.Ba.contains(c)&&G6g(this,!0,c)}}};m.MLb=function(a){var b=QI(this.F);if(b){if((a=a.yk)&&qqc(a)){var c=xI(b,a.y,a.x);a=c?yn(c):a}else a=null;b=xL(this.J,b);b=a?qhc(b,a):[];c=this.C;c.F.clear();bm(c.F,b);c.J=a;c.dispatchEvent(new j5("ce",b,a))}};
m.aIb=function(){if(!c5(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;k5(a);a.C=b;a.dispatchEvent("ke")}}};m.ZHb=function(){if(!c5(this.D)){var a=this.C;a.C||(k5(a),a.L=!0,a.C=!0,a.dispatchEvent("ke"))}};m.YHb=function(){if(!c5(this.D)){var a=this.C;a.C&&a.L&&(k5(a),a.dispatchEvent("ke"))}};m.QLb=function(a){a.stopPropagation()};function H6g(a,b){b=b.D;return F6g(a,b.length?b[0]:null)}
m.CZb=function(a){var b=F6g(this,a);a=o6g(this.F,b);if(!b||!a)return"";b=zS(b);a=cJ(WI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};m.Job=function(){var a=this.D;if(a=Vsd(a.D,a.C.getLinkedDoco())||"")if(a=F6g(this,a)){var b=zS(a);j6g(this.C,a,b)}else(Ot(),Yv).pb()};m.SBb=function(){var a=QI(this.F);E6g(this,a,vJ(a))};m.ZBb=function(){I6g(this,!1)};m.$Bb=function(){I6g(this,!0)};
function I6g(a,b){var c=J6g(a,b),d=II(a.F),e=QI(a.F),f=vJ(e),h=xL(a.J,e);f=k5g(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.Hc(),h=xL(a.J,e),f=k5g(h,null,b),k=k.vg(),k!=d););f&&null!==k&&(b=qhc(h,f)[0],LI(a.F,k,u(a.IZb,a,e,b,f)))}function J6g(a,b){var c=b?u(a.F.MLa,a.F):u(a.F.gra,a.F);return function(d){return c(d,0,!0,!0)}}m.IZb=function(a,b,c){j6g(this.C,b,c);yJ(a,c)};
m.Ia=function(){delete this.H;delete this.Oa;delete this.O;delete this.V;delete this.D;delete this.J;delete this.Ua;delete this.Sa;delete this.F;delete this.R;Jf(this.xa);delete this.xa;Jf(this.L);delete this.L;Jf(this.C);delete this.C;A.prototype.Ia.call(this)};var K6g={FAc:"docos-insert-discussion",llc:"docos-cancel-insert-discussion",$Hc:"docos-new-doco",aIc:"docos-new-reply",Loc:"docos-delete-doco",Noc:"docos-delete-reply",xsc:"docos-edit-doco",zsc:"docos-edit-reply",ysc:"docos-edit-draft",qkc:"docos-before-highlight-doco",byc:"docos-highlight-doco",cQc:"docos-speak-doco",tNc:"docos-resolve-doco",hkc:"docos-back-to-document",Xhc:"docos-accept-suggestion",kNc:"docos-reject-suggestion",Tmc:"docos-convert-doco",Moc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",eUc:"docos-update-sort",EUc:"docos-vote-doco",FUc:"docos-vote-reply",CHc:"mouse-hover-doco-view"};function L6g(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function n5(){return new L6g("")}function o5(a){return new M6g(a)}function M6g(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function p5(a,b){a.L=b;return a}function N6g(a){a.J=!0;return a}function O6g(a){a.F=!1;return a}function P6g(a,b){a.D=b;return a}
function Q6g(a){a.H=!0;return a}function q5(a){return new L6g(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function r5(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}pa("docos.Event",r5,void 0);pa("docos.api.Event",r5,void 0);r5.prototype.getType=g("type");r5.prototype.getType=r5.prototype.getType;r5.prototype.getAnchors=g("anchors");r5.prototype.getAnchors=r5.prototype.getAnchors;
r5.prototype.getDocos=g("docos");r5.prototype.getDocos=r5.prototype.getDocos;r5.prototype.isNonAnchored=g("nonAnchored");r5.prototype.isNonAnchored=r5.prototype.isNonAnchored;r5.prototype.isUserInitiated=g("userInitiated");r5.prototype.isUserInitiated=r5.prototype.isUserInitiated;r5.prototype.getArgs=g("args");r5.prototype.getArgs=r5.prototype.getArgs;r5.prototype.canPreventDefault=ea(!1);r5.prototype.canPreventDefault=r5.prototype.canPreventDefault;
r5.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};r5.prototype.preventDefault=r5.prototype.preventDefault;r5.prototype.getAnchorIds=g("D");r5.prototype.getAnchorIds=r5.prototype.getAnchorIds;r5.prototype.getDocoHandles=g("F");r5.prototype.getDocoHandles=r5.prototype.getDocoHandles;function R6g(a){return new s5(a)}r5.builder=R6g;function s5(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}pa("docos.api.Event.Builder",s5,void 0);
s5.prototype.addAnchorId=function(a){this.C.push(a);return this};s5.prototype.addAnchorId=s5.prototype.addAnchorId;s5.prototype.setAnchorIds=function(a){this.C=a;return this};s5.prototype.setAnchorIds=s5.prototype.setAnchorIds;s5.prototype.addDocoHandle=function(a){this.D.push(a);return this};s5.prototype.addDocoHandle=s5.prototype.addDocoHandle;s5.prototype.setDocoHandles=function(a){this.D=a;return this};s5.prototype.setDocoHandles=s5.prototype.setDocoHandles;
s5.prototype.setNonAnchored=function(a){this.F=a;return this};s5.prototype.setNonAnchored=s5.prototype.setNonAnchored;s5.prototype.setUserInitiated=function(a){this.H=a;return this};s5.prototype.setUserInitiated=s5.prototype.setUserInitiated;s5.prototype.setApiEventArgs=function(a){this.args=a;return this};s5.prototype.setApiEventArgs=s5.prototype.setApiEventArgs;s5.prototype.isEmpty=function(){return ad(this.C)&&ad(this.D)&&!this.args};s5.prototype.isEmpty=s5.prototype.isEmpty;
s5.prototype.build=function(){return new r5(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new l5)};s5.prototype.build=s5.prototype.build;function S6g(a,b){r5.call(this,a,[],[],!1,!1,new l5);this.interval=this.interval=b}v(S6g,r5);pa("docos.api.TimedEvent",S6g,void 0);function T6g(){this.C={};this.D={}}function U6g(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Io(c,"end",function(){delete f[b];delete h[b];e()})}function V6g(a,b){(a=a.C[b])&&a.stop()}T6g.prototype.getDuration=function(a){return this.D[a]};function W6g(a){var b=a.Zh,c=a.DB,d=a.We;a=a.wR;return T('<div class="'+U("docos-icon")+" "+U("goog-inline-block")+(d?" "+U(d):"")+" "+U(c)+'"><div class="'+U("docos-icon-img")+" "+U("docos-icon-img-container")+" "+U(b)+(a?" "+U("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function X6g(a){var b=a.size,c=a.We,d=a.Ucb,e=a.qoa;a=a.K1;return T('<img class="'+U("docos-avatar")+(c?" "+U(c):"")+'" width="'+U(b)+'" height="'+U(b)+'" alt=""'+(d?' src="'+U(Gx(d))+'"':"")+(e?' data-hovercard-id="'+U(e)+'"':"")+(a?' data-name="'+U(a)+'"':"")+"/>")};function Y6g(a,b,c){b=c||b;c=a.DFa;var d=a.dk,e=a.ao;a='<div class="'+U("docos-assigneeview")+'"><table><tr><td class="'+U("docos-assigneeview-avatar-container")+'">'+S(X6g({size:32,We:"docos-assigneeview-avatar"}))+'</td><td class="'+U("docos-assigneeview-assigneeinfo")+'"><div class="'+U("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+U("docos-assigneeview-assignee-text")+'">'+S(c)+'</div></td><td class="'+U("hide-on-readonly")+'">';e=e={dk:d,ao:e};d=e.dk;e=e.ao;var f='aria-label="'+
Ex("Mark as done and hide discussion.");b=""+S(NA({cd:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:Dx(f+'"'),style:e?4:0,content:Cx(""+S(W6g({Zh:"docos-icon-accept-checkmark-black",DB:"docos-icon-accept-checkmark-size",We:"docos-icon-checkmark jfk-button-img"}))),lO:d},b));b=T(b);return T(a+(c+b+"</td></tr></table></div>"))};function Z6g(a,b){return a?$6g(t5(a),b):!1}function a7g(a,b){return a?Z6g(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function b7g(a,b){a=t5(a);return c7g(a,b)}function d7g(a,b,c){a=c7g(a,b,!0);return c?(new yB("Reassign to {user}")).format({user:a}):(new yB("Assign to {user}")).format({user:a})}function c7g(a,b,c){return $6g(a,b)?c?"you":"You":u5(a)}function $6g(a,b){return null!=a.getEmail()&&null!=b.Wg().getEmail()&&a.getEmail()==b.Wg().getEmail()};function v5(a,b){Q.call(this,b);this.Tc=e7g(a);this.C=w5(a)}v(v5,Q);v5.prototype.yd=!1;v5.prototype.Ga=function(){v5.Ta.Ga.call(this);this.yd&&(this.Gd(),f7g(this))};function g7g(a){a.yd||(a.yd=!0,a.getHandler().listen(a.C,"r",a.Gd),a.Gd(),f7g(a))}v5.prototype.Gd=function(){if(this.sb()){var a=this.getElement(),b=this.C.F;iy(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));iy(this.getElement(),"docos-offline",this.C.R)}};
function x5(a,b,c,d){a.Tc&&(d=a.Tc.Ua.C(d));a.getHandler().listen(b,c,d,void 0);return a}function f7g(a){a.sb()&&x5(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.oi)}v5.prototype.oi=function(a){a.stopPropagation()};function h7g(a,b,c){this.C=a;this.D=b;this.F=c};function i7g(a,b,c,d){v5.call(this,a,b);this.H=a;this.Jc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new OA(null);this.qa(this.R)}t(i7g,v5);m=i7g.prototype;
m.Aa=function(){var a=this.oa(),b=y5(j7g(this)),c=Ry(Y6g,{DFa:b7g(b,this.C),dk:this.C.dk(),ao:"legacy"!=this.C.D});this.jb(c);this.L=a.$a("docos-icon-checkmark",c);this.O=a.$a("docos-icon-img-container",c);this.J=a.$a("docos-mark-done-button",c);this.R.Va(this.J);x5(this,this.R,"action",this.pRb);this.F=a.$a("docos-assigneeview-assignee-text",c);this.D=HV(a,"IMG","docos-assigneeview-avatar",c);a=t5(b);k7g(z5(this.H),this.D,a.D,u5(a));l7g(this,b)};
m.Ga=function(){v5.prototype.Ga.call(this);var a=y5(j7g(this));a=t5(a);m7g(this,a,this.F);m7g(this,a,this.D)};
function l7g(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!Z6g(b,a.C)||"black"==dA()&&wf||"material_yellow"==a.C.D||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=a7g(b,a.C);hy(a.getElement(),["docos-assignee-you","docos-assignee-other"]);hy(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);hy(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
hy(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);ey(a.L,d);ey(a.O,e);ey(a.J,c);ey(a.getElement(),b)}function j7g(a){return A5(a.H).ud(a.getId())}m.update=function(){var a=y5(j7g(this)),b=b7g(a,this.C)||"";zp(this.F,b);B5(z5(this.H),this.D);b=t5(a);k7g(z5(this.H),this.D,b.D,u5(b));l7g(this,a);m7g(this,b,this.F);m7g(this,b,this.D)};
function m7g(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.pRb=function(a){a&&a.stopPropagation();(a=j7g(this))&&!a.isResolved()&&(a=C5(this.H),this.dispatchEvent("br"),a.xf("docos-resolve-doco").pb(new h7g(this.getId(),!0,n7g(this.V))),this.dispatchEvent("ar"))};m.vd=function(){v5.prototype.vd.call(this)};
m.Ia=function(){v5.prototype.Ia.call(this);delete this.F;delete this.D;delete this.L};function o7g(a,b){void 0!==b.getId()&&a.Jc(b.getId());var c=h5(b);if(void 0!==c){var d=h5(a);c?d?p7g(d,c):Nj(a,2,c):Nj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.Pp();if(void 0!==d)if(c=a.Pp(),d)if(c){void 0!==d.getId()&&c.Jc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?q7g(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,i5,3);void 0!==d&&(e=N(c,i5,3),d?e?o7g(e,d):Nj(c,3,d):Nj(c,3,void 0))}else a.yu(d);else a.yu(void 0);void 0!==Cj(b,
6)&&(c=Cj(b,6),L(a,6,c));void 0!==Cj(b,7)&&(c=Cj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Cj(b,9)&&(b=Cj(b,9),L(a,9,b))}
function p7g(a,b){void 0!==b.getId()&&a.Jc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?q7g(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,e5,4);void 0!==c&&(d=N(a,e5,4),c?d?q7g(d,c):Nj(a,4,c):Nj(a,4,void 0));c=N(b,BY,5);void 0!==c&&(c?Nj(a,5,c):Nj(a,5,void 0));d=N(b,x5g,14);if(void 0!==d)if(c=N(a,x5g,14),d)if(c){void 0!==d.getName()&&c.bd(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,t5g,3);if(void 0!==e){var f=
N(c,t5g,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else Nj(c,3,e);else Nj(c,3,void 0)}void 0!==Cj(d,4)&&(e=Cj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,v5g,7);void 0!==f&&(e=N(c,v5g,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):Nj(c,7,f):Nj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else Nj(a,14,d);else Nj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));g5(b)&&(c=id(g5(a),g5(b)),Pj(a,8,c));d=f5(b);void 0!==d&&(c=f5(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,d5,3)&&(e=N(d,d5,3),
Nj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):Nj(a,9,d):Nj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Cj(b,12)&&(c=Cj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Cj(b,15)&&(c=Cj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,E5g,18);void 0!==c&&(e=N(a,E5g,18),c?e?(d=N(c,BY,1),void 0!==d&&(c=N(e,BY,1),d?c?(void 0!==
d.getName()&&c.bd(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Jc(d.getId()),void 0!==Cj(d,5)&&(e=Cj(d,5),L(c,5,e)),void 0!==Cj(d,6)&&(e=Cj(d,6),L(c,6,e)),void 0!==Cj(d,7)&&(e=Cj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):Nj(e,1,d):Nj(e,1,void 0))):Nj(a,18,c):Nj(a,18,void 0));d=N(b,I5g,19);void 0!==d&&(c=N(a,I5g,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),L(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),L(c,4,e)),void 0!==Mj(d,G5g,5)&&(d=Mj(d,G5g,5),Pj(c,5,d))):Nj(a,19,d):Nj(a,19,void 0));void 0!==N(b,OT,21)?(c=N(b,OT,21),Nj(a,21,c)):void 0!==b.getContent()&&Nj(a,21,void 0);void 0!==Cj(b,22)&&(c=Cj(b,22),L(a,22,c));void 0!==Cj(b,23)&&(b=Cj(b,23),L(a,23,b))}function q7g(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function r7g(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Bd(b)?Cd(b.toLowerCase()):null;this.L=c;this.D=d;this.fd=e;this.H=f;this.C=h}r7g.prototype.getName=g("J");r7g.prototype.getEmail=g("F");r7g.prototype.getId=g("fd");function u5(a){a=Bd(ff(a.getName()))?a.getEmail():a.getName();return ff(a)}function s7g(a){var b=t7g(u7g(v7g(w7g((new D5).bd(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Jc(a.getId()||""),!!Cj(a,5));a=!!Cj(a,7);b.D=a;return x7g(b)}
function y7g(a){var b=(new BY).Jc(a.getId()||""),c=a.getName();null!==c&&b.bd(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function D5(){}D5.prototype.bd=function(a){this.H=a;return this};function w7g(a,b){a.C=b&&!Bd(b)?Cd(b.toLowerCase()):null;return a}function v7g(a,b){a.L=b;return a}function u7g(a,b){a.J=b;return a}D5.prototype.Jc=function(a){this.fd=a;return this};function t7g(a,b){a.F=b;return a}
function x7g(a){return new r7g(a.H,a.C,a.L,a.J,a.fd,a.F,a.D)};function z7g(a){N(a,BY,1);this.C=a}function t5(a){a=N(a.C,BY,1);return s7g(a)}z7g.prototype.equals=function(a){return Sj(this.C,a.C)};function A7g(a){var b=new E5g;a=y7g(a);b=Nj(b,1,a);return new z7g(b)};function B7g(a){N(a,BY,1);K(a,2);this.C=a};function C7g(a){this.C=a}function D7g(a,b){var c=[];a=Mj(a.C,G5g,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new B7g(e))}return c}function E5(a){return null!=K(a.C,4)?K(a.C,4):0};function E7g(){var a=F7g;this.C=[];this.D={};this.F=a}E7g.prototype.text=function(a){this.C.push(a)};function G7g(a,b){if(a.D[b])a.C.push(b);else{var c=new H7g(b,a.C.length);a.C.push(c);a.D[b]=c}}function I7g(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Tc(Nd(a.D),function(e){return e.D>c.D});qd(d,function(e,f){return od(e.D,f.D)});a.C.push(new J7g(a.F[b].close,d,a.F))}else a.C.push(b)}E7g.prototype.getResult=function(){return this.C.join("")};
function H7g(a,b){this.F=a;this.D=b;this.C=null}H7g.prototype.getName=g("F");H7g.prototype.toString=function(){return null!==this.C?this.C:this.F};function J7g(a,b,c){this.F=a;this.C=b;this.D=c}J7g.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function K7g(a){a=De(v6g(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new L7g(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new M7g(a.substring(0,c))),a=a.substring(c);b.push(new L7g(a));return new N7g(b)}function O7g(a){var b=new E7g;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=P7g.test(d);d=Q7g.test(d);f?d?(f=b,f.D[e]?I7g(f,e):G7g(f,e)):G7g(b,e):d?I7g(b,e):b.text(e)}return new L7g(b.getResult())}
function R7g(a){return new L7g(a.replace(S7g,"<br>"))}var S7g=/\r\n|\n|\r/g,F7g={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},P7g=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,Q7g=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function L7g(a){this.Ye=a}L7g.prototype.C=function(a){return a(this.Ye)};L7g.prototype.toString=g("Ye");function M7g(a){this.Ye=a}M7g.prototype.C=function(){return this};M7g.prototype.toString=g("Ye");
function N7g(a){this.xi=a}N7g.prototype.C=function(a){var b=Uc(this.xi,function(c){return c.C(a)});return new N7g(b)};N7g.prototype.toString=function(){return this.xi.join("")};function T7g(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=T7g.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),Nj(a,4,void 0),Nj(a,9,void 0));if(void 0!==N(a,OT,21)||void 0!==a.getContent())this.D=null;p7g(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return Sj(this.C,a.C)};
m.Ew=function(){var a=N(this.C,BY,5)||new BY;return s7g(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.by=function(){this.H||(this.H=sW(K(this.C,6)));return this.H};m.pQ=function(){if(void 0===K(this.C,7))return this.by();this.J||(this.J=sW(K(this.C,7)));return this.J};function U7g(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=sW(K(a.C,13))),b=a.F;if(!b||a.pQ()>b)b=a.pQ();return b}
function V7g(a){if(void 0!==f5(a.C)&&("text/html"==f5(a.C).getType()||"text/plain"==f5(a.C).getType())){var b=f5(a.C).getValue();b="text/html"==f5(a.C).getType()?b:$e(b)}return b||""}m.z3=function(){if(void 0!==f5(this.C)){var a=N(f5(this.C),d5,3);if(a)return a.Qf()}return null};m.Yfa=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};m.Zfa=function(){if(null!=N(this.C,OT,21)&&!this.D){var a=N(this.C,OT,21);this.D=Je(K(a,2)||"",null)}return this.D};
m.wx=function(){return null!=N(this.C,e5,4)?N(this.C,e5,4).getValue()||"":""};m.Kwa=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.tR=function(){return!!Cj(this.C,12)};m.oq=function(){return!!K(this.C,13)};m.RB=function(){var a=N(this.C,E5g,18);return null!=a?new z7g(a):null};m.Rz=function(){var a=N(this.C,I5g,19);return null!=a?new C7g(a):null};m.Xj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
m.bI=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function W7g(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.hva=function(){return!!Cj(this.C,22)};m.bva=function(){return 2==this.getOrigin()};function F5(a,b){this.C=new J5g;L(this.C,11,a);b&&b!=a&&this.C.Jc(b)}function X7g(a,b){var c=g5(a.C);c.push(b.C);Pj(a.C,8,c);return a}function Y7g(a,b){L(a.C,16,b);return a}
function G5(a){L(a.C,12,!0);return a}function Z7g(a,b){L(a.C,6,b);return a}function $7g(a){var b=Na();L(a.C,13,b);return a}function a8g(a){L(a.C,13,0);return a}function b8g(a,b){Nj(a.C,18,b.C);L(a.C,10,4);return a}function c8g(a,b){b=y7g(b);Nj(a.C,5,b);return a}function d8g(a){L(a.C,20,1);return a}function H5(a,b,c){b=Cd(b);var d=(new e5).setType("text/plain").setValue(b);Nj(a.C,4,d);b=(new e5).setType("text/html").setValue(K7g(b).C(O7g).C(R7g).toString());a.C.setContent(b);L(a.C,7,c);return a};function e8g(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function f8g(a,b){return a.F.getId()==b.Ew().getId()}function g8g(a,b){return f8g(a,b)&&!!b.wx()&&("suggest"==a.C||"full"==a.C)}function h8g(a,b){return b instanceof T7g&&void 0!==b.Yfa()?!1:(a.H||f8g(a,b))&&(!!b.wx()||b.Xj())&&("suggest"==a.C||"full"==a.C)}function i8g(a,b){return a.D&&!b.Xj()&&("suggest"==a.C||"full"==a.C)}e8g.prototype.yva=g("D");function j8g(a){return"suggest"==a.C||"full"==a.C};function k8g(a){J(this,a,0,-1,null,null)}v(k8g,I);k8g.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function l8g(a,b){this.D=a;this.C=b||null}l8g.prototype.Qo=function(a,b,c){this.D(a,b,c)};l8g.prototype.fBa=function(a){this.C&&this.C(a)};function m8g(a,b,c,d,e){d=d?d.Qf():void 0;e=e?e.Qf():void 0;a(b,c,d,e)};function n8g(a){Oo.call(this);this.W1(a)}v(n8g,Oo);m=n8g.prototype;
m.W1=function(a){var b=a.kd;this.Ui=b;if(void 0===b.Wg())throw Error("Invalid or missing user.");var c=b.Wg();this.nIa=x7g(t7g(u7g(v7g(w7g((new D5).bd(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Jc(c.getId()||""),!!Cj(c,5)));this.tea=!!Cj(b,40);this.daa=!Cj(b,20);this.eaa=K(b,11);this.kKa=!!Cj(b,12);this.Toa=K(b,6);this.mIa=void 0!==a.l?!!a.l:!!Cj(b,25);this.nZa=K(b,21);this.Voa=K(b,23);this.oIa=K(b,24);this.ESa=K(b,31);void 0!==a.i?this.Uoa=a.i:this.Uoa=void 0;if(a=CY(b))this.X1=K(a,1);this.dispatchEvent("r")};
m.Toa=null;m.ESa=null;m.Uoa=void 0;m.eaa=null;m.mIa=!1;m.tea=!1;m.nZa=null;m.Voa=null;m.oIa=null;m.daa=!0;m.kKa=!1;m.nIa=null;m.X1=null;m.Ui=null;m.Wg=g("nIa");function o8g(a,b,c){function d(f){return c?jd(f):f}var e=null;a&&ya(a)&&(e=d(a),ya(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function p8g(a){this.C=a};function q8g(){}q8g.prototype.install=function(a){a=a&&So(a);lbb(a)};q8g.prototype.C=function(a,b){bA(a,b,void 0)};q8g.prototype.cf=function(a){a=a&&So(a);qbb(a)};q8g.prototype.D=function(a,b){pW(a,b)};function r8g(a,b){b=void 0===b?function(){return xme()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));ya(c)&&(c=o8g(c,"kd",!0),c.unshift("kd"),a.kd=new Tef(c));n8g.call(this,a);this.nj=b}t(r8g,n8g);m=r8g.prototype;
m.W1=function(a){n8g.prototype.W1.call(this,a);this.J=this.J||F5b("disco");var b;if(!(b=this.Oa)){b=F5b("usp_dm");var c=new EOd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Oa=b;this.Ib=a["anchor-is-orphaned-fn"]||fe;this.Ba=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new p8g(a.containerdiv));this.ws=b;this.fc=a.storage||null;this.Yc=!!a["storage-ro"];this.Vd=!!a["disable-focus"];this.Gz=!!a.so;this.Of=a.docscroller||null;this.Wn=a["inactive-doco-indent"]||10;this.Wa=
a["instant-docos-div"]||null;this.mb=a["enable-new-delete-ui"]||!1;this.ib=a["delete-dialog-show"]||null;this.O=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.O=new l8g(b,c));this.Hk=a["memory-monitor-fn"]||null;this.Pj=a.layout||null;this.pj=!!a.layoutrtl;this.H=a.listeners||{};this.L=a.panediv||null;this.xa=a.panekbdiv||null;this.t2()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.cb=
b;this.Nc=a.quotefn||null;this.yd=a["user-color-provider-fn"]||null;this.Oz=a["user-color-provider-from-name-fn"]||null;this.xs=a.quoterenderfn||null;this.Ch=!!a["hide-notification"];this.R=!!a.offline;this.qc=!!a.nocss;this.Ec=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Gd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Cj(this.Ui,8);this.F=new e8g(this.Wg(),c?c:d?"readonly":"full",!!Cj(this.Ui,
3),b);this.Sa=!!a.iph;this.Xn=a.maxheight||0;this.Tc=!!a.showerrors;this.Ad=a["stream-button"]||null;this.ye=!!a["disable-spfw"];this.Pa=a["anchor-mutate-fn"]||null;s8g(this)||(this.Pa=null);this.jg=!!a["enable-comment-button"];this.Ja=!!a["enable-gsuite-embedding"];this.Yg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.gm=a["acl-fix-fn"]||null;this.$j=a["load-acl-fixer-fn"]||null;this.Ue=a["intercept-docos-edit-fn"]||null;this.Zi=a["is-an-illegal-write-fn"]||null;this.Wd=
!!a["defer-first-sync"];this.Cm=!!a["enable-lazy-loading"];this.Ha=!!a["enable-all-docos-in-anchored-stream"];this.pz=a["stream-pane-banner-message"]||null;this.Bt=a["stream-pane-banner-learn-more-url"]||null;this.Vm=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Na=(b=a["impression-recorder-fn"])?Ia(m8g,b):null;this.Di=a.hidepromofn;this.qt=a.showpromofn;this.xl=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new q8g;this.im=a["browser-app-clipboard"]||
null;this.Za=a["modal-dialog-z-index"]||null;this.sf=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Da=a["static-input-pane-message"]||null;this.saa=a["drive-id"]||null;this.qb=!!a["enable-roving-tabindex"];this.oi=a["auto-complete-factories"]||[];this.yn=a["overflow-menu-items"]||[];this.D=a["ui-version"]||"legacy";this.Rb=a["link-opener"]||null;this.dispatchEvent("r")};function t8g(a){return null!=K(a.Ui,44)&&null!=K(CY(a.Ui),51)&&!!Cj(CY(a.Ui),51)}
m.WJ=function(){if(this.Ch)return!1;var a=Cj(this.Ui,26);return null!=a?!!a:!0};m.Zea=function(){return!!Cj(this.Ui,43)};m.ova=function(){var a=!1,b=CY(this.Ui);b&&(a=Cj(b,2));return!!Cj(this.Ui,43)&&!!a};function u8g(a){return!!CY(a.Ui)&&!!Cj(CY(a.Ui),32)}m.Lqa=g("saa");function s8g(a){return a.Ui&&!!Cj(a.Ui,18)}m.dk=function(){return!!Cj(this.Ui,39)};m.t2=function(){return null!=K(this.Ui,44)&&!!Cj(CY(this.Ui),53)&&!this.Wg().C};function v8g(a){return a.nj()&&!!Cj(a.Ui,10)&&!a.Vd}
function w8g(a){return Cj(a.Ui,10)?a.oi:[]}function x8g(a){return!!CY(a.Ui)&&!!Cj(CY(a.Ui),50)};function y8g(a,b,c,d,e,f){v5.call(this,a,c);this.D=w5(a);this.Na=Em(Kc(y(),"docs-seu")||this.D.sf||window.location.href);this.Oc=new Oz(c,new z8g(d));this.F=new Zz("",this.Oc,void 0,c);this.F.II=!0;this.Fa(this.F);this.J=null;$c(e,"edit")&&(this.J=new Jz("Edit"),this.J.Lc("docos-edit-menuitem"),this.Oc.Fa(this.J,!0));this.H=null;$c(e,"delete")&&(this.H=new Jz("Delete"),this.H.Lc("docos-delete-menuitem"),this.Oc.Fa(this.H,!0));this.R=null;$c(e,"reanchor")&&u8g(this.D)&&(this.R=new Jz("Reanchor comment"),
this.R.Lc("docos-reanchor-menuitem"),this.Oc.Fa(this.R,!0));this.xa=null;$c(e,"disable")&&(this.xa=new Jz("Turn off suggested action items"),this.xa.Lc("docos-disable-menuitem"),this.Oc.Fa(this.xa,!0));this.Ha=null;$c(e,"help")&&(this.Ha=new Jz("Learn more"),this.Ha.Lc("docos-help-menuitem"),this.Oc.Fa(this.Ha,!0));d=A5(a).ud(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ja=f?I5(d,f):null;this.V=null;w5(a).F.yva()&&$c(e,"resolve")&&(this.V=new Jz(""),this.Oc.Fa(this.V,
!0));this.O=this.Ba=this.ma=null;$c(e,"link")&&(this.Ba=new Jz("Link to this comment..."),this.Ba.Lc("docos-link-menuitem"),this.Oc.Fa(this.Ba,!0),this.O=new Xjf(c,this.D.im||void 0,void 0,null===this.D.Za?void 0:this.D.Za),this.Fa(this.O),ey(xy(this.O),"docos"),this.O.setTitle("Link to this comment..."),A8g(this,b));this.Da=w5(a).yn.map(function(h){return{U9a:h,iMa:new Jz(h.getLabel())}});for(a=0;a<this.Da.length;a++)this.Oc.Fa(this.Da[a].iMa,!0)}t(y8g,v5);m=y8g.prototype;
m.Fc=function(a){v5.prototype.Fc.call(this,a);a=this.oa().$a("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Tc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Va(a),this.F.Ma(!0),this.D.C.C(a,"More options..."),this.F.Ee("More options..."))};
m.Ga=function(){var a=this;v5.prototype.Ga.call(this);B8g(this);x5(x5(x5(this,this.Oc.getElement(),"click",this.vUa),this.F.getElement(),"click",this.vUa),this.D,"r",this.Fsb);x5(this,this.F.getElement(),"keyup",this.Hec);C8g(this,this.J,this.Qfc);C8g(this,this.H,this.Ofc);C8g(this,this.Ba,this.E9b);C8g(this,this.R,this.Ufc);C8g(this,this.V,this.Vfc);C8g(this,this.xa,this.Pfc);C8g(this,this.Ha,this.Tfc);for(var b={},c=0;c<this.Da.length;b={c9:b.c9},c++)b.c9=this.Da[c],C8g(this,b.c9.iMa,function(d){return function(){d.c9.U9a.C((a.Ja||
a.L).wx())}}(b))};m.Sh=function(a){this.oa().Pi(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){B8g(this)};function A8g(a,b){if(a.O){var c=a.Na.clone();b=c.D.set("disco",b);a.O.gVa(ym(c,b).toString())}}function C8g(a,b,c){b&&x5(a,b,"action",c)}m.Vfc=function(a){i8g(this.D.F,this.L)&&(this.dispatchEvent(new D8g("r")),E8g(this,a))};m.Qfc=function(a){F8g(this)&&(this.dispatchEvent(new D8g("e")),E8g(this,a))};
m.Pfc=function(a){this.dispatchEvent(new D8g("i"));E8g(this,a)};m.Ofc=function(a){G8g(this)&&(this.F.Ed(!1),this.dispatchEvent(new D8g("d")),E8g(this,a))};m.Ufc=function(a){this.dispatchEvent(new D8g("ra"));E8g(this,a)};m.Tfc=function(a){this.dispatchEvent(new D8g("h"));E8g(this,a)};m.E9b=function(a){E8g(this,a);this.O.setVisible(!0)};function E8g(a,b){b.stopPropagation();a.F.Ed(!1)}m.Hec=function(a){27==a.keyCode&&a.stopPropagation()};m.vUa=function(a){a.stopPropagation()};m.Fsb=function(){B8g(this)};
function F8g(a){return g8g(a.D.F,a.Ja||a.L)&&!a.ma}function G8g(a){return h8g(a.D.F,a.Ja||a.L)&&!a.D.ma}function B8g(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=H8g(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Ma(i8g(a.D.F,a.L))}a.J&&(b=F8g(a),a.J.Ma(b),a.J.setVisible(b));a.H&&(b=G8g(a),a.H.Ma(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Ma(b),a.R.setVisible(b))}function D8g(a){zo.call(this,a)}t(D8g,zo);
function z8g(a){a=void 0===a?"docos-docomenu":a;Mz.call(this);this.D=a}t(z8g,Mz);z8g.prototype.hc=function(){return(new Vq("goog-menu"," ","docos"," ",this.D)).toString()};function I8g(){cD.call(this,!1)}t(I8g,cD);I8g.prototype.oN=function(a){cD.prototype.oN.call(this,a)};function J8g(){this.C=!1;this.D=new Df;this.qa(this.D)}v(J8g,A);function K8g(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.yy=e;this.C=f;this.D=h}K8g.prototype.ud=g("F");function L8g(){}function J5(a){var b=new L8g;b.D=a;return b}function K5(a,b){a.C=b;return a}function M8g(a,b){a.yy=b;return a}function L5(a){return new K8g(a.D,a.C,a.J||!1,a.L||null,a.yy||null,a.F||null,a.H||null)};function N8g(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Br=h}function O8g(){}function P8g(a){var b=new O8g;b.H=a;return b}function Q8g(a,b){a.D=b;return a}function R8g(a,b){a.Br=b;return a}function S8g(a){return new N8g(a.H,a.L||!1,a.F||null,a.J||null,a.C||null,a.D||null,a.Br||null)};function T8g(a,b,c){var d=h5(a);this.F=a;this.O=b;this.Ys=c||null;this.R=null;this.J={};this.D={};this.C=new T7g(d);this.H=void 0;this.xR=!!N(d,E5g,18);b=this.getId();if(a=h5(a)){a=g5(a);for(c=0;c<a.length;c++)d=new T7g(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,W7g(d)&&(this.H=W7g(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=T8g.prototype;m.Ew=function(){return this.C.Ew()};m.getId=function(){return this.C.getId()};
function M5(a){return K(a.C.C,11)||""}m.pQ=function(){var a=K(this.F,4);if(void 0===a)return this.by();this.V||(this.V=sW(a));return this.V};m.getContent=function(){return this.C.getContent()};m.Kwa=function(){return this.C.Kwa()};m.Yfa=function(){return this.C.Yfa()};m.wx=function(){return this.C.wx()};function N5(a){return K(a.F,8)||""}m.Zfa=function(){return this.C.Zfa()};m.z3=function(){return this.C.z3()};m.ey=function(){return void 0!==K(this.F,8)};
m.isResolved=function(){return!!Cj(this.F,6)};function O5(a,b){var c=Nd(a.D);b&&c.push(a.C);rd(c,function(d,e){return rW(d.by(),e.by())});return c}function I5(a,b){return a.D[b]||null}m.by=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=sW(a)):this.L=null;return this.L};m.getNewDocoType=g("Ys");m.FB=function(){return"draft"==this.Ys||"client-integrated-draft"==this.Ys||"instant-doco"==this.Ys};function U8g(a){return V8g(a)}function V8g(a){return a.FB()||"smart-todo"==a.Ys}
m.$X=function(){return"smart-todo"==this.Ys};m.tR=function(){return!!Cj(this.F,9)};m.oq=function(){return this.C.oq()};m.Rz=function(){return this.C.Rz()};m.RB=function(){return this.C.RB()};function y5(a){var b=a.C.RB()?a.C.RB():null;a=O5(a);for(var c=0;c<a.length;c++){var d=a[c];d.RB()&&(d=d.RB(),b?(b=new z7g(Tj(b.C)),d=t5(d),d=y7g(d),Nj(b.C,1,d)):b=new z7g(Tj(d.C)))}return b}function H8g(a){return a.C.RB()?a.C:null}m.Xj=function(){return this.C.Xj()};
m.isTodo=function(){return null!=this.xR?this.xR:this.xR=!!H8g(this)};m.bI=function(){return this.C.bI()};function W8g(a){if(void 0!==a.H)return a.H;if(!a.Xj())return a.H=null;for(var b in a.D){var c=W7g(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.hva=function(){return this.C.hva()};m.bva=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=O5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};
function X8g(a){this.C=a;this.Ys=null}function P5(a){var b=new i5;a=a.C;Nj(b,2,a);a.getId()||K(a,11);b.Jc(a.getId()||K(a,11));return new X8g(b)}function Y8g(a,b){L(a.C,8,b);return a}function Q5(a,b){L(a.C,9,b);return a}function Z8g(a,b){a.Ys=b;return a}X8g.prototype.getNewDocoType=g("Ys");X8g.prototype.getId=function(){return h5(this.C).getId()};function $8g(a,b,c,d,e,f,h,k){zo.call(this,a);this.L=b;this.C=c;this.O=d;this.Br=e;this.D=f;this.R=h;this.F=k}t($8g,zo);function a9g(){this.Br=this.F=this.D=this.L=this.Vv=null;this.H=this.C=0;this.J=!1}function b9g(a){var b=new a9g;b.Vv=a;return b}function c9g(a,b){a.L=b;return a}function d9g(a,b){a.H=b;return a}function e9g(a,b){a.J=b;return a}function f9g(a){return new $8g(a.Vv,a.L,a.D,a.F,a.Br,a.C,a.H,a.J)};function g9g(a){A.call(this);this.C=a;this.F=w5(a);this.D=h9g(this.C);this.H={}}v(g9g,A);function i9g(a,b,c,d,e,f){var h=jf(),k=new F5(h);d&&H5(k,d,Na());f&&d8g(k);e&&(d=x7g(t7g(w7g(new D5,e).Jc(""),!1)),d=A7g(d),b8g(k,d));c=Z8g(Q5(Y8g(P5(k),b),!1),c);j9g(A5(a.C),c);A5(a.C).flush();k9g(a.D,S8g(R8g(Q8g(P8g(43008),h),b)));return R5(A5(a.C),h)}
function l9g(a,b,c,d,e){d=t7g(w7g(new D5,d).Jc(""),!1);Bd(ff(e))||d.bd(e);e=x7g(d);d=A7g(e);e=jf();var f=Na();c=d8g(b8g(H5(c8g(new F5(e),a.F.Wg()),c,f),d));c=Z8g(Q5(Y8g(P5(c),b),!1),"smart-todo");j9g(A5(a.C),c);A5(a.C).flush();k9g(a.D,S8g(R8g(Q8g(P8g(43023),e),b)));return R5(A5(a.C),e)}
function m9g(a,b,c,d,e){var f=jf(),h=Na();c=H5(c8g(Z7g(G5(new F5(f)),h),a.F.Wg()),c,h);e&&d8g(c);d&&(d=x7g(t7g(w7g(new D5,d).Jc(""),!1)),d=A7g(d),b8g(c,d));c=Q5(P5(c),!0);L(c.C,3,h);b=Z8g(Y8g(c,b),"discussion");j9g(A5(a.C),b);A5(a.C).flush();b=A5(a.C).ud(f);S5(a.D,L5(K5(J5(43009),b)));return R5(A5(a.C),f)}m=g9g.prototype;m.Qdb=function(a){n9g(A5(this.C),a);A5(this.C).flush()};
m.Mdb=function(a,b,c,d){if(a=A5(this.C).ud(a)){if(d&&!a.RB())throw Error("Cannot reassign a doco with no existing assignment");if(a.Xj()&&d)throw Error("Cannot reassign a suggestion.");var e=jf(),f=Na();b=c8g(Z7g(H5(G5(new F5(e)),b,f),f),this.F.Wg());c&&Y7g(b,c);d&&b8g(b,d);c=X7g(new F5(M5(a),a.getId()),b);c=Q5(P5(c),!0);T5(A5(this.C),c);A5(this.C).flush();S5(this.D,L5(K5(J5(d?43020:43010),a)))}};
m.Sdb=function(a,b){if(a=A5(this.C).ud(a)){var c=new F5(M5(a),a.getId()),d=null!=a.Rz()?new C7g(a.Rz().C.clone()):new C7g(new I5g);L(d.C,4,b?1:0);Nj(c.C,19,d.C);G5(c);c=Q5(P5(c),!0);T5(A5(this.C),c);A5(this.C).flush();S5(this.D,L5(K5(J5(b?43040:43041),a)))}};
m.Tdb=function(a,b,c){if(a=A5(this.C).ud(a)){var d=new F5(M5(a),a.getId());if(c=I5(a,c)){var e=null!=c.Rz()?new C7g(c.Rz().C.clone()):new C7g(new I5g),f=new F5(M5(a),c.getId());L(e.C,4,b?1:0);Nj(f.C,19,e.C);X7g(d,G5(f));d=Q5(P5(d),!0);T5(A5(this.C),d);A5(this.C).flush();S5(this.D,L5(M8g(K5(J5(b?43042:43043),a),c)))}}};
m.Cib=function(a,b,c){if(a=A5(this.C).ud(a))if(b=I5(a,b)){var d=Na();c=H5(G5(new F5(K(b.C,11)||"",b.getId())),c,d);c=X7g(new F5(M5(a),a.getId()),c);c=Q5(P5(c),!0);T5(A5(this.C),c);A5(this.C).flush();S5(this.D,L5(M8g(K5(J5(43021),a),b)))}};m.B6b=function(a,b){if(a=A5(this.C).ud(a)){var c=Na();b=H5(new F5(M5(a),a.getId()),b,c);b=Q5(P5(b),!1);T5(A5(this.C),b);A5(this.C).flush()}};
m.Rdb=function(a,b,c){if(a=A5(this.C).ud(a)){if(a.Xj())throw Error("Cannot resolve a suggestion.");var d=jf(),e=Na();d=c8g(Z7g(G5(new F5(d)),e),this.F.Wg());L(d.C,10,b?0:1);c&&H5(d,c,e);c=X7g(new F5(M5(a),a.getId()),d);c=Q5(P5(c),!0);L(c.C,6,b);T5(A5(this.C),c);A5(this.C).flush();S5(this.D,L5(K5(J5(b?43014:43015),a)))}};
m.Ndb=function(a,b){var c=A5(this.C),d=c.ud(a);d&&(this.H[R5(c,a)]=Od(Zd(d.D)),a=$7g(G5(new F5(M5(d),d.getId()))),a=Q5(P5(a),!0),d.$X()||(d=K5(J5(43017),d),null!=b&&(d.F=b),S5(this.D,L5(d))),T5(c,a),c.flush())};
function o9g(a,b){var c=A5(a.C);if(U5(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Da[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=a8g(G5(new F5(M5(d),d.getId()))),f=a.H[b];delete a.H[b];a=Zd(d.J);b=Zd(d.D);for(var h=0;h<f.length;h++){var k=f[h];X7g(e,a8g(G5(new F5(K((b[k]||a[k]).C,11)||"",k))))}e=Q5(P5(e),!0);T5(c,e);c.flush();return R5(c,d.getId())}
m.pIa=function(a,b){if(a=U5(A5(this.C),a)){var c=a.bI();if(!a.Xj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=G5(new F5(M5(a),a.getId()));c=(new C5g).setType("application/vnd.google-apps.docs.mds");b=Nj(c,3,b);Nj(a.C,9,b);b=Q5(P5(a),!0);T5(A5(this.C),b);A5(this.C).flush()}};m.Aib=function(a,b){if(a=A5(this.C).ud(a)){var c=Na();b=H5(G5(new F5(M5(a),a.getId())),b,c);b=Q5(P5(b),!0);T5(A5(this.C),b);A5(this.C).flush();S5(this.D,L5(K5(J5(43022),a)))}};
m.adb=function(a,b){(a=A5(this.C).ud(a))&&(b=I5(a,b))&&p9g(this,a,b)};function p9g(a,b,c){S5(a.D,L5(M8g(K5(J5(43016),b),c)));T5(A5(a.C),q9g(b,c));A5(a.C).flush()}function q9g(a,b){b=$7g(G5(new F5(K(b.C,11)||"",b.getId())));a=X7g(new F5(M5(a),a.getId()),b);return Q5(P5(a),!0)}m.Pdb=function(a){var b=U5(A5(this.C),a,!0);a=r9g(A5(this.C),a);b&&a&&p9g(this,b,a)};
m.Odb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=U5(A5(this.C),d,!0);d=r9g(A5(this.C),d);e&&d&&b.push(q9g(e,d))}s9g(A5(this.C),b,"c")};function t9g(a,b,c,d){b=U5(A5(a.C),b);if(!u9g(a,b))return 0;var e=jf();T5(A5(a.C),v9g(a,b,e,c));d||(d=a.D,c=K5(J5(c?43027:43028),b),c.J=!0,S5(d,L5(c)));return R5(A5(a.C),b.getId(),e)}function u9g(a,b){if(!b)return!1;if(!b.Xj()||!b.bI())throw Error("Attempting to accept/reject a non-suggestion.");return w9g(A5(a.C),b)?!0:!1}
function v9g(a,b,c,d){a=Y7g(c8g(Z7g(G5(new F5(c)),Na()),a.F.Wg()),b.bI());L(a.C,10,d?2:3);b=X7g(new F5(M5(b),b.getId()),a);return Q5(P5(b),!0)}function x9g(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=U5(A5(a.C),b[h]);if(u9g(a,k)){var l=jf();d.push(v9g(a,k,l,c));e.push(k.getId());f.push(l)}}s9g(A5(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(R5(A5(a.C),e[h],f[h]));return b};function y9g(){Oo.call(this)}v(y9g,Oo);function z9g(a,b){zo.call(this,a);this.ym=b||null}v(z9g,zo);function A9g(){Dq.call(this,"",void 0,!0);this.Ua=new zq(u(this.C,this));this.qa(this.Ua);this.F=null}t(A9g,Dq);A9g.prototype.L=function(a,b,c,d){if(this.F&&!vd(a,"Error in protected function: ")){var e=new r6g;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);B9g(this.F,"rjse",c,void 0,ta,!0,1)}};A9g.prototype.Ia=function(){Dq.prototype.Ia.call(this);delete this.Ua};function C9g(a){Oo.call(this);var b=this;this.F=null;this.H=new po;this.qa(this.H);this.C=a;qo(this.H,this.C.aH(),function(){"hidden"===b.C.getState()&&(b.D=new OC);"visible"!=b.C.getState()||nnb(b.D)||(b.dispatchEvent("Di"),D9g(b))});this.D=new OC;D9g(this)}t(C9g,Oo);C9g.prototype.format=function(a){var b=new OC(a);b=(new OC).getTime()-b.getTime();if(15552E6<b||-864E5>b)return E9g.format(a);b=eff(a.getTime());return F9g.format(a)+(" "+b)};
function D9g(a){var b=new OC;b.add(new NC(0,0,1));b=b.getTime();bq(a.F);a.F=aq(function(){a.dispatchEvent("Di");D9g(a)},b-Na(),a)}ua(C9g);var F9g=new RC(7),E9g=new RC(2);function G9g(a,b,c){this.Tx=a;this.src=b;this.C=c};function H9g(a){A.call(this);this.D=a;this.C={};this.J={};this.L=this.D.R;this.fd=0;this.H=[];this.La=new Po(this);this.qa(this.La);this.La.listen(this.D,"r",this.O)}t(H9g,A);function I9g(a){return"legacy"===a.D.D?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function J9g(a,b,c,d){if(b){var e="dcs-img-"+a.fd++;b.id=e;b.alt=d;a.C[e]=b;a.J[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";K9g(a,e)}}function k7g(a,b,c,d){b&&a.H.push(new G9g(b,c,d))}function L9g(a){aq(function(){for(;this.H.length;){var b=this.H.pop();J9g(this,b.Tx,b.src,b.C)}},0,a)}function B5(a,b){b&&b.id&&(a.La.Bc(b,M9g,a.F),delete a.C[b.id],delete a.J[b.id])}H9g.prototype.O=function(){var a=this.D.R;if(this.L!=a&&(this.L=a,!a))for(var b in this.C)K9g(this,b)};
H9g.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.D.C.C(b,"")),this.La.Bc(b,M9g,this.F),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):B5(this,b)}};function K9g(a,b){a.La.listen(a.C[b],M9g,a.F);a.C[b].src=a.J[b]}var M9g=[pf?"readystatechange":"load","abort","error"];function N9g(){kW.call(this);this.ma=!1}v(N9g,kW);function w5(a){return a.get("config")}function C5(a){var b=lW(a,"action_registry");if(!b){b=new I8g;for(var c=Nd(K6g),d=0;d<c.length;d++){var e=c[d];e=O((new Ft(e)).zj("label",e).zj("visible",!0).zj("hint",e).zj("enabled",!0));b.bt(e);b.qa(e)}a.Af("action_registry",b)}return b}function A5(a){return a.get("stream")}function z5(a){return a.get("imageManager")}function O9g(a){return a.get("subscriptionManager")}
function h9g(a){return a.get("impressionRecorder")}function e7g(a){return lW(a,"errorReporter")}function P9g(a){var b=lW(a,"batchEventTracker");b||(b=new J8g,a.Af("batchEventTracker",b));return b};function Q9g(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=w5(a).Vm}function R9g(a,b){a.C!=b&&(a.C=b,b={Tj:a.D,oOb:a.O,wOb:b},C5(a.L).xf("mouse-hover-doco-view").pb(b))};function S9g(a){a=a||{};var b=a.wJ,c=a.r0,d=a.xOb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+mW(c)+"><span class="+mW(d)+">"+S(b)+"</span></div>":"<span class="+mW(d)+">"+S(b)+"</span>");return T(a)};function T9g(a){a=a||{};var b=a.Zh,c=a.DB;a=a.wR;return T('<div class="'+U("goog-inline-block")+" "+U("goog-menu-button")+" "+U("docos-docomenu-dropdown")+'">'+(b?S(W6g({Zh:""+b,DB:""+c,wR:a})):"")+"</div>")};function U9g(a,b,c){b=c||b;a=a||{};c=T;var d;if(a.vp){var e=b;b=a||{};var f=b.author,h=b.$g,k=b.fN,l=b.Sma,n=b.We;a=b.Em;var q=b.KB,r=b.Xj,w=b.FB,x=b.Qya,F=b.wJ,M=b.PX,X=b.dk,R=b.Zea,ca=b.ova,ma=b.timestamp,wa=b.Qcb,xa=b.ao;f='<div class="'+U("docos-anchoredreplyview")+(n?" "+U(n):"")+(r?" "+U("docos-replyview-suggest"):" "+U("docos-replyview-comment"))+'"><div class="'+U("docos-anchoredreplyview-header")+'"><div class="'+U("docos-anchoredreplyview-avatar-holder")+'">'+S(X6g({size:32,Ucb:wa,qoa:k?
""+k:"",K1:Bx(f)&&!h?""+f:"",We:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(q?'<div class="'+U("docos-user-presence")+'"></div>':"")+'</div><div class="'+U("docos-anchoredreplyview-authortimestamp")+'"><div class="'+U("docos-anchoredreplyview-author")+" "+U("docos-author")+'"'+(k?' data-hovercard-id="'+U(k)+'"':"")+(Bx(f)&&!h?' data-name="'+U(f)+'"':"")+">"+(f?S(f):"")+'</div><div class="'+U("docos-anchoredreplyview-timestamp")+" "+U("docos-replyview-timestamp")+'">'+(ma?S(ma):"")+
'</div></div><div class="'+U("docos-anchoredreplyview-buttonholder")+" "+U("hide-on-readonly")+'">';Bx(r)&&Bx(q)?(F=F={ao:xa},F=T(V9g({cd:"docos-accept-suggestion jfk-button-collapse-right",ao:F.ao},e)),xa=xa={dk:X,ao:xa},X=xa.dk,xa=xa.ao,e=""+S(NA({title:"Reject suggestion",style:xa?4:0,cd:"docos-reject-suggestion jfk-button-collapse-left",content:Cx(""+(xa?T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
S(W6g({Zh:"docos-icon-reject-suggestion-cross",DB:"docos-icon-reject-suggestion-cross-size",We:"jfk-button-img"})))),lO:X},e)),e=T(e),e=F+e):w?e="":(X=q?R?T(V9g({cd:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):T(S(NA({cd:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!Bx(R)||!Bx(M)&&F?e="":ca?(R=(R=b)||{},xa=R.KB,F=R.PX,R=R.dk,ca=S(W6g({Zh:"docos-icon-thumb-black",DB:"docos-icon-thumb-size",We:"jfk-button-img",
wR:!0}))+'<div class="'+U("like-button-text")+'">',ca+="0</div>",e=""+S(NA({cd:"docos-like-button "+(Bx(xa)&&!F?"jfk-button-collapse-left":""),title:"Like this",content:Cx(ca),lO:R},e)),e=T(e),e=S(e)):(R=(R=b)||{},xa=R.KB,F=R.PX,R=R.dk,ca='<div class="'+U("vote-button-text")+'">',ca+="+1</div>",e=""+S(NA({cd:"docos-vote-button "+(Bx(xa)&&!F?"jfk-button-collapse-left":""),title:"+1 this comment",content:Cx(ca),lO:R},e)),e=T(e),e=S(e)),e=X+e+'<div class="'+U("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
l=f+e+'</div></div><div class="'+U("docos-collapsible-replyview")+" "+(l?"":U("docos-collapsible-replyview-empty"))+'">'+(q||M?"":S(S9g(zx({r0:""},b))))+'<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-replyview-body")+" "+U("docos-anchoredreplyview-body")+'">'+(l?S(l):"")+'</div><div class="'+U("docos-show-more")+'" role="button" tabindex="0">';l=l+'Show more</div><div class="'+(U("docos-show-less")+'" role="button" tabindex="0" style="display:none">');l+="Show less";q?d=S(S9g(zx({r0:"docos-root-reply-action-text-wrapper"},
b))):M?d=S(S9g(zx({r0:"docos-action-text-bottom-wrapper"},b))):d="";l+="</div></div></div>"+(a?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+U("docos-replyview-origin")+" "+U("docos-anchoredreplyview-origin")+'">'+(x?S(x):"")+"</div></div>";d=T(l)}else M=a||{},l=M.author,f=M.$g,e=M.fN,X=M.Sma,x=M.gna,a=M.Em,q=M.Qya,xa=M.timestamp,F=M.ao,d=T,M.KB?(a=(a=M)||{},xa=a.author,F=a.fN,q=a.Sma,R=a.We,x=a.Em,M=a.X$b,l=a.yva,f=a.Qya,e=a.wJ,X=a.PX,ca=a.timestamp,
b='<div class="'+U("docos-streamrootreplyview")+(R?" "+U(R):"")+'"><div class="'+U("docos-streamdocoview-authorname")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(F?' data-hovercard-id="'+U(F)+'"':"")+(xa?' data-name="'+U(xa)+'"':"")+">"+(xa?S(xa):"")+'</div><div class="'+U("goog-inline-block")+" "+U("docos-actionmenu-outer")+'">'+S(T9g(null,b))+'</div><div class="'+U("docos-streamdocoview-details")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-timestamp")+" "+U("docos-replyview-timestamp")+
" "+U("goog-inline-block")+'">'+(ca?S(ca):"")+'</div><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-streamdocoview-comments-off")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(U("docos-streamdocoview-reopen-control")+" "+U("goog-inline-block")+" "+U("hide-on-readonly")+'" style="display: none"><div class="'+U("docos-streamdocoview-bullet")+
" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-docoview-reopen")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=Ex("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',M&&(b+='<div class="'+U("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(U("docos-replyview-quote")+" "+U("docos-replyview-quote-collapsed")+'">'+S(M)+'<div class="'+U("docos-replyview-quote-collapse")+" "+
U("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(U("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamdocoview-body")+" "+U("docos-replyview-body")+'">'+S(q)+"</div>"+(e?S(S9g(zx({r0:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+U("docos-streamdocoview-controls")+" "+U("hide-on-readonly")+'"><div class="'+U("docos-streamdocoview-comment-control")+" "+U("goog-inline-block")+
'"><div class="'+U("docos-docoview-comment")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Ex("Reply to this comment"),b+='">Reply</div></div>',l&&(b+='<div class="'+U("docos-streamdocoview-resolve-control")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>',X?(b+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Ex("Mark as done and hide discussion"),
b+='">Mark as done'):(b+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Ex("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(x?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(f?S(f):"")+"</div></div>",b=T(b)):(b='<div class="'+U("docos-streamreplyview")+'">'+S(X6g({size:F?
32:24,qoa:e?""+e:"",K1:Bx(l)&&!f?""+l:"",We:"docos-replyview-avatar docos-streamreplyview-avatar"}))+'<div class="'+U("docos-streamreplyview-content")+'"><div class="'+U("docos-streamreplyview-text")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamreplyview-author")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(e?' data-hovercard-id="'+U(e)+'"':"")+(l?' data-name="'+U(l)+'"':"")+">"+(l?S(l):"")+"</div>"+S(S9g(M))+' <br><span class="'+U("docos-replyview-body")+" "+U("docos-streamreplyview-body")+
" "+U("docos-replyview-static")+'">'+S(X)+'</span></div><div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamreplyview-timestamp")+" "+U("docos-replyview-timestamp")+" "+U("goog-inline-block")+'">'+(xa?S(xa):"")+"</div>",Bx(x)||Bx(a)?(l=l={Bab:!0,gna:x,Em:a},x=l.gna,M=l.Em,l=l.Bab,f='<div class="'+U("docos-replyview-control")+" "+U("docos-replyview-static")+" "+U("goog-inline-block")+" "+U("hide-on-readonly")+'">',M&&(f+=(l?'<div class="'+U("docos-streamdocoview-bullet")+" "+
U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-edit")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',f+=Ex("Make changes to your comment"),f+='">Edit</div>'),x&&(f+=(l?'<div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-delete")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',f+=Ex("Permanently delete your comment"),
f+='">Delete</div>'),x=T(f+"</div>"),x=S(x)):x="",b=b+x+"</div>"+(a?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(q?S(q):"")+"</div></div></div>"),d=d(b);return c(d)}function W9g(){return T('<div class="'+U("docos-showrepliesbutton")+'" style="display:none"><div class="'+U("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function V9g(a,b){a=a||{};var c=a.cd;a=a.ao;var d=T,e;a?e=T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=S(W6g({Zh:"docos-icon-accept-checkmark-black",DB:"docos-icon-accept-checkmark-size",We:"jfk-button-img"}));return d(S(NA({cd:c?""+c:"",style:a?4:0,content:Cx(""+e)},b)))};function X9g(a,b){a=a||{};var c=a.AGa,d=a.cd,e=a.DJa;a=a.EJa;return T('<div class="'+U("goog-inline-block")+(d?" "+U(d):"")+'">'+S(Mld({Ql:c,cd:e},b))+(c?"<label"+(a?' class="'+U(a)+'"':"")+">"+S(c)+"</label>":"")+"</div>")};function Y9g(a,b,c){b=c||b;a=a||{};var d=a.We;c=a.q$;var e=a.oec,f=a.mna,h=a.FJa,k=a.DFa,l=a.dk,n=a.wJ,q=a.fJ;a='<div class="'+U("docos-input")+(d?" "+U(d):"")+'" style="display: none"><textarea class="'+U("docos-input-textarea")+(h?" "+U(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(n?S(S9g(zx({r0:"docos-edit-pane-action-text-wrapper",xOb:!0},a))):"")+(e?'<div class="'+U("docos-input-sidearrow-outer")+'"></div><div class="'+U("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+U("docos-input-assignment-panel")+'" style="display: none">'+S(Mld({cd:"docos-input-assignment-box"},b))+'<div class="'+U("docos-input-assignee-text")+'">'+S(k)+'</div><div class="'+U("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+U("docos-input-static-message")+'">'+S(q)+"</div>":"")+'<div class="'+U("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+
(U("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(U("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(U("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+U("docos-focusedpresenceindicator-container")+'"></div><div class="'+U("docos-input-buttons")+'">'+S(NA({style:2,
cd:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Discard comment";f="";f=c?f+S(c):f+"Cancel";a+=S(NA({cd:"docos-input-cancel",title:d,content:Cx(f),lO:l},b));return T(a+"</div></div>")};function Z9g(a,b,c){b=c||b;a=a||{};c=T;if(a.vp){a=a||{};var d=a.author,e=a.$X,f=a.PX,h=a.dk,k=a.ao;a.FB?(a=(a=zx({author:d,dk:h},a))||{},d=a.author,e=a.dk,f=a.fJ,b=T('<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-draft")+'">'+S(U9g(zx({author:d,vp:!0,KB:!0,We:"docos-replyview-first"},a),b))+"</div>"+S(Y9g({We:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",dk:e,fJ:f},b)))):e?(d=(d=zx({dk:h,ao:k},a))||{},e=d.Mab,a=
d.dk,f=d.ao,h='<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-smarttodoview")+'"><div class="'+U("docos-smarttodoview-container")+'"><div class="'+U("docos-smarttodoview-header")+'"><table><tr><td class="'+U("docos-icon-explore-container")+'">'+S(W6g({Zh:"docos-icon-explore",DB:"docos-icon-explore-size",wR:!0}))+'</td><td class="'+U("docos-smarttodoview-headertext")+'" role="heading"><div class="'+U("docos-smarttodoview-headertext-outer")+'"><div class="'+U("docos-smarttodoview-headertext-inner")+
'">',h=h+'Suggested action item</div></div></td><td><div class="'+(U("docos-overflowmenu-outer")+'">'+S(T9g({DB:"docos-icon-overflow-three-dots-size",Zh:"docos-icon-overflow-three-dots",wR:f},b))+'</div></td></tr></table></div><div class="'+U("docos-smarttodoview-body")+'"></div>'),h+=S(Y9g({We:"docos-docoview-input-pane",q$:"Dismiss",mna:"Dismiss suggested action item",dk:a},b)),e&&(h+='<div class="'+U("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+U("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Bad suggestion?</div></div>"),a=h,e?(d=d||{},d=d.dk,e='<div class="'+U("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+U("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+"Tell us why you didn't like this</div><div class=\""+(U("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=S(X9g({AGa:"Not an action item",cd:"docos-smarttodoview-feedback-checkbox-container",DJa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
EJa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=S(X9g({AGa:"Wrong assignee",cd:"docos-smarttodoview-feedback-checkbox-container",DJa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",EJa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+U("goog-inline-block")+" "+U("docos-smarttodoview-writefeedback-link")+'" role="button" tabindex="0">',e=e+'Write feedback</div><div class="'+
(U("docos-smarttodoview-feedback-buttonlist")+'">'),e+=S(NA({style:2,cd:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",lO:d},b)),e+=S(NA({cd:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",lO:d},b)),b=T(e+"</div></div>")):b="",b=T(a+("</div>"+b+"</div>")),b=S(b)):b=(f?'<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+U("docos-anchoreddocoview-content")+
" "+U("docos-docoview-replycontainer")+'"><div class="'+U("docos-docoview-rootreply")+'"></div></div><div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+U("docos-unfocusedpresenceindicator-container")+'"></div>';b=T('<div class="'+U("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+U("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else e=a||{},b=e.author,a=e.$g,d=e.fN,e=e.ao,b=T('<div class="'+U("docos-docoview-tesla-conflict")+'">'+
S(X6g({size:e?32:48,qoa:d?""+d:"",K1:Bx(b)&&!a?""+b:"",We:"docos-streamdocoview-avatar"}))+'<div class="'+U("docos-streamdocoview-content")+'"><div class="'+U("docos-docoview-rootreply")+'"></div><div class="'+U("docos-streamdocoview-replycontainer")+" "+U("docos-docoview-replycontainer")+'"></div><div class="'+U("docos-streamdocoview-inputcontainer")+" "+U("hide-on-readonly")+'">'+S(X6g({size:e?32:24,We:"docos-streamreplyview-avatar"}))+'<div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div></div></div></div>');
return c(b)};function $9g(a,b){zo.call(this,a);this.Tj=b}t($9g,zo);function V5(a){$9g.call(this,"rd",a)}t(V5,$9g);function W5(a,b,c,d,e){v5.call(this,a,d);this.R=a;this.Za=c;this.cb=[];this.O=null;this.Pa=new Q9g(this.R,b,this.vp());this.Jc(b);this.Na=null;this.Yc=e;this.qb=this.xa=null;this.Fd=!0;this.qc=!1}t(W5,v5);m=W5.prototype;m.uA=ba();m.Jc=function(a){v5.prototype.Jc.call(this,a);this.Pa.D=a};m.getContext=g("R");m.ud=function(){return A5(this.R).ud(this.getId())||null};m.ul=function(){var a=this.getId();return a$g(this.Yc,a)};m.XR=ea(null);m.Mwa=ea(!1);
m.Aa=function(){var a=this.ud(),b=a.Ew();a=y5(a);var c="Unknown"===b.getName();c=Ry(Z9g,{author:b.getName(),$g:b.C,fN:this.C.V&&!c?b.getId():null,vp:this.vp(),PX:!!a,dk:this.C.dk(),ao:"legacy"!=this.C.D});this.vp()||t8g(this.C)||ey(c,"docos-streampanemargin-legacy");this.jb(c);this.Ee(b,a||void 0)};
m.Ee=function(a,b){b=b?b7g(b,this.C):void 0;a=a.getName();var c=Md(this.ud().D),d=this.ud().isResolved()?"Resolved":"Open";b=a&&b?(new yB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new yB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new yB("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});Ux(this.getElement(),b)};m.Ga=function(){v5.prototype.Ga.call(this);x5(x5(this,this.getElement(),["click","keypress","keyup"],this.lRb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.x7b);Ap(this.getElement(),!0)};m.vd=function(){v5.prototype.vd.call(this);R9g(this.Pa,!1)};m.o$=ea(!1);
m.Lza=ba();m.Nfa=function(){if("legacy"==this.C.D&&this.vp()&&(!this.xa||!this.qb)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");ey(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");ey(c,"docos-anchoreddocoview-arrow-outer");this.qb=c;a.Ps(b,this.xa,0);a.Ps(b,this.qb,0)}};m.Xc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Fd;a||this.setVisible(!0);this.O=new Qm(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Xc();return this.O.height};m.lRb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.uUa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.x7b=function(a){var b=this.Pa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||R9g(b,"mouseenter"==a.type);a.stopPropagation()};m.wY=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new V5(this.getId()))};m.setVisible=function(a){this.Fd=a;P(this.getElement(),a)};m.isVisible=g("Fd");
function b$g(a){var b=["docos-docoview-tesla-conflict"],c=[];c$g(a,"docos-anchoreddocoview",a.vp(),b,c);c$g(a,"docos-streamdocoview",!a.vp(),b,c);c$g(a,"docos-docoview-active",a.ul(),b,c);t8g(a.C)&&c$g(a,"docos-docoview-active-experiment",a.ul(),b,c);var d=a.ud();c$g(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)fy(a.getElement(),b),hy(a.getElement(),c),a.cb=Vx(a.getElement())}function c$g(a,b,c,d,e){c&&!$c(a.cb,b)?d.push(b):!c&&$c(a.cb,b)&&e.push(b)}m.kT=da("Na");
function d$g(a){return a.Na?a.Na:a.C.Xn}m.getDocoMaxHeight=g("Na");m.Ia=function(){v5.prototype.Ia.call(this);delete this.R};function e$g(a,b){this.C=a;this.bb=b}
function f$g(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+U("docos-contact-row")+'" title="';f+=Ex("Contact information.");f+='">'+S(X6g({size:32,We:"docos-contact-row-avatar"}))+'<div class="'+U("docos-contact-row-name")+'">'+(e?S(e):S(d))+"</div>"+(e?'<div class="'+U("docos-contact-row-email")+'">'+S(d)+"</div>":"")+"</div>";d=T(f);d=xx(d);Le(c,d);d=b.getEmail();d=Bd(ff(b.getName()))?d:b.getName()+" "+d;Ux(c,d);c=HV(a.bb,"IMG","docos-contact-row-avatar",c);B5(a.C,c);J9g(a.C,c,b.D,u5(b));
return c};function g$g(a,b,c,d){d=void 0===d?null:d;rA.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new e$g(z5(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.vp());this.D=null}t(g$g,rA);m=g$g.prototype;m.Ga=function(){rA.prototype.Ga.call(this);this.D=$o("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.IRb).listen(this.getElement(),"focus",this.uy).listen(this.getElement(),["mousedown","blur"],this.s_a)};
m.IRb=function(a){this.C&&this.C.ud()==A5(this.L).O||(this.Ed(!this.qf()),this.s_a());a.stopPropagation()};m.uy=function(){ey(this.D,"docos-assignee-select-focus")};m.s_a=function(){gy(this.D,"docos-assignee-select-focus")};m.bf=function(a){return this.Qb()&&2>this.Qb().zc()?!1:rA.prototype.bf.call(this,a)};m.hg=function(a){this.C&&this.C.ud()==A5(this.L).O&&(this.Qb()&&2>this.Yh()||rA.prototype.hg.call(this,a))};function h$g(a){return(a=a.wf())?a.Wg():null}
m.Ge=function(a){rA.prototype.Ge.call(this,a);var b=a.getElement();b&&(ey(b,"docos-assignee-select-menu"),"legacy"!=this.H.D&&ey(b,"docs-gm"),this.O&&a.render(this.H.L))};m.$l=function(){var a=this.Qb().getElement();Nw(a,"width",this.J.offsetWidth+"px");rA.prototype.$l.call(this);var b=parseInt(Ow(a,"top"),10)||0,c=Uw(this.J).x;this.O?(c-=Uw(this.H.L).x,b+=-2):b+=-1;Rw(a,c,b)};function i$g(a){var b=new am;if(!a.Qb())return b;a.Qb().Xe(function(c){b.add(c.Wg())});return b}
m.update=function(a,b){if(!i$g(this).equals(new am(a))||h$g(this)!=b){for(var c=new Oz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new j$g(f,this.R,this.oa());f==b&&(d=h);c.Fa(h,!0)}this.Ge(c);tA(this,d);P(this.getElement(),1<this.Yh())}};m.reset=function(){this.Qb().qd();tA(this,null)};function j$g(a,b,c){var d=c.createElement("div");Jz.call(this,d,void 0,c);this.D=a;this.C=b;this.F=f$g(this.C,this.D,d)}t(j$g,Jz);m=j$g.prototype;m.Aa=function(){Jz.prototype.Aa.call(this);ey(this.getElement(),"docos-assignee-select-item")};
m.Ga=function(){Jz.prototype.Ga.call(this);this.getHandler().listen(this.getElement(),"click",this.HRb)};m.Wg=g("D");m.Sg=ea("");m.HRb=function(a){a.stopPropagation()};m.Ia=function(){Jz.prototype.Ia.call(this);var a=this.F;a&&B5(this.C.C,a)};function k$g(){l$g(this)}t(k$g,Qa);k$g.prototype.hA=function(a){Yca(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};k$g.prototype.cleanup=function(){this.D.clear();this.C=null};k$g.prototype.iterator=function(){if(!this.C){var a=new d5g,b=this.D;a.C=[];var c=b.Qf();b=c;var d=a.C;c=c.length;var e=0,f=0;Sa(b,d)&&(b=b.slice(f,f+c),f=0);var h=f;for(f+=c;h<f;){var k=Math.min(h+1E4,f);c=k-h;h=b.slice(h,k);h.splice(0,0,e,0);Array.prototype.splice.apply(d,h);h=k;e+=c}this.C=a}return this.C.jj()};
k$g.prototype.jj=function(){return this.iterator()};function l$g(a){var b=new X5g,c=new b5g;L4g(c);b.C=c;a.D=b;a.C=null};function m$g(a){l$g(this);this.F=a}t(m$g,k$g);m$g.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();n$g(b,this.F)}};m$g.prototype.get=g("F");function o$g(a,b,c){return new p$g(a,b,c)}function p$g(a,b,c){this.C=q$g(a,b);this.ge=c;this.F=!1;this.D=-1;r$g(this,0)}p$g.prototype.n5=g("F");p$g.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function q$g(a,b){for(var c=[],d={},e=0;e<b.length;d={fU:d.fU,e9:d.e9},e++){d.e9=b[e];var f=d;var h=new m$g(null);f.fU=h;d.e9.H(a.token,a.r$,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.fU.set(new s$g(l,n,r,k.e9.getType(),w,q)):r&&k.fU.set(t$g())}}(d))||d.fU.set(t$g());c.push(d.fU)}return c}function r$g(a,b){if(!a.F)if(b>=a.C.length)a.ge(t$g()),a.close();else{a.D=b;var c=a.C[b];cc(a);$ca(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&n$g(a,b)}}
function n$g(a,b){b.isEmpty()?(a.C[a.D].hA(a),r$g(a,a.D+1)):(a.ge(b),b.complete&&a.close())}function u$g(a,b,c){this.token=a;this.r$=b;this.C=c}function s$g(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}s$g.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function t$g(){return new s$g([],new oBd(!1),!0,0,!1,void 0)};function v$g(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function w$g(a){this.c$b=a}t(w$g,Kfb);function x$g(a){this.C=a};function y$g(){this.className="docos-ac-highlighted"}y$g.prototype.sua=function(a,b,c){Bd(b)||c.C&&/^\W/.test(b)?c=null:(b=cf(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Rx(a,c)};
y$g.prototype.Rx=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Rx(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=So(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Jp(b,f)),f=h,h=Jp(b,""),b.Aw(f,a),b.Aw(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function z$g(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.dma=!0;a=new A$g("\n",null,!0);g5g(a);a.h4a=!1;a.V=null;a.R=null;f=new B$g(f,k,this);f.R=!0;f.UCa=!1;f.O=!0;f.className="docos-ac";h&&Qgb(f,h,void 0,h);EB.call(this,this,f,a);this.L.qh=this;this.Ha=c.map(function(n){return new C$g(n)});this.Na=new y$g;this.csa(Vo(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Pa=l;this.Da=!1;this.Ba=null}v(z$g,EB);var D$g=/[\n]$/;m=z$g.prototype;
m.JI=function(a,b,c){var d=this,e=Na(),f=this.L.D;this.R&&this.R.Qo("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=E$g(this.L,a),l=F$g(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new w$g(new v$g(e,f,n.getType(),h,x,F,w)),w.wza=!h,w.Xca=r.Hma,c(a,q,w),h=!1)})}else b=o$g(new u$g(a,k,b),l,function(q){if(!d.isDisposed()){var r=new w$g(new v$g(e,f,q.type,
h,q.complete,q.F,q.D));r.wza=!h;q.C&&(r.Xca=q.C.Hma);c(a,q.rows,r);h=!1}}),this.C=new G$g(b,this.Pa)}else c(a,[])};function F$g(a,b,c){return a.Ha.filter(function(d){return d.F(b,c)})}
m.Qw=function(a,b){b||(b=new Kfb);z$g.Ta.Qw.call(this,a,b);if(b instanceof w$g){this.Ba=b.c$b;var c=H$g(this,this.Ba,a.length,!1);b=this.Ba;var d=c,e=Na()-b.startTime,f=Na()-b.J;this.R&&(b.C&&(this.R.Qo("dac",e,d.rb()),this.R.Qo("dact",f,d.rb())),b.D&&(this.R.Qo("dacfr",e,d.rb()),this.R.Qo("dacfrt",f,d.rb())))}else this.Ba=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=I$g[a])&&h.wja;b.C=a}else b.C&&0==d&&(h=(h=I$g[b.C])&&h.Yja,b.C=null);h&&J$g(b,
h,c)}};function H$g(a,b,c,d){var e=new IOd;e=L(e,1,c).setType(K$g(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,FB(a,a.J)),L(c,6,b.L));return e5g(c)}function K$g(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}m.jr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.nQ()&&this.Na.sua(c,a.data.nQ().D,new x$g(a.data.nQ().C)))};
m.xB=function(){var a=Qfb(this)?this.F[FB(this,this.J)]:null,b;this.Ba&&(b=H$g(this,this.Ba,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=I$g[a.getType()])&&J$g(c,a.Pia,b);c.C=null}this.Da=!0;return z$g.Ta.xB.call(this)};m.jh=function(){if(!this.Da&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&I$g[a.C];b&&J$g(a,b.baa);a.C=null}this.Da=!1;z$g.Ta.jh.call(this)};function L$g(a){return Qfb(a)?a.F[FB(a,a.J)].getId():null}
m.Ia=function(){z$g.Ta.Ia.call(this);Kf(this.Ha);this.C&&(this.C.cancel(),this.C=null)};function A$g(a,b,c,d){this.D=0;HB.call(this,a,b,c,d)}v(A$g,HB);A$g.prototype.hg=function(){this.qh.qf()&&this.qh.jh()};A$g.prototype.Pg=function(a){this.D=Na();return(37===a.keyCode||39===a.keyCode)&&this.qh.qf()||38===a.keyCode&&this.qh.qf()&&-1===this.qh.J?(this.qh.jh(),!0):A$g.Ta.Pg.call(this,a)};
A$g.prototype.cF=function(a,b){var c=null;if(a){c=a.xW();var d=M$g(this,a.getToken());c={start:c.Sk()+d,end:c.gw()+d}}b=A$g.Ta.cF.call(this,a,b);if(a){d=c.end;var e=this.Ol;e&&(GB(e,c.start),Vfb(e,d));a.U6()}return b};function M$g(a,b){var c=a.Eo();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function E$g(a,b){return a.Eo()-M$g(a,b)}function C$g(a){this.D=a}
C$g.prototype.H=function(a,b,c,d){var e=a.replace(D$g,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new N$g(q,a)}),h,k,l,n)})};C$g.prototype.getType=function(){return this.D.getType()};C$g.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function N$g(a,b){this.C=a;this.D=b}m=N$g.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.C.getType()};m.nQ=function(){return this.C.nQ()};m.xW=function(){return this.C.xW()};m.render=function(a){this.C.render(a)};
m.U6=function(){this.C.U6()};m.getToken=g("D");m.toString=function(){var a=D$g.test(this.D)?"\n"[0]:"";return this.xW().C+a};function G$g(a,b){var c=this;this.D=a;this.C=aq(function(){c.C=null;c.D.close()},b)}G$g.prototype.cancel=function(){null!==this.C&&(bq(this.C),this.C=null);this.D.close()};function B$g(a,b,c){aC.call(this,a,c);this.Ja=!!b}v(B$g,aC);
B$g.prototype.Zc=function(){B$g.Ta.Zc.call(this);Ux(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Sw(this.getElement()),b=this.Ja?-2:-1;Rw(this.getElement(),a.x,a.y+b)}};function O$g(a){this.C=null;this.D=a}function J$g(a,b,c){if(c){var d=new hk;Nj(d,11,c)}a.D&&a.D(b,void 0,d)}var P$g={},I$g=(P$g[1]={wja:43002,Yja:43004,baa:43006,Pia:43E3},P$g[2]={wja:43003,Yja:43005,baa:43007,Pia:43001},P$g[3]={wja:43068,Yja:43069,baa:43066,Pia:43067},P$g[4]={wja:43072,Yja:43073,baa:43070,Pia:43071},P$g);function Q$g(a,b,c,d){Oo.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new fC(a);Ho(this.F,"input",this.L,!1,this);R$g(this)}v(Q$g,Oo);Q$g.prototype.L=function(){R$g(this)};function R$g(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&zp(a.H,String(1==a.J?b:a.D-b))}Q$g.prototype.Ia=function(){Q$g.Ta.Ia.call(this);delete this.C;this.F.dispose();this.F=null};function S$g(a,b){return T$g(a,b,!1)}function U$g(a,b){return T$g(a,b,!0)}function T$g(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?xd(n,h):zd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function V$g(a,b,c,d,e,f,h){b.getEmail();this.Dc=a;this.D=b;this.fd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(V$g,A);m=V$g.prototype;m.Wg=g("D");m.getId=g("fd");m.getType=g("L");m.nQ=g("H");m.xW=g("J");m.render=function(a){this.C=f$g(this.Dc,this.D,a)};m.U6=ba();m.Ia=function(){var a=this.C;a&&B5(this.Dc.C,a)};function W$g(a,b){this.C=a;X$g(this.C);this.D=b}function Y$g(a,b){for(var c=0,d=b-1;0<=d;d--)if(Z$g.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(Z$g.has(a[b])){d=b;break}return{text:a.slice(c,d),Av:c,sG:d}}function $$g(a,b){for(var c=0,d=b-1;0<=d;d--)if(aah.has(a[d])&&(0==d||Z$g.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(Z$g.has(a[b])){d=b;break}return{text:a.slice(c,d),Av:c,sG:d}}
function bah(a,b,c,d,e,f,h,k,l){return a.C.Co(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,sY(W5g(r))?w=(new AY(W5g(r))).setSize(96).Vy():w=W5g(r)||null,w=x7g(u7g(w7g(new D5,r.getEmail()).bd(r.getName()),w).Jc(""))):w=null;return{bcb:r,UC:w}}).filter(function(r){return r.UC}).map(function(r,w){var x=r.UC;w=h+w;r=r.bcb.getType();var F=new uS(d,!0),M=c;x.getName()&&(M=cah(x.getName(),b,M));var X="+"+x.getEmail(),R=Z$g.has(b[M.sG]);return new V$g(a.D,x,w,k,F,new vS(b.slice(0,
M.Av)+X+(R?"":" ")+b.slice(M.sG),M.Av+X.length+1,M.Av+X.length+1),r)});l(n,!q.pk(),a.C.C)},e)}
function cah(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(dah).filter(function(l){return!!l}),e=b.slice(0,c.sG).split(dah);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.sG-a,{text:b.slice(a,c.sG),Av:a,sG:c.sG};f++}return c}
var Z$g=new Set([" ","\t","\n"]),aah=new Set(["@","+"]),dah=/[ ]/;var eah="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
fah=new am(["everybody","nobody"]);function gah(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(gah,A);gah.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Y$g(a,b);var f=hah(this,b.text);a=bah(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,iah,f.query.length,k,l)});this.C=a.pk()?a:null;return!0};
gah.prototype.F=function(a,b){a=Y$g(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||$c(eah,a.text.trim().toLowerCase())||fah.contains(a.text.trim().toLowerCase())?!1:!0};function hah(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:ge}:null!=a[2]?{query:a[2],filter:U$g}:null!=a[3]?{query:a[3],filter:S$g}:null}gah.prototype.getType=ea(2);gah.prototype.Ia=function(){delete this.C};var iah=new oBd(!1);function jah(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}v(jah,A);jah.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=$$g(a,b);var f=kah(this,b.text);a=bah(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,lah,f.query.length,k,l)});this.C=a.pk()?a:null;return!0};jah.prototype.F=function(a,b){a=$$g(a,b);return this.D.test(a.text)};
function kah(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:ge}:null}jah.prototype.getType=ea(1);jah.prototype.Ia=function(){delete this.C};var lah=new oBd(!0);var mah=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,nah=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function oah(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Cd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function pah(a){this.C=new IL(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");X$g(this.J)}function qah(a,b){var c=x7g(t7g(w7g(new D5,b).Jc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Co(b,1,u(a.L,a,b)))}pah.prototype.L=function(a,b){if(null!==b&&0<b.length&&IT(this.C,a)){b=b[0];var c=null;sY(W5g(b))?c=(new AY(W5g(b))).setSize(96).Vy():c=W5g(b)||null;b=x7g(u7g(w7g(new D5,a).bd(b.getName()),c).Jc(""));this.C.set(a,b)}delete this.H[a]};
function rah(a){return a.C.C.next.value||null}function sah(a){return a.F?a.D:null};function tah(a,b,c){zo.call(this,c)}v(tah,zo);function uah(a){a=a.DNb;return T('<div class="'+U("docos-presenceindicator")+" "+U(a)+'">Someone is typing...</div>')};function vah(a,b,c){v5.call(this,a,b);this.D=c}t(vah,v5);vah.prototype.Aa=function(){this.jb(Ry(uah,{DNb:this.D}))};vah.prototype.Ga=function(){v5.prototype.Ga.call(this);this.setVisible(!1)};vah.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function wah(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;v5.call(this,a,b);this.Na=a;this.R=new OA("",b);var e=this.C.dk();this.R.mO=e;this.Fa(this.R);this.O=new OA("",b);this.Fa(this.O);this.V=b.Wb().body;this.D=c;this.H=new pah(this.Na);this.Da=this.Wa=null;this.xa=new g$g(b,this.C,this.Na,this.D);this.J=(this.Ad="legacy"!=this.C.D)?new kR(b):new lR(!1,b);this.Za=!1;this.Ja=!d;c=mx.getInstance();this.Ec=nx(c);this.fc=nx(c);this.qc=nx(c);this.Ib=null;z(y(),"docs-edp")&&(this.Ib=new vah(a,b,"focused-presenceindicator"));
this.Rb=0;this.Ba=null;this.qb="Comment draft";this.Sa=this.Nc=null;this.cb=!0;this.ma=!1;this.mb=this.ib=this.L=this.Oa=this.Pa=null;this.Ha=!1}t(wah,v5);m=wah.prototype;m.Aa=function(){this.Fc(Ry(Y9g,{dk:this.C.dk(),fJ:this.C.Da},void 0,this.oa()))};
m.Fc=function(a){v5.prototype.Fc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.F=b.$a("docos-input-textarea",a);this.Ja||P(this.F,this.Ja);var c=new gC;c.Va(this.F);this.qa(c);this.Sa=b.$a("docos-input-at-reply-message",a);this.Sa.setAttribute("id",this.Ec);this.Pa=b.$a("docos-input-acl-fixer-message",a);this.Pa.setAttribute("id",this.fc);this.Oa=b.$a("docos-input-assignment-message",a);this.Oa.setAttribute("id",this.qc);this.Da=b.$a("docos-input-assignment-panel",a);c=
this.xa;var d=this.Da;c.J=d;Xz(c,new Sz(d,9));this.Wa=b.$a("docos-input-assignee-text",a);c=b.$a("docos-input-assignee-select",a);this.xa.Va(c);this.xa.Ma(!0);if(c=b.$a("docos-input-assignment-box",a))this.J.Va(c),jR(this.J,this.Wa);c=xah(this);if(0<c.length){d=!this.D||!this.D.vp();var e;d?e=this.C.L:this.D&&(e=this.D.getElement());this.L=new z$g(this.C,this.F,c,new O$g(this.C.Na),this.C.O||void 0,e||void 0,this.F||void 0,d);this.qa(this.L)}if(e=b.$a("docos-input-cancel",a))this.O.Va(e),Ux(e,this.O.Dl());
(a=b.$a("docos-input-post",a))&&this.R.Va(a);this.Ib&&this.D.vp()&&(a=this.oa().$a("docos-focusedpresenceindicator-container",this.getElement()),this.Ib.render(a))};function xah(a){var b=[],c=new e$g(z5(a.Na),a.oa());c=v8g(a.C)?new W$g(a.Na.get("contactStore"),c):null;if(v8g(a.C)){var d=new jah(c);a.qa(d);b.push(d)}d=w8g(a.C).map(function(e){return e.F()});kd(b,d);v8g(a.C)&&(c=new gah(a.C.Yg,c),a.qa(c),b.push(c));return b}
m.Ga=function(){v5.prototype.Ga.call(this);MTe(this.getElement(),!1);this.ib=new Q$g(this.F,null,2048);this.qa(this.ib);this.mb=new fC(this.F);this.qa(this.mb);x5(x5(x5(x5(x5(x5(x5(x5(x5(x5(x5(x5(x5(this,this.mb,"input",this.Uyb),this.F,"keydown",this.zE),this.F,"keyup",this.MRb),this.F,"keypress",this.LRb),this.O,"action",this.KRb),this.R.getElement(),["click","keypress","keyup"],this.B2a),this.R,"action",this.zUa),this.Da,"click",this.H5b),this.J,"change",this.J5b),this.J.Vl(),"keypress",this.K5b),
this.Da,["keyup","keypress"],this.I5b),this.xa,"action",this.G5b),this.F,"pointerdown",this.JRb);this.L&&(x5(this,this.L,"update",this.Npb),x5(this,this.L,"suggestionsupdate",this.A3a));this.F[yah]=u(this.blur,this);this.F[zah]=u(this.R6b,this);this.O.getElement()&&(x5(this,this.O.getElement(),["click","keypress","keyup"],this.B2a),this.O.Ma(!0));if(this.D&&y5(this.D.ud())&&V8g(this.D.ud())){var a=this.H,b=t5(y5(this.D.ud())).getEmail();b&&!IT(a.C,b)&&qah(a,b);a.C.isEmpty();a=this.H;b=rah(this.H);
$c(a.C.Jd(),b);a.D=b;a.F=!0;this.J.$b(!0)}this.F.value=this.Ba||"";Rx(this.F,"label",this.qb);this.Ha=!0;x8g(this.C)&&(Ap(this.getElement(),!0),Ux(this.getElement(),"This is the input pane."))};m.JRb=function(a){$i&&yf(73)&&a.target.setPointerCapture(a.pointerId)};m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return this.F?this.F.value:""};
m.setValue=function(a){this.F.value=a};m.isEmpty=function(){return Bd(this.getValue())};function X5(a){return!Bd(a.getValue())&&!a.Ha}m.Ee=da("qb");m.reset=function(a){this.ma||this.isDisposed()||(this.F.value=this.Ba||"",Rx(this.F,"label",this.qb),this.Ha=!0,pf?aq(this.BRa,0,this):this.BRa(),Y5(this,a),this.F&&(this.F.style.height=""),a||Aah(this),Bah(this,"none"))};
function Bah(a,b){if(a.Sa&&a.Pa&&a.Oa){P(a.Sa,"atReplyMessage"==b);P(a.Pa,"aclFixerMessage"==b);P(a.Oa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Ec;break;case "assignmentMessage":d=a.qc;break;case "aclFixerMessage":d=a.fc}null!=d?Rx(c,"describedby",d):Sx(c,"describedby")}}}m.ready=function(a,b,c){this.isDisposed()||(this.Ha&&(this.Nc=!b&&a||"",this.F.value=a||"",this.Ha=!1),ey(this.getElement(),"docos-input-typing"),c||this.focus(),Y5(this))};
m.blur=function(){this.D&&this.dispatchEvent(new zo("b",this.D))};m.focus=function(){pf||aq(this.yUa,0,this);this.yUa()};m.yUa=function(){this.isDisposed()||ex(this.F)&&this.F.focus()};m.BRa=function(){this.isDisposed()||gy(this.getElement(),"docos-input-typing")};
function Y5(a,b){var c=Cd(a.getValue());c=!a.Ha&&c!=a.Nc;a.R.Ma(!a.ma&&(!a.Ja||c&&!a.isEmpty()));a.A3a();var d=Cah(a),e=a.H.D,f=a.H.C.Jd().length;if(a.Ja){var h=a.H;var k=a.getValue(),l=d?t5(d):void 0;d=oah(nah,k);k=h.C;h.C=new IL(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];IT(k,q)?h.C.set(q,k.get(q)):qah(h,q)}l&&(l=ff(l.getEmail()),!Bd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=rah(h))?k.getEmail():null;(h.F||l==n)&&l&&IT(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
Dah(a,!1);e=a.C;0!=f||!h||a.ma||!Cj(e.Ui,33)||e.R||e.ma||(f=e.$j,e=rah(a.H)?rah(a.H).getEmail():null,f&&e&&f([e]));f=h&&!a.Za&&a.D&&!a.D.ud().isResolved()&&a.Ja&&(a.D.Mwa()||!!H8g(a.D.ud()));Cj(a.C.Ui,38)&&(f?(a.J.Ma(!a.ma),a.xa.Ma(!a.ma),a.xa.update(a.H.C.Jd(),d),f=d7g(d,a.C,!!Cah(a)),e=a.xa.getElement(),zp(a.Wa,f),Ux(e,f+". Choose an assignee."),iy(a.Wa,"docos-input-assignee-text-no-chevron",!ex(e)),P(a.Da,!0),Eah(a,!0)):(Dah(a,!1),a.J.Ma(!1),a.xa.reset(),P(a.Da,!1),Eah(a,!1)));a.ma&&v8g(a.C)&&
!a.H.C.isEmpty()?Bah(a,"aclFixerMessage"):a.cb&&v8g(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?Bah(a,"assignmentMessage"):a.cb?Bah(a,"atReplyMessage"):Bah(a,"none"):Bah(a,"none");(f=sah(a.H))&&a.D?(e=!!Cah(a),f=d7g(f,a.C,e),e=e?"Reassign":"Assign"):a.Za?(f="Save changes",e="Save"):!a.D||a.D.ud().FB()?(f="Post Comment",e="Comment"):a.D.ud().$X()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.R.getElement()&&w5(a.Na).C.C(a.R.Ka(),f);zp(a.R.getElement(),e);Fah(a);c?(Gah.contains(a)||
(Gah.add(a),a.dispatchEvent(new tah(a.D.getId(),1,"pr"))),ey(a.getElement(),"docos-input-nohide")):(Hah(a),gy(a.getElement(),"docos-input-nohide"));b||a.dispatchEvent("s")}function Hah(a){Gah.contains(a)&&(Gah.remove(a),a.dispatchEvent(new tah(a.D.getId(),0,"pr")))}
m.A3a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.qf()&&(this.getElement().setAttribute("aria-autocomplete","list"),Qfb(this.L)&&this.getElement().setAttribute("aria-activedescendant",L$g(this.L)))};function Eah(a,b){if(b=b&&a.D)b=a.D,b=b.vp()&&b.qc;b?(a.C.qt||fe)("docosTodos",u(a.Z7b,a)):(a.C.Di||fe)("docosTodos")}m.Z7b=function(){this.dispatchEvent("ph")};function Dah(a,b){a.J.$b(b);a.H.F=b}
function Cah(a){return a.D&&!a.D.ud().FB()&&H8g(a.D.ud())?y5(a.D.ud()):null}m.B2a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.KRb=function(){this.dispatchEvent("c");this.reset()};m.zUa=function(){if(this.R.isEnabled()){var a=this.H.C.$e(),b=this.C;if(Cj(b.Ui,33)&&!b.R&&!b.ma&&!ad(a)&&(b=this.C.gm)){Bah(this,"aclFixerMessage");this.ma=!0;Y5(this);this.O.getElement()&&this.O.Ma(!1);b(a,u(this.xob,this));return}Iah(this)}};
m.H5b=function(){this.ma||(Dah(this,!this.J.isChecked()),Y5(this))};m.J5b=function(){var a=this.J.isChecked();this.H.F=a;Y5(this)};m.K5b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.$b(a.JD?!1:!0),this.J.dispatchEvent("change"),this.R.focus())};m.I5b=function(a){a.stopPropagation()};m.G5b=function(){this.J.$b(!0);var a=this.H,b=h$g(this.xa);$c(a.C.Jd(),b);a.D=b;a.F=!0;Y5(this)};
m.xob=function(a){this.ma&&(this.ma=!1,"continue"==a?Iah(this):Bah(this,"atReplyMessage"),this.D.getContext()&&(Y5(this),this.O.getElement()&&this.O.Ma(!0)))};function Iah(a){pf&&a.D&&a.D.ud().FB()&&Jf(a.ib);a.dispatchEvent("p");a.reset()}m.R6b=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new zo("f",this.D))};function Fah(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=bx(a.F).height;return b!=c&&0<d?(ax(a.F,d+c-b),!0):!1}
m.zE=function(a){Fah(this)&&this.dispatchEvent("s");this.Rb=a.keyCode;if(13==a.keyCode)Jah?a.metaKey&&vf&&$i&&Kah(this,a):Kah(this,a);else if(27==a.keyCode){sf&&a.preventDefault();if(this.L&&this.L.qf())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new zo("e",this.D));Aah(this)}a.stopPropagation()};
m.MRb=function(a){Fah(this)&&this.dispatchEvent("s");var b=this.Rb;this.Rb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Yc){wd(this.getValue(),"\n")?this.zE(a):a.preventDefault();return}this.Yc=!1}a.stopPropagation()};m.LRb=function(a){if(13==a.keyCode&&Jah)Kah(this,a);else if(27==a.keyCode){if(this.L&&this.L.qf())return;this.blur();Aah(this)}a.stopPropagation()};function Kah(a,b){if(b.ctrlKey||b.metaKey)a.Yc=!0,a.R.getElement().focus(),a.zUa()}
function Aah(a){a.V&&(pf&&!yf("9")?a.V.focus():aq(function(){return a.V.focus()}))}m.Uyb=function(){Y5(this)};m.Npb=function(){Y5(this)};m.Ia=function(){v5.prototype.Ia.call(this);Hah(this);this.F&&(this.F[yah]=null,this.F[zah]=null);delete this.F;delete this.ib;delete this.mb};var Gah=new am,yah=pf?"onfocusout":"onblur",zah=pf?"onfocusin":"onfocus",Jah=vf||of||sf;tf&&yf("530");function Lah(a,b,c,d,e,f,h){d=void 0===d?0:d;$9g.call(this,a,b);this.Xm=c||null;this.Hp=d;this.C=e||null;this.N0=h}t(Lah,$9g);function Mah(a){this.C=w5(a)};function Nah(a,b){b.$X()?a.V+=1:b.FB()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Xj()?(b=W8g(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Oah(a,b,c,d,e){this.Tj=a;this.C=b||null;this.Xm=c||null;this.Hp=d||null;this.flags=e||null};function Pah(a,b,c,d){zo.call(this,b,a);this.source=c;this.C=d}t(Pah,zo);function Qah(a,b){this.F=a;this.D=b;this.C=[]}function Rah(a){return new Pah(a.F,"bu",a.D,a.C)};function Sah(){this.D={};this.C={};this.F=0}function Tah(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Uah(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Vah(c,d);a.C[c][d||"$"]=b}Sah.prototype.bind=function(a,b){if(null!==Tah(this,a,b))return!1;this.F++;Uah(this,this.F,a,b);return!0};function Wah(a,b,c){var d=Tah(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Xah(a,b,c,d,e){var f=Tah(a,b,c);if(null===f||null!==Tah(a,d,e))return!1;Wah(a,b,c||void 0);Uah(a,f,d,e);return!0}
function Yah(a,b,c){return Tah(a,b,c)||0}Sah.prototype.getDocoHandles=function(){for(var a=Od(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Vah(a,b){this.C=a;this.D=b||null};function Zah(){this.D={}}Zah.prototype.C=function(a){V8g(a)||(this.H(a),a.tR()&&(this.D[a.getId()]=!0))};Zah.prototype.H=function(a){delete this.D[M5(a)];delete this.D[a.getId()]};Zah.prototype.F=function(){return!Ud(this.D)};function $ah(a){this.J=a;this.D=new Zah}$ah.prototype.C=function(a){this.D.C(a);a=this.J.Zi;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};$ah.prototype.H=function(a){this.D.H(a)};$ah.prototype.F=function(){return this.D.F()};function abh(a){Oo.call(this);this.Ba=a;this.C={};this.O=null;this.F={};this.H=[];this.Ha=[];this.Da={};this.L={};this.Pa=new Map;this.D=new Sah;this.Ja=[];this.V=!1;this.ma=this.J=null;this.Na=!1;this.xa=new $ah(this.Ba)}v(abh,Oo);function bbh(a,b){a.Xj();var c="<i>Made a suggestion</i>";(a=a.z3())&&(b=b.xs)&&(b=b(a).C())&&(c=b);return c}function cbh(a,b){return"n"!=b&&!V8g(a)&&a.tR()}
function dbh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Qah(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=N5(d);h.C.push(new Oah(b,c,d,e,f));k&&a.dispatchEvent(Rah(h))}
function T5(a,b,c,d){c=c||"c";var e=ebh(a),f=fbh(a,b.getId(),K(h5(b.C),11)||"");if(f){var h=f.getId(),k=f.oq();b=b.C;var l=Tj(f.F);h5(b);var n=h5(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!f.oq();for(var w=(void 0===K(n,13)||0==K(n,13))&&f.oq(),x=g5(n),F=!1,M=0;M<x.length;M++){var X=x[M],R=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;R||(R=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!R);if(R){var ca=R.getId();R.update(X);if(ca!=R.getId()&&(delete f.D[ca],f.D[R.getId()]=R,Yah(f.O,
r,ca)&&!Xah(f.O,r,ca,r,R.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+R.getId());R.oq()?(delete f.D[R.getId()],f.J[R.getId()]=R,Wah(f.O,r,R.getId())):F&&!R.oq()&&(delete f.J[R.getId()],f.D[R.getId()]=R,f.O.bind(r,R.getId()))}else R=new T7g(X),R.oq()?(f.J[R.getId()]=R,Wah(f.O,r,R.getId())):(f.D[R.getId()]=R,delete f.J[R.getId()],f.O.bind(r,R.getId())),R=g5(h5(f.F)),R.push(X),X=h5(f.F),Pj(X,8,R)}r=0;void 0!==Cj(b,6)&&Cj(b,6)!=f.isResolved()&&(r=Cj(b,6)?r|2:r|4);q&&!F?r|=16:
w&&(r|=8);Pj(n,8,[]);q&&(n.setContent(void 0),Nj(n,4,void 0),Nj(n,9,void 0));o7g(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.xR=null;Sj(f.F,l)||(r|=1);b=r;a.xa.C(f);gbh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],a.Pa.delete(h),l=Yah(a.D,h),delete a.Da[l],a.C[f.getId()]=f,l&&!Xah(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Yah(a.D,f.getId());f.oq()?(delete a.C[f.getId()],a.Pa.delete(h),Wah(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Da[l]=f),cbh(f,
c)&&(dd(a.H,f.getId()),dd(a.Ha,f.getId())),d=c9g(b9g("dd"),c),k=f.getId(),d.D=k,k=N5(f),d.Br=k,d.C=l,d=d9g(d,b),h!=f.getId()&&(d.F=h),a.dispatchEvent(f9g(d))):(k&&(delete a.F[f.getId()],delete a.Da[l],a.C[f.getId()]=f,(a.Ba.Ha||N5(f))&&a.D.bind(f.getId()),l=Yah(a.D,f.getId())),0!=b&&(cbh(f,c)&&dd(a.H,f.getId()),dbh(a,c,h,f,l,b,d)))}else f=new T8g(b.C,a.D,b.Ys?b.Ys:void 0),a.xa.C(f),f.oq()?a.F[f.getId()]=f:hbh(a,f,c,d);ebh(a)!=e&&(e=ebh(a)?32:0,c=f9g(d9g(c9g(b9g("p"),c),e)),a.dispatchEvent(c))}
function s9g(a,b,c){for(var d=new Qah(a,c),e=0;e<b.length;e++)T5(a,b[e],c,d);a.dispatchEvent(Rah(d))}function j9g(a,b){b.getNewDocoType()||Z8g(b,"draft");b=new T8g(b.C,a.D,b.Ys?b.Ys:void 0);a.xa.C(b);hbh(a,b)}
function hbh(a,b,c,d){if(Cj(a.Ba.Ui,38)||!b.isTodo()){c=c||"c";var e=null;b.ey()&&(e=ibh(a,N5(b)));e&&V8g(e)?(Xah(a.D,e.getId(),null,b.getId(),null),n9g(a,e.getId(),c)):(a.Ba.Ha||b.ey())&&a.D.bind(b.getId());a.C[b.getId()]=b;gbh(a,b);e=8|(b.isResolved()?2:0);cbh(b,c)&&dd(a.H,b.getId());var f=Yah(a.D,b.getId());dbh(a,c,void 0,b,f,e,d)}}
function n9g(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.ey()){var e=N5(d);delete a.L[N5(d)]}a.xa.H(d);d=Yah(a.D,b);delete a.C[b];Wah(a.D,b);c=c9g(b9g("dd"),c);c.D=b;c.C=d;b=d9g(c,16);void 0!=e&&(b.Br=e);a.dispatchEvent(f9g(b))}}function Z5(a,b){var c=null;b&&(c=a.ud(b));a.O=c}function w9g(a,b){b=b.getId();return $c(a.Ja,R5(a,b))}abh.prototype.R=function(a){return(this.Ba.Ha||a.ey())&&(!a.isResolved()||this.V)};function jbh(a){var b=Zd(a.C);ae(b,a.F);return b}
function kbh(a){var b=new l6g;a=Nd(jbh(a));for(var c=0;c<a.length;c++)Nah(b,a[c]);return m6g(b)}function lbh(a){function b(d){return d.tR()}var c=Tc(Nd(a.C),b);a=Tc(Nd(a.F),b);return c.concat(a)}function ebh(a){return a.Na?a.xa.F():!1}function mbh(a){for(var b=0;b<a.H.length;b++){var c=a.H[b],d=a.ud(c);d||(d=a.F[c]);if(d&&d.tR())return!0}return!1}abh.prototype.ud=function(a){return this.C[a]};function fbh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}
function gbh(a,b){N5(b)&&(b.oq()?delete a.L[N5(b)]:a.L[N5(b)]=b)}function ibh(a,b){var c=a.L[b]||null;return c&&N5(c)!=b?(delete a.L[b],null):c}function U5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function r9g(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?I5(a,b):null:null}abh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function R5(a,b,c){return Yah(a.D,b,c)}
abh.prototype.flush=function(a){this.dispatchEvent(f9g(e9g(c9g(b9g("f"),"c"),!!a)));this.dispatchEvent(f9g(c9g(b9g("af"),"c")))};function nbh(a,b){a=a.ma;if(!a)return null;b=b.Gc(a.getKey());if(!b)return null;a=b.$a("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new Ym(b,b+a.height)}function obh(a,b){return(a=pbh(a,b))?new DY(a.getKey().getId(),a.getValue()):null}
function pbh(a,b){var c=a.J;if(!c)return null;var d=a.ma;if(!d)return null;var e=d.getKey();e=Zd(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=O5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+qbh(h,c,b);if(k>d)return new DY(h,d-a);a=k}return null}function rbh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Jq('<span class="%s">%s</span>',d,h));c+=h}return c}
function qbh(a,b,c){a=sbh(a,c);if(!a)return 0;a=jp(a).textContent.toLowerCase();return Gga(a,b.toLowerCase())}function sbh(a,b){var c=a.Zfa();if(!c){var d=tbh();a.Xj()?c=cM(d,bbh(a,b)):a.getContent()?c=cM(d,a.getContent()):c=null}return c}function tbh(){var a=okc(new jkc);a.F=ge;return new ikc(a)};function ubh(a,b){this.C=a;this.D=b};function vbh(a,b,c){this.C=a;this.D=b;this.F=c};function wbh(a,b,c,d){v5.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new OA(null);this.F=this.J=this.H=null;this.qa(this.D)}t(wbh,v5);m=wbh.prototype;m.Fc=function(a){v5.prototype.Fc.call(this,a);this.H=this.oa().$a("like-button-text",a);this.J=this.oa().$a("docos-icon",a);this.F=this.oa().$a("docos-icon-img",a);this.D.Va(this.getElement())};m.Ga=function(){x5(this,this.D,"action",this.xRb);x5(this,this.getElement(),["click","keypress","keyup"],this.wRb);this.update()};m.wUa=da("L");
m.wRb=function(a){a.stopPropagation()};function xbh(a){var b=A5(a.R).ud(a.L);return null!=a.O?I5(b,a.O):b}m.xRb=function(a){a.stopPropagation();a=C5(this.R);var b=xbh(this).Rz();b=!b||1!=E5(b);null!=this.O?a.xf("docos-vote-reply").pb(new vbh(this.L,b,this.O)):a.xf("docos-vote-doco").pb(new ubh(this.L,b))};
m.update=function(){var a=xbh(this).Rz(),b=!a||0==D7g(a,1).length&&1!=E5(a);gy(this.H,"no-votes");!b||ey(this.H,"no-votes");hy(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);hy(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?ey(this.F,"docos-icon-thumb-black"):1==E5(a)?(ey(this.J,"current-user-has-up-vote"),ey(this.F,"docos-icon-thumb-green")):0<D7g(a,1).length&&(ey(this.J,"post-has-votes-no-current-user-vote"),ey(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=D7g(a,1),b=E5(a),c=c.length,1==b&&c++);zp(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==E5(a))&&(b="Unlike this"),a=D7g(a,1),0<a.length))for(b=gf(b,"\n"),c&&(b=gf(b,"\n","You")),c=0;c<a.length;c++)b=gf(b,"\n",u5(s7g(N(a[c].C,BY,1))));this.D.getElement()&&w5(this.R).C.C(this.D.Ka(),b)};function ybh(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+U("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+U("docos-shadow-prompt")+'"><td class="'+U("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+U("docos-shadow-contents")+'">';
a+=S(NA({id:"docos-shadow-confirm",content:Cx("Delete")},b));a+=S(NA({id:"docos-shadow-cancel",content:Cx("Cancel")},b));return T(a+"</td></tr></table></td></tr></table></div></div></div>")};function zbh(a,b){v5.call(this,a,b);this.D=this.J=this.L=this.V=this.Ba=this.R=this.ge=null;this.H=new OA(null,b);this.Fa(this.H);this.F=new OA(null,b);this.Fa(this.F);this.Ig=this.O=null;this.ma=!1;this.xa=new FA(this);this.qa(this.xa);a=C5(a);this.xa.Ob(a.Qa("docos-highlight-doco"),lt,this.$0)}v(zbh,v5);var Abh=null;function Bbh(a,b){Abh||(Abh=new zbh(a,b),Abh.render());return Abh}var Cbh={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};m=zbh.prototype;
m.Aa=function(){this.jb(Ry(ybh,{},void 0,this.oa()))};
m.Ga=function(){zbh.Ta.Ga.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Va(a.getElement("docos-shadow-cancel"));this.H.Ma(!0);this.F.Va(a.getElement("docos-shadow-confirm"));this.F.Ma(!0);this.O=new rC(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);sC(this.O);this.Ig=new oy(a.Wb());this.qa(this.Ig);this.ma=!0}x5(x5(x5(x5(this,this.H,"action",this.beb),this.F,"action",this.deb),this.getElement(),
["keyup","keydown"],this.eeb),this.Ig,"focusin",this.uy)};m.prompt=function(a,b,c,d,e,f){this.sb()&&this.vd();if(c!=this.V){var h=Cbh[c];h&&this.oa().Me(this.L,h);this.V=c}this.ge=b;this.R=a;this.J=e||null;b=bx(a);Zw(this.D,b);b=Pw(a,"paddingLeft");c=Pw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?ox(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ba=d.getId(),this.getHandler().listen(d,"rd",this.feb))};
m.vd=function(){zbh.Ta.vd.call(this);this.J=this.R=this.ge=null};m.$0=function(){Zw(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();qp(this.getElement());this.sb()&&this.vd()};m.deb=function(){this.ge&&this.ge();this.$0()};m.eeb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.$0())};m.beb=function(){this.$0()};m.feb=function(a){a.target&&a.target.getId()==this.Ba&&this.R&&P(this.getElement(),!0)};
m.uy=function(a){a=a.target;xp(this.getElement(),a)||this.$0()};function Dbh(a,b){return 1==b&&!a.C&&!a.getId()};function Ebh(a,b,c,d){v5.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new OA(null);this.F=null;this.qa(this.D)}t(Ebh,v5);m=Ebh.prototype;m.Fc=function(a){v5.prototype.Fc.call(this,a);this.F=this.oa().$a("vote-button-text",a);this.D.Va(this.getElement())};m.Ga=function(){x5(this,this.D,"action",this.GRb);x5(this,this.getElement(),["click","keypress","keyup"],this.FRb);this.update()};m.wUa=da("H");m.FRb=function(a){a.stopPropagation()};
function Fbh(a){var b=A5(a.L).ud(a.H);return null!=a.J?I5(b,a.J):b}m.GRb=function(a){a.stopPropagation();a=C5(this.L);var b=Fbh(this).Rz();b=!b||1!=E5(b);null!=this.J?a.xf("docos-vote-reply").pb(new vbh(this.H,b,this.J)):a.xf("docos-vote-doco").pb(new ubh(this.H,b))};
m.update=function(){var a=Fbh(this).Rz();hy(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==E5(a)?ey(this.F,"current-user-has-up-vote"):0<D7g(a,1).length&&ey(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=D7g(a,1);b=E5(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}zp(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==E5(a))&&(b="Remove your +1"),a=D7g(a,1),0<a.length))for(b=gf(b,"\n"),c&&(b=gf(b,"\n","You")),c=0;c<a.length;c++)b=
gf(b,"\n",u5(s7g(N(a[c].C,BY,1))));this.D.getElement()&&w5(this.L).C.C(this.D.Ka(),b)};function Gbh(a,b,c,d,e,f,h){v5.call(this,a,d);this.F=a;this.mb=w5(this.F).O;this.jg=new Mah(a);this.O=b;this.H=e;this.Yg=h||"";this.ye=u(this.yRb,this);this.D=null;this.Jc(f||"root");this.Pa=c;this.Ib=!0;this.Wa=2;this.Vd=!1;this.Ue=this.F.get("relativeDateFormatter");this.Nc=this.Oa=this.Da=this.Na=this.Wd=this.Sa=this.Za=this.cb=this.Ad=this.qc=this.Yc=this.fc=this.xa=this.Of=this.Rb=this.qb=this.Ba=this.sf=this.R=this.L=this.J=this.V=this.ma=this.Ja=this.Ec=this.Ha=null;this.ib=new ikc(nkc(okc(new jkc),
["data-rawHref"]));x5(this,this.Ue,"Di",u(this.eUa,this,!0))}t(Gbh,v5);m=Gbh.prototype;m.ud=function(){return A5(this.F).ud(this.O)};function Hbh(a){return I5(a.ud(),a.getId())}function $5(a){return a6(a)?a.ud():Hbh(a)}
m.Aa=function(){var a=this.oa(),b=$5(this),c=b.Ew(),d=Ibh(this),e=Jbh(this);if(a6(this)&&V7g(this.ud().C)){var f=Cd(V7g(this.ud().C));f=f.replace(Kbh,"<br>").replace(Lbh," ");f=cM(this.ib,f)}else f=null;var h=f;f="legacy"!=this.C.D;var k="Unknown"===c.getName();b=Ry(U9g,{author:c.getName(),$g:c.C,fN:this.C.V&&!k?c.getId():null,Sma:e||"",We:this.Yg,vp:this.Pa,gna:Mbh(this),Em:b6(this),yva:d,KB:a6(this),Xj:b.Xj(),X$b:h?h:"",Qya:Nbh(this),wJ:Obh(this),PX:!!$5(this).RB(),dk:this.C.dk(),Zea:this.C.Zea(),
ova:this.C.ova(),timestamp:Pbh(this),Qcb:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",ao:f},void 0,a);this.jb(b);d=a.$a("docos-accept-suggestion",b);h=a.$a("docos-reject-suggestion",b);this.fc=a.$a("docos-body-action-text",b);this.qc=a.$a("docos-anchoredreplyview-buttonholder",b);this.Na=a.$a("docos-author",b);d&&h&&(this.ma=new OA(null,a),k=this.C.dk(),this.ma.mO=k,this.qa(this.ma),this.V=new OA(null,a),this.qa(this.V),this.ma.Va(d),this.V.Va(h));if(k=a.$a("docos-replyview-resolve-button",
b)){this.J=new OA(null,a);var l=this.C.dk();this.J.mO=l;this.qa(this.J);this.J.Va(k)}(k||d&&h)&&Qbh(this);d=this.oa();h=d.$a("docos-vote-button",b);k=d.$a("docos-like-button",b);if(h||k)h?(this.R=new Ebh(this.F,this.O,d,a6(this)?void 0:this.getId()),this.Fa(this.R),this.R.Va(h)):k&&(this.R=new wbh(this.F,this.O,d,a6(this)?void 0:this.getId()),this.Fa(this.R),this.R.Va(k));d=a.$a("docos-overflowmenu-outer",b);(b6(this)||Mbh(this)||a6(this))&&d&&(f=Ry(T9g,{Zh:"docos-icon-overflow-three-dots",DB:"docos-icon-overflow-three-dots-size",
wR:f}),a.appendChild(d,f),Nw(d,"visibility",""),f=[],b6(this)&&(f=f.concat(["edit"])),Mbh(this)&&(f=f.concat(["delete"])),a6(this)&&(this.C.Ec&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new y8g(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Fa(this.L),this.L.Va(d));this.Ha=a.$a("docos-replyview-body",b);this.sf=a.$a("docos-streamreplyview-text",b)||this.Ha;this.Ba=a.$a("docos-collapsible-replyview",b);this.qb=a.$a("docos-replyview-timestamp",b);a6(this)&&V7g(this.ud().C)&&
(this.xa=a.$a("docos-replyview-quote",b),this.cb=a.$a("docos-replyview-quote-expand",b),this.Sa=a.$a("docos-replyview-quote-collapse",b));(this.Rb=a.$a("docos-show-less",b))&&Rbh(this);this.Of=a.$a("docos-show-more",b);this.Wd=a.Jg("docos-replyview-static",b);b6(this)&&this.D&&Sbh(this);(b6(this)||Mbh(this))&&(this.Za=a.$a("docos-replyview-control",b))&&P(this.Za,!this.ud().isResolved());this.Da=HV(a,"IMG","docos-replyview-avatar",b);if(f=a.$a("docos-user-presence",b))d=this.C,c=(h=d.yd)&&c.getId()?
h(c.getId()):(d=d.Oz)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Oa=a.$a("docos-replyview-origin",b);Tbh(this);e&&(this.Ja=e,Ubh(this,De(e)),Vbh(this),Wbh(this));Xbh(this)};
function Xbh(a){if(x8g(a.C)){var b={AUTHOR_NAME:$5(a).Ew().getName(),CREATION_TIME:Pbh(a)};if(a.Ha.textContent)if(Obh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ha.textContent;b.ACTION_TEXT=Obh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ha.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Obh(a);c=(new yB(c)).format(b);Ux(a.getElement(),c)}}
function Ybh(a){var b=a.ud();if(b)if(b.isResolved()){if(a.H.OAa(!1),b=a.ud())b.Xj(),Zbh(a,!1,n7g(a.H))}else a.dispatchEvent("br"),a.H.OAa(!1),(b=a.ud())&&(b.Xj()?$bh(a):Zbh(a,!0,n7g(a.H))),a.dispatchEvent("ar")}function ach(a){a.D||(a.D=new wah(a.F,a.oa(),a.H),a.qa(a.D),a.Fa(a.D),a.D.Ba="Edit your comment...",a.D.cb=!1,x5(x5(x5(a,a.D,"p",a.Nec),a.D,"c",a.pGa),a.D,"s",a.zRb),a.getElement()&&Sbh(a))}
function Sbh(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Pa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):a6(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=Obh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");d=Ry(Y9g,{We:c,FJa:d,mna:e,wJ:f,dk:a.C.dk(),fJ:a.C.Da});c=a.getElement();e=b.$a("docos-edit-pane-placeholder",c);b.rC(d,e);a.D.Va(d);a.D.setVisible(!1);d=a.H.getElement();a.D.V=d;a.Yc=b.$a("docos-edit-pane-action-text",c)}
m.o8b=function(a){a&&a.stopPropagation();Ybh(this)};
m.Ga=function(){v5.prototype.Ga.call(this);x5(this,this.getElement(),["click","keypress","keyup"],this.ARb);this.xa&&(x5(x5(this,this.Sa,"click",this.e3a),this.cb,"click",this.e3a),bch(this));this.J&&x5(this,this.J,"action",this.o8b);this.ma&&this.V&&x5(x5(x5(this,this.ma,"action",this.w5b),this.V,"action",this.n8b),this.C,"r",this.BRb);this.L&&x5(x5(x5(this,this.L,"d",this.l6b),this.L,"e",this.CRb),this.L,"ra",this.f8b);var a=$5(this).Ew();cch(this,a);this.Na&&dch(this,a);ech(this,a);this.D&&(a=
this.H.getElement(),this.D.V=a);this.collapse();x8g(this.C)&&Ap(this.getElement(),!0)};m.BRb=function(){Qbh(this)};
function Qbh(a){var b=a.ud();if(b){var c=$5(a);if(c){var d=c.Xj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.bI())return;d=a.C.F;d=c.Xj()&&"full"==d.C&&w9g(A5(a.F),b)&&!a.C.ma;var e=a.C.F;b=c.Xj()&&(f8g(e,c)||"full"==e.C)&&w9g(A5(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&w5(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&w5(a.F).C.C(a.V.getElement(),f);a.ma.Ma(d);a.V.Ma(b)}else H8g(b)?
(c=!0,a.J.Ma(!1),P(a.J.getElement(),!1)):(c=Ibh(a),a.J.Ma(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":A5(a.F).V?"Mark as resolved":"Mark as resolved and hide discussion",a.C.Zea()||zp(a.J.getElement(),d),a.J&&a.J.getElement()&&w5(a.F).C.C(a.J.Ka(),b));!a.qc||null!==a.Ad&&a.Ad==c||(P(a.qc,c),a.Ad=c)}}}}function fch(a){var b=q5(p5(o5(a.H.getId()),a.H.Za)),c=C5(a.F);c.xf("docos-before-highlight-doco").pb(b);Z5(A5(a.F),a.H.getId());c.xf("docos-highlight-doco").pb(b)}
m.CRb=function(){fch(this);gch(this)};m.l6b=function(){fch(this);a6(this)?this.H.T1a():hch(this)};m.f8b=function(a){fch(this);this.dispatchEvent(new $9g("ra",this.O));a.stopPropagation()};function cch(a,b){var c=b.D,d=z5(a.F);a.Da&&Dbh(b,$5(a).getOrigin())&&(c=I9g(d),ey(a.Da,"docos-avatar-unverified"),a.C.C.C(a.Da,"Author from imported document"));k7g(d,a.Da,c,u5(b))}function dch(a,b){(b=b.getName())?(b=cM(a.ib,b),Le(a.Na,b)):(b=cM(a.ib,""),Le(a.Na,b))}
function ech(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Na&&a.C.C.C(a.Na,c),a.Da&&a.C.C.C(a.Da,c))}function ich(a,b){a.J&&a.oa().Pi(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Pi(a.ma.getElement(),b),a.oa().Pi(a.V.getElement(),b));a.L&&a.L.Sh(b);a.R&&a.oa().Pi(a.R.getElement(),b)}function jch(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.ul()&&this.Ib&&bch(this);var a=this.D&&b6(this)&&X5(this.D),b=Jbh(this),c=De(b),d=!this.Ja||De(this.Ja)!=c;d&&(this.Ja=b,Le(this.Ha,b),Wbh(this));Vbh(this);Ubh(this,c);a6(this)||this.dispatchEvent(new V5(this.getId()));b6(this)&&this.Za&&!a&&P(this.Za,!this.ud().isResolved());b=$5(this).Ew();cch(this,b);this.Na&&dch(this,b);ech(this,b);Tbh(this);if(this.Pa&&!a){switch(this.Wa){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.ul()?this.expand():this.collapse()}Rbh(this)}this.eUa();
d&&(this.D&&this.D.sb()&&this.D.reset(!0),this.pGa());Qbh(this);this.R&&this.R.update();this.L&&this.L.update();Xbh(this)};m.uA=function(){if(this.Ec){var a=kch(this,this.Ec);a.Io()!=this.Ja.Io()&&(this.Ja=a,Le(this.Ha,this.Ja),Wbh(this))}};function Jbh(a){var b=$5(a),c=b.Zfa();if(!c){c=b.getContent();var d=b.Kwa();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Xj()&&(c=bbh(b,a.C));c=cM(a.ib,c)}a.Ec=c;return kch(a,c)}
function kch(a,b){var c=A5(a.F),d=c.J;if(!d)return b;a=(c=obh(c,a.C))&&c.getKey()==$5(a).getId()?c.getValue():void 0;c=tbh();var e=gp("DIV");e.appendChild(jp(cM(c,$e(d))));d=e.innerHTML;e.replaceChild(jp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new Ym(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new Ym(f,r)),f=r):k||((w=zd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new Ym(f,r+1)),h=rbh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=rbh(q,b,h);h+=b.slice(f,b.length);return cM(c,h)}m.eUa=function(a){if(this.qb){var b=Pbh(this);b&&(a&&(this.qb.textContent=b),a=$5(this),a6(this)||this.Pa||a.by().equals(a.pQ())||(this.qb.textContent=b))}};function Pbh(a){var b=a.Ue,c=$5(a),d=c.by();return d?a.Pa||a6(a)||!(a=c.pQ())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return ex(this.getElement())};m.zRb=function(a){this.dispatchEvent(new V5(this.O));a.stopPropagation()};function hch(a){var b=a.getElement();b&&(a.C.mb?(b=a.C.ib,b(function(){return a.ye()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):Bbh(a.F,a.oa()).prompt(b,a.ye,"delete-reply",a,a.H.getElement(),!a.Pa))}
m.ARb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!a6(this)&&dy(c,"docos-replyview-delete")&&b?(hch(this),a.stopPropagation(),a.preventDefault()):dy(c,"docos-replyview-edit")&&b?(gch(this),a.stopPropagation(),a.preventDefault()):dy(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new V5(this.O)),this.Rb.focus()):dy(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new V5(this.O)),this.Of.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&xp(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function lch(a,b){var c=a.ud();if(!c||w9g(A5(a.F),c)){var d=$5(a);d&&d.bI()&&(c=a.C.H[b])&&(a=R5(A5(a.F),a.O))&&(d=d.ey&&d.ey()&&!d.isResolved()?N5(d):void 0,b=(new s5(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function $bh(a){var b=a.ud();b&&b.Xj()&&lch(a,"before-suggestion-accepted")}m.w5b=function(){var a=Date.now();$bh(this);this.mb&&this.mb.Qo("dsabb",Date.now()-a)};function Zbh(a,b,c){var d=a.ud(),e=a.H;e.D&&X5(e.D)&&e.D.setValue("");d&&!d.Xj()&&d.isResolved()!=b&&C5(a.F).xf("docos-resolve-doco").pb(new h7g(a.O,b,c||null))}m.n8b=function(){var a=Date.now();lch(this,"before-suggestion-rejected");this.mb&&this.mb.Qo("dsrbb",Date.now()-a)};
m.expand=function(){$5(this).Xj()||(gy(this.Ba,"docos-collapsed-replyview"),this.Wa=150>=this.Ba.offsetHeight?2:1,Rbh(this))};m.collapse=function(){!$5(this).Xj()&&this.Pa&&(gy(this.Ba,"docos-collapsed-replyview"),150>=this.Ba.offsetHeight?this.Wa=2:(this.Wa=0,ey(this.Ba,"docos-collapsed-replyview")),Rbh(this))};function Rbh(a){if(!$5(a).Xj()){var b=1==a.Wa;b!=a.Vd&&(a.Rb.style.display=b?"block":"none",a.Vd=b)}}function a6(a){return"root"==a.getId()}
function Mbh(a){var b=$5(a);return b?h8g(a.C.F,b)&&!a.C.ma:!1}function b6(a){var b=$5(a);return b?g8g(a.C.F,b):!1}function Ibh(a){var b=a.ud();return b?i8g(a.C.F,b):!1}m.yRb=function(){if(this.isDisposed())return!1;C5(this.F).xf("docos-delete-reply").pb({Tj:this.O,cAa:this.getId()});return!0};function gch(a){b6(a)&&(ach(a),mch(a,!1),a.Ba&&a.expand(),a.D.setVisible(!0),a.D.Za=!0,a.D.ready($5(a).wx()))}
m.pGa=function(){b6(this)&&(mch(this,!0),this.Ba&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.Za=!1))};m.Nec=function(){if(b6(this)){ach(this);var a=C5(this.F),b=this.D.getValue();Bd(b)||(a6(this)?a.xf("docos-edit-doco").pb({id:this.O,text:b,opa:this.D}):(b={Tj:this.O,cAa:this.getId(),text:b,opa:this.D},a.xf("docos-edit-reply").pb(b)))}};function mch(a,b){for(var c=0;c<a.Wd.length;++c)P(a.Wd[c],b)}
m.e3a=function(){var a=dy(this.xa,"docos-replyview-quote-collapsed");P(this.cb,!a);P(this.Sa,a);this.Ib=!a;a?ky(this.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):ky(this.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function bch(a){!a.xa||0>=bx(a.xa).height||(ky(a.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<bx(a.xa).height?(P(a.cb,!0),P(a.Sa,!1),ky(a.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.cb,!1),P(a.Sa,!1)),a.Ib=!0)}m.vd=function(){v5.prototype.vd.call(this);B5(z5(this.F),this.Da)};function Tbh(a){var b=Nbh(a);b?(b=cM(a.ib,b),Le(a.Oa,b),P(a.Oa,!0)):P(a.Oa,!1)}
function Nbh(a){var b=$5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=CY(a.Ui)&&Cj(CY(a.Ui),33)&&b.hva()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function Obh(a){var b=a.jg;var c=$5(a),d=a.ud();c&&d?(a=c.Yfa(),0==a&&y5(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.RB(),c=(d=H8g(d))&&d.getId()!=c.getId(),a=t5(a),b=c7g(a,b.C,!0),b=c?(new yB("Reassigned to {user}")).format({user:b}):(new yB("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Ubh(a,b){b=-1==oe(b,!0);if(null===a.Nc||b!=a.Nc)MTe(a.sf,b),a.Nc=b}
function Vbh(a){var b=Obh(a);a.fc&&zp(a.fc,b);a.Yc&&zp(a.Yc,b)}function Wbh(a){if(a.C.Rb)for(var b=Xo("A",a.Ha),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Hf(d,Ko,a.T5b)}}m.T5b=function(a){zTe(this.C.Rb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var Lbh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Kbh=/[\n-\x0B]/g;function nch(a,b){v5.call(this,a,b);this.D=!1;this.F=null}t(nch,v5);nch.prototype.Aa=function(){var a=this.oa();this.jb(Ry(W9g,{},void 0,a));this.F=a.$a("docos-showrepliesbutton-collapsed",this.getElement())};nch.prototype.setVisible=function(a){a!=this.D&&this.sb()&&(P(this.getElement(),a),this.D=a)};nch.prototype.isVisible=g("D");function c6(a,b,c,d,e){W5.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new Gbh(a,b,this.vp(),d,this,void 0,"docos-replyview-first");this.Fa(this.F);this.H={};this.Ec=u(this.qRb,this);this.Wd=h9g(a);this.Ha="docos-docoview-input-pane";this.fc="";this.Ib=this.Nc=null;this.mb=!1;this.J=null;x8g(this.C)&&(a=new lB(this),this.qa(a),a.ij("up",38),a.ij("down",40),this.getHandler().listen(a,"shortcut",this.yub))}t(c6,W5);
function och(a){a.D||(a.D=new wah(a.getContext(),a.oa(),a),a.qa(a.D),a.D.Ba="Reply...",a.D.Ee("Reply"),a.hBa(),a.getElement()&&pch(a))}m=c6.prototype;m.yub=function(a){switch(a.identifier){case "down":a=qch(this);var b=rch(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=qch(this),b=rch(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function qch(a){var b=O5(a.ud(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function rch(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Mp(e);if(d==f||e.contains(d,f))return c}return-1}
function pch(a){var b=a.oa(),c=Ry(Y9g,{We:a.Ha,FJa:"",mna:a.fc,wJ:"",dk:a.C.dk(),fJ:a.C.Da}),d=a.getElement(),e=b.$a("docos-input-pane-placeholder",d);b.rC(c,e);a.D.Va(c);a.D.V=d}m.hBa=function(){this.D&&x5(x5(x5(x5(x5(this,this.D,"p",this.vRb),this.D,"c",this.tRb),this.D,"b",this.sRb),this.D,"e",this.uRb),this.D,"s",this.wY)};
m.Aa=function(){W5.prototype.Aa.call(this);var a=this.getElement(),b=this.oa();this.D&&pch(this);Px(a,"listitem");this.Ib=b.$a("docos-docoview-replycontainer",a);this.Nc=b.$a("docos-docoview-rootreply",a);this.F.render(this.Nc);sch(this)};m.Ga=function(){W5.prototype.Ga.call(this);x5(this,this.getElement(),["keydown","keypress","keyup"],this.rRb);if(this.D){var a=this.getElement();this.D.V=a}Ap(this.getElement(),!0)};m.Db=g("Ib");
m.Jc=function(a){W5.prototype.Jc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&A8g(b.L,a);b.R&&b.R.wUa(a)}};m.vp=ea(!1);m.uUa=function(a){if(!dy(a.target,"docos-noclick")){var b=C5(this.getContext()),c=p5(o5(this.getId()),this.Za);b.xf("docos-before-highlight-doco").pb(q5(c));Z5(A5(this.R),this.getId());b.xf("docos-highlight-doco").pb(q5(Q6g(c)));this.ma=!0;this.rYa(a)}};m.rYa=ba();
m.rRb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&C9a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&j8g(this.C.F)&&this.ma&&(och(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.T1a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ud().Xj())this.Ec("suggestion");else if(b){var c=function(){return a.Ec("discussion")};this.C.mb?(0,this.C.ib)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):Bbh(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function sch(a){for(var b=O5(a.ud()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new Gbh(a.getContext(),a.getId(),a.vp(),a.oa(),a,e);a.Ff(f,sx(a,c)+1,!0);c=a.H[e]=f}}}m.vRb=function(){if(this.D){var a=this.D.getValue(),b=sah(this.D.H);b=b?A7g(b):void 0;if(!Bd(a)){var c=R5(A5(this.getContext()),this.getId());this.dispatchEvent(new Lah("sr",this.getId(),N5(this.ud()),c,a,void 0,b))}}};m.tRb=function(){k9g(this.Wd,S8g(R8g(Q8g(P8g(43012),this.ud().getId()),N5(this.ud()))))};
m.sRb=function(){this.ul()&&(this.ma=!0)};m.uRb=function(){this.ul()&&(this.ma=!0)};m.focus=function(){och(this);var a=this.ul();a&&ex(this.getElement())&&j8g(this.C.F)&&(this.ma=!0);if(a){var b=this.oa();a=Mp(b);(pf&&!a||!b.contains(this.getElement(),a))&&aq(function(){this.sb()&&!b.contains(this.getElement(),Mp(b))&&this.getElement().focus()},0,this)}};
function tch(a){var b=a.ud();if(b){var c=null,d;b:{for(d=sx(a,a.F);d<a.zc();d++){var e=a.Cc(d);if((e=e==a.J?null:e)&&2==(Hbh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.zc();d++)if(e=a.Cc(d),e=e==a.J?null:e){if(2!=(Hbh(e)||b).getOrigin())break;P(e.Oa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Oa,!0)}}
m.update=function(){var a=this.ud();this.F.update();this.Ee(a.Ew(),y5(a)||void 0);sch(this);for(var b in this.H){var c=this.H[b];I5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.mb&&(this.mb=a.isResolved(),och(this),this.mb?(this.D.Ba="Adding a comment will re-open this discussion...",this.D.Ee("Adding a comment will re-open this discussion")):(this.D.Ba="Reply...",this.D.Ee("Reply")),!a.isResolved()&&X5(this.D)||this.D.reset(!0));b$g(this);!this.ul()&&
this.D&&this.D.blur();tch(this);a=this.Pa;b=this.getElement();a.C&&b&&a.F&&(cx(b).contains(new Jm(a.H,a.J))||R9g(a,!1))};m.qRb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");C5(this.getContext()).xf("docos-delete-doco").pb({Xm:N5(this.ud()),Tj:this.getId(),Hp:R5(A5(this.getContext()),this.getId()),JS:a});return!0};function uch(a){C5(a.getContext()).xf("docos-resolve-doco").pb(new h7g(a.getId(),!1,null))}function n7g(a){return a.D&&X5(a.D)?a.D.getValue():null}
function vch(a){var b=a.getContext(),c=a.ud();c&&S5(h9g(b),L5(K5(J5(43045),c)));a=a.getId();C5(b).xf("docos-speak-doco").pb(a)}m.OAa=ba();m.Ia=function(){W5.prototype.Ia.call(this);this.J&&delete this.J;delete this.Ib;delete this.H;delete this.D};function wch(a,b,c,d,e){c6.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Da=new i7g(a,d,b,this);this.Ja=this.ib=this.Oa=null;this.Sa=new lB(this);this.qa(this.Sa);b=this.Sa;b.ij("backToDocument",85);b.ij("resolve",69);b.ij("blur",27);b.ij("next",74);b.ij("next",yt(["N","C"]));b.ij("prev",75);b.ij("prev",yt(["P","C"]));b.ij("speakComment",yt(["A","C"]));b.ij("reply",82);this.getHandler().listen(this.Sa,"shortcut",this.mRb);this.getHandler().listen(this,"rd",this.nRb);this.Wa=!1;this.Ha+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Rb=null;z(y(),"docs-edp")&&(this.Rb=new vah(a,d,"unfocused-presenceindicator"));this.Ad="legacy"!=this.C.D;this.Ba=null}t(wch,c6);m=wch.prototype;m.setVisible=function(a){!this.isVisible()&&a&&A5(this.R).J&&this.uA();c6.prototype.setVisible.call(this,a)};m.uA=function(){this.F.uA();for(var a in this.H)this.H[a].uA()};m.Jc=function(a){c6.prototype.Jc.call(this,a);this.Da&&this.Da.Jc(a)};m.vp=ea(!0);m.XR=function(){return this.ud()?N5(this.ud()):null};
m.Aa=function(){c6.prototype.Aa.call(this);var a=this.oa(),b=this.getElement();this.Oa=a.$a("docos-replyview-control",b);this.ib=a.$a("docos-anchoreddocoview-internal",b);this.Ja=a.$a("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ud(),d=!!c&&i8g(w5(this.getContext()).F,c);iy(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=y5(c))a=a.$a("docos-anchoreddocoview-assigneecontainer",b),this.Da.render(a),xch(this,c);this.D&&(a=this.getElement(),
this.D.V=a);this.Rb&&(a=this.oa().$a("docos-unfocusedpresenceindicator-container",this.getElement()),this.Rb.render(a))};m.Ga=function(){c6.prototype.Ga.call(this);var a=this.ud();a&&y5(a)&&this.Ff(this.Da,sx(this,this.F));b$g(this);2<=Md(this.ud().D)&&(a=ych(this))&&zch(this,a);this.z_(!0);tch(this);Ach(this);x5(x5(this,this,"show",this.AYa),this,"hide",this.zYa)};
m.vd=function(){var a=this.ud();if(a)if(this.D&&X5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Bc(this,"show",this.AYa);this.getHandler().Bc(this,"hide",this.zYa);c6.prototype.vd.call(this)};m.Sh=function(a){this.oa().Pi(this.getElement(),a)};function Bch(a,b){ich(a.F,b);for(var c in a.H)ich(a.H[c],b)}m.oRb=function(){var a=new L6g(this.getId(),this.Za),b=C5(this.getContext());b.xf("docos-before-highlight-doco").pb(a);Z5(A5(this.R),this.getId());b.xf("docos-highlight-doco").pb(a)};
m.nRb=function(){this.O=null;if(d$g(this)){var a=this.Ja.scrollHeight>this.Ja.offsetHeight,b=this.getElement();a&&!this.Ba&&b?(this.Ba=new wK(b),x5(this,this.Ba,"mousewheel",this.PLb)):!a&&this.Ba&&(this.Ba.dispose(),this.Ba=null);a=a?h8a():0;b=this.Ad?282:240;$w(this.getElement(),b+a);$w(this.Ja,b+a)}};m.AYa=function(a){a.target instanceof Oz&&(ey(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.zYa=function(a){a.target instanceof Oz&&(gy(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.OAa=function(a){this.Oa&&P(this.Oa,a)};m.o$=ea(!0);m.update=function(){c6.prototype.update.call(this);var a=this.ul();this.ul()?this.L||this.C.qb||(this.L=new rC(this.getElement(),this.oa()),this.qa(this.L),sC(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Wa&&Cch(this);this.Wa=a;Ach(this);if(a=y5(this.ud()))this.Da.update(),xch(this,a);this.V&&this.Lza()};
function Ach(a){var b=a.ud();null!=b.R&&(och(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.z_(!0);tch(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=ych(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.Db().style.maxHeight="",zch(this,a),this.z_(!0),tch(this)}};m.hBa=function(){c6.prototype.hBa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.z_,this,!0)),this.getHandler().listen(this.D,"e",this.POa),this.getHandler().listen(this.D,"f",this.oRb))};
function ych(a){var b=w5(a.getContext()).ws;a=d$g(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function zch(a,b){var c=a.getElement(),d=Md(a.ud().D);if(!(2>d||c.offsetHeight<b)){var e=sx(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new nch(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Ff(a.J,f+e);var h=a.J;h.F&&zp(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Cc(l+e).setVisible(!1)}}}
m.Lza=function(){var a=this.Xc();this.V&&this.expand();this.collapse();var b=this.Xc();Rm(a,b)||this.dispatchEvent(new V5(this.getId()))};m.z_=function(a){var b=d$g(this);b&&(och(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.Db().style.maxHeight=b+"px":this.Db().style.maxHeight="",a&&(this.ib.scrollTop=this.ib.scrollHeight))};
m.mRb=function(a){var b=C5(this.getContext());switch(a.identifier){case "backToDocument":b.xf("docos-back-to-document").pb({Tj:this.getId()});break;case "resolve":Ybh(this.F);break;case "blur":this.POa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":vch(this);break;case "reply":this.D.focus()}};m.POa=function(){var a=C5(this.getContext());a.xf("docos-before-highlight-doco").pb(n5());Z5(A5(this.R),null);a.xf("docos-highlight-doco").pb(n5())};
m.focus=function(){c6.prototype.focus.call(this);this.Wa=this.ul();Cch(this)};function Cch(a){och(a);X5(a.D)||a.Wa||a.D.reset(!0);a.ul()&&(a.expand(),a.Nfa());a.z_(!0);a.dispatchEvent(new V5(a.getId()))}m.kT=function(a){c6.prototype.kT.call(this,a);this.z_(!1)};m.Ia=function(){c6.prototype.Ia.call(this);delete this.Sa;delete this.Oa};function xch(a,b){var c=a.xa;c&&(a=a7g(b,a.C),hy(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),ey(c,a))}m.PLb=function(a){this.ul()&&a.stopPropagation()};function Dch(a,b,c,d,e){this.Ys=a;this.Ye=void 0===b?null:b;this.r$a=void 0===c?null:c;this.Pha=void 0===d?null:d;this.chc=void 0===e?!1:e}m=Dch.prototype;m.getNewDocoType=g("Ys");m.getText=g("Ye");m.getAssigneeEmail=g("r$a");m.getOriginatingDocoType=g("Pha");m.getWasSmartTodo=g("chc");function Ech(a,b,c,d){return Dch.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(Ech,Dch);function d6(a,b,c,d,e,f,h){W5.call(this,a,b,c,e,f);this.Br=d;this.Da=this.Sa=null;this.D=new wah(a,this.oa(),this,h);this.Fa(this.D);this.Jc(b)}t(d6,W5);m=d6.prototype;m.Aa=function(){this.Da=new lB(this.getElement());this.qa(this.Da);var a=this.Da;a.ij("backToDocument",85);a.ij("blur",27);a.ij("next",74);a.ij("next",yt(["N","C"]));a.ij("prev",75);a.ij("prev",yt(["P","C"]));a.ij("reply",82)};
m.Ga=function(){W5.prototype.Ga.call(this);this.getHandler().listen(this.D,"p",this.RYa).listen(this.D,"c",this.qya).listen(this.D,"s",this.wY).listen(this.D,"b",this.iRb).listen(this.D,"e",this.mta).listen(this.D,"f",this.kRb);this.getHandler().listen(this.Da,"shortcut",this.jRb);var a=this.getElement();this.D.V=a;this.Sa=new rC(this.getElement(),this.oa());this.qa(this.Sa);sC(this.Sa)};m.akb=function(a,b,c,d,e){C5(this.getContext()).xf("docos-convert-doco").pb({Tj:a,Xm:b,Hp:c,VXa:d,JS:e})};
m.RYa=function(){var a=this.Lwa()?this.Lwa().getEmail():void 0,b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0,c=this.zba();var d=this.ud().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new Ech(c,a,b,1==d);c=R5(A5(this.getContext()),this.getId());aq(u(this.akb,this,this.getId(),this.XR(),c,a,b))};m.$jb=function(a,b,c,d){C5(this.getContext()).xf("docos-delete-doco").pb({Tj:a,Xm:b,Hp:c,JS:d})};
m.qya=function(){var a=R5(A5(this.getContext()),this.getId()),b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0;aq(u(this.$jb,this,this.getId(),this.XR(),a,b))};m.vp=ea(!0);m.XR=g("Br");m.Mwa=ea(!0);m.uUa=function(a){Fch(this);a.stopPropagation()};function Fch(a){var b=C5(a.getContext()),c=Q6g(p5(o5(a.getId()),a.Za));b.xf("docos-before-highlight-doco").pb(q5(c));Z5(A5(a.R),a.getId());b.xf("docos-highlight-doco").pb(q5(c))}
m.jRb=function(a){var b=C5(this.getContext());switch(a.identifier){case "backToDocument":b.xf("docos-back-to-document").pb({Tj:this.getId()});break;case "blur":b.xf("docos-before-highlight-doco").pb(n5());Z5(A5(this.R),null);b.xf("docos-highlight-doco").pb(n5());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){b$g(this);this.Nfa()};m.iRb=function(a){this.wY(a)};
m.mta=function(){var a=C5(this.getContext());a.xf("docos-before-highlight-doco").pb(n5());Z5(A5(this.R),null);a.xf("docos-highlight-doco").pb(n5())};m.kRb=function(){this.ul()||Fch(this)};m.focus=function(){this.ul()&&(pf?aq(this.f_a,0,this):this.f_a())};m.wY=function(a){var b=d$g(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}W5.prototype.wY.call(this,a)};
m.f_a=function(){this.D.ready();var a=this.oa(),b=Mp(a);(pf&&!b||!a.contains(this.getElement(),b))&&aq(function(){this.sb()&&this.getElement().focus()},0,this)};function Gch(a,b,c,d,e,f){d6.call(this,a,b,c,d,e,f);this.D.Ba="Reply...";this.J=!1;this.F=this.H=null}t(Gch,d6);m=Gch.prototype;
m.Aa=function(){var a=this.oa(),b=this.C.Wg(),c="Unknown"===b.getName();c=Ry(Z9g,{author:b.getName(),$g:b.C,fN:this.C.V&&!c?b.getId():null,FB:!0,vp:!0,dk:this.C.dk(),fJ:this.C.Da},void 0,a);this.jb(c);this.D.Va(a.$a("docos-docoview-input-pane",c));this.H=a.$a("docos-author",c);this.F=HV(a,"IMG","docos-replyview-avatar",c);var d=a.$a("docos-replyview-origin",c);P(d,!1);if(a=a.$a("docos-user-presence",c))if(c=this.C.yd)a.style.backgroundColor=c(b.getId());d6.prototype.Aa.call(this)};
m.Ga=function(){d6.prototype.Ga.call(this);b$g(this);var a=this.ud().wx();Bd(a)||this.D.ready(a,!0,!0);a=this.C.Wg();J9g(z5(this.getContext()),this.F,a.D,u5(a))};m.Lwa=function(){return sah(this.D.H)};m.zba=function(){return this.D.getValue()};m.mta=function(a){X5(this.D)?this.wY(a):d6.prototype.mta.call(this,a)};
m.update=function(){d6.prototype.update.call(this);var a=this.ul();a!=this.J&&(this.ul()||X5(this.D)?this.dispatchEvent(new V5(this.getId())):this.qya());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.J=a};m.vd=function(){d6.prototype.vd.call(this);C5(this.getContext()).xf("docos-edit-draft").pb({Tj:this.getId(),text:this.zba(),JFa:this.F})};m.Ia=function(){d6.prototype.Ia.call(this);delete this.H;delete this.F};function Hch(a,b,c,d,e,f){Gch.call(this,a,b,c,d,e,f);this.ud()}t(Hch,Gch);function Ich(a,b,c,d,e,f){Gch.call(this,a,b,c,d,e,f);this.ud()}t(Ich,Gch);Ich.prototype.L=function(a,b,c,d,e,f){this.dispatchEvent(new Lah("sd",a,b,c,d,e,f))};Ich.prototype.RYa=function(){var a=R5(A5(this.getContext()),this.getId()),b=sah(this.D.H);if(null!=b){Cj(this.C.Ui,38);var c=A7g(b)}aq(u(this.L,this,this.getId(),this.XR(),a,this.zba(),"instant-doco"==this.ud().Ys,c))};Ich.prototype.V=function(a,b,c,d){C5(a).xf("docos-cancel-insert-discussion").pb({Tj:b,Xm:c,Hp:d})};
Ich.prototype.qya=function(){var a=R5(A5(this.getContext()),this.getId());aq(u(this.V,this,this.getContext(),this.getId(),this.XR(),a))};function Jch(a,b,c,d,e,f){b=Dch.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.od=a||null;return b}t(Jch,Dch);Jch.prototype.getPosition=g("od");function Kch(a){this.Pha=a}Kch.prototype.getOriginatingDocoType=g("Pha");function Lch(a,b,c){this.Pha=a;this.xR=b;this.$Ob=c;return this}t(Lch,Kch);Lch.prototype.isTodo=g("xR");Lch.prototype.isWrongAssignee=g("$Ob");function Mch(a,b,c,d,e,f){d6.call(this,a,b,c,d,e,f,!0);this.Ja=this.Ha=this.H=this.L=this.ma=this.J=this.F=this.Oa=this.V=this.Ba=null;this.Wa=h9g(a)}t(Mch,d6);m=Mch.prototype;
m.Aa=function(){var a=this.C,b=this.oa();a=Ry(Z9g,{vp:!0,$X:!0,Mab:!!Cj(a.Ui,41),dk:a.dk(),ao:"legacy"!=a.D},void 0,b);this.jb(a);this.D.cb=!1;this.D.Va(b.$a("docos-docoview-input-pane",a));this.Ba=b.$a("docos-input-assign-to-text",a);this.V=b.Ea("docos-smarttodoview-body",a);this.V.id=px(this,"body");this.F=b.$a("docos-smarttodoview-feedback",a);this.Ha=b.$a("docos-smarttodoview-showfeedbackdialog-button",a);this.Ja=b.$a("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.H=new y8g(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Fa(this.H);this.H.Va(b.Ea("docos-overflowmenu-outer",a));this.F&&(this.J=Nch(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=Nch(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Oa=Och(this,"docos-smarttodoview-feedback-cancel"),(this.ma=Och(this,"docos-smarttodoview-feedback-submit"))&&this.OCa());
b=b.Ea("docos-smarttodoview-headertext",a);b.id=px(this,"headertext");Rx(a,"labelledby",b.id);Rx(a,"describedby",this.V.id);d6.prototype.Aa.call(this)};function Nch(a,b,c){var d=a.oa(),e=a.getElement();b=d.$a(b,e);c=d.$a(c,e);e=null;b&&(e=new lR(!1,d),c&&jR(e,c),e.Va(b),a.qa(e));return e}function Och(a,b){var c=a.oa();b=c.$a(b,a.getElement());var d=null;b&&(d=new OA(null,c),d.Va(b),Ux(b,d.Dl()),a.qa(d));return d}
m.Ga=function(){d6.prototype.Ga.call(this);x5(x5(x5(this,this.H,"e",this.ERb),this.H,"i",this.jub),this.H,"h",this.byb);this.F&&(this.Ha&&this.getHandler().Hf(this.Ha,Ko,this.BIb),this.Ja&&this.getHandler().Hf(this.Ja,Ko,this.$Lb),this.J&&x5(this,this.J,"change",this.OCa),this.L&&x5(this,this.L,"change",this.OCa),this.Oa&&x5(this,this.Oa,"action",this.rwb),this.ma&&x5(this,this.ma,"action",this.DRb));this.D.ready(void 0,void 0,!0);this.update()};
m.Nfa=function(){d6.prototype.Nfa.call(this);this.xa&&ey(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){d6.prototype.update.call(this);var a=y5(this.ud());a=t5(a);a=c7g(a,this.C,!0);a=(new yB("Assign to {user}?")).format({user:a});zp(this.Ba,a);P(this.Ba,!0);a=cM(new ikc(new jkc),this.ud().getContent());Le(this.V,a);this.resize()};
m.ERb=function(){var a=t5(this.ud().RB()).getEmail();a=new Jch(void 0,"client-integrated-draft",this.ud().wx(),a,"smart-todo",!0);var b=R5(A5(this.getContext()),this.getId());C5(this.getContext()).xf("docos-convert-doco").pb({Tj:this.getId(),Hp:b,VXa:a,JS:"smart-todo"})};m.jub=function(){C5(this.getContext()).xf("docos-disable-smart-todo-feature").pb()};
m.byb=function(){tx("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});k9g(this.Wa,S8g(R8g(Q8g(P8g(43029),this.ud().getId()),N5(this.ud()))))};m.BIb=function(){this.F&&P(this.F,!0);k9g(this.Wa,S8g(R8g(Q8g(P8g(43025),this.ud().getId()),N5(this.ud()))))};m.$Lb=function(){C5(this.getContext()).xf("docos-write-feedback").pb({source:"smart-todo"})};m.rwb=function(){this.F&&P(this.F,!1);this.focus()};
m.OCa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Ma(a||b)};m.DRb=function(){C5(this.getContext()).xf("docos-reject-doco-with-feedback").pb({Tj:this.getId(),Xm:this.XR(),Hp:R5(A5(this.getContext()),this.getId()),JS:"smart-todo",Ojb:new Lch("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.Lwa=function(){return y5(this.ud())?t5(y5(this.ud())):null};m.zba=function(){return this.ud().wx()};
m.Ia=function(){d6.prototype.Ia.call(this);delete this.Ba;delete this.V;delete this.F;delete this.H;delete this.Ha;delete this.Ja};function Pch(a,b,c,d){this.C=a;this.H=b;this.bb=c;this.D=d}Pch.prototype.F=function(a){a=A5(this.C).ud(a);var b=this.H.hk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Ich(this.C,a.getId(),b,N5(a),this.bb,this.D);case "client-integrated-draft":return new Hch(this.C,a.getId(),b,N5(a),this.bb,this.D);case "smart-todo":return new Mch(this.C,a.getId(),b,N5(a),this.bb,this.D);default:return new wch(this.C,a.getId(),b,this.bb,this.D)}};function Qch(a,b){this.C=a;this.D=b}Qch.prototype.clone=function(){return new Qch(this.C,this.D)};Qch.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function e6(a,b){Oo.call(this);this.bb=b;this.L=a;this.D=null;if(a=f6(this).J)this.D=new Qch(a,!0);this.xa=!a;this.Ba=!a;this.mb=this.H=null}v(e6,Oo);m=e6.prototype;m.KAa=da("O");m.hk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.fQ=function(){return[]};m.Gq=function(){return this.H?this.H.getId():null};m.bW=function(){return this.H?M5(this.H):null};m.cW=function(){var a=this.Gq();return a?this.O.Gc(a):null};
m.oa=g("bb");function f6(a){return w5(a.L)}m.getContext=g("L");m.oG=function(){return this.hk().getId()};m.qba=g("D");m.kja=function(a,b){var c=this.Gq();return a||c?b==this.oG()||this.D&&this.D.C==a?!0:!a$g(this,a):!1};function a$g(a,b){if(a.Gq()==b)return!0;a=a.bW();return!!a&&a==b}
m.Zoa=function(a,b,c){if(this.kja(a,b)){var d=a$g(this,a)?null:this.H;this.H=A5(this.L).ud(a)||null;var e=d&&a!=d.getId()&&(!M5(d)||a!=M5(d));if(e){var f=this.O.Gc(d.getId());f&&!d.oq()&&f.update()}d=!d||e;b=b==this.oG()&&(void 0===c||c);a&&(d||b)&&(d&&this.I_a(),(c=this.O.Gc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new Qch(a,b),d&&this.vya(a))}};m.I_a=ba();
m.JRa=function(a,b){var c=C5(this.L);c.xf("docos-before-highlight-doco").pb(a);Z5(A5(this.L),b.getId());c.xf("docos-highlight-doco").pb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==f6(this).J&&(a=f6(this).H["highlight-initial-doco"]))&&(b=(new s5("highlight-initial-doco")).addAnchorId(N5(b)).addDocoHandle(R5(A5(this.getContext()),c)).setNonAnchored(!(b.ey()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){Rch(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){Rch(this,!1,void 0,a,b,c)};m.zha=ba();m.xha=ba();function Rch(a,b,c,d,e,f){var h=A5(a.L),k=Sch(a,h,b,!!d,!!e);k||!c||e||(k=Sch(a,h,!b,!!d,!1));b=C5(a.L);k&&(a=q5(Q6g(P6g(N6g(p5(o5(k.getId()),a.oG())),void 0!==f?f:!0))),b.xf("docos-before-highlight-doco").pb(a),Z5(h,k.getId()),b.xf("docos-highlight-doco").pb(a))}
function Sch(a,b,c,d,e){c=c?1:-1;var f=null,h=a.hk().zc();if(0==h)return null;a:{var k=a.Gq();if(k){var l=a.hk();if(k=l.Gc(k)){l=sx(l,k);break a}}l=-1}0>l&&(l=0,f=a.hk().Cc(l));for(k=l;!f||d&&!w9g(b,f.ud());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.hk().Cc(l)}return f}
m.vya=function(a){if(a==f6(this).J){var b=this.O.Gc(a);b&&b.ul()&&!this.Ba&&(this.Ba=!0,b=f6(this).H["linked-doco-highlighted"])&&(a=A5(this.L).ud(a),a=R6g("linked-doco-highlighted").addAnchorId(N5(a)).setUserInitiated(!0).build(),b(a))}};m.Oba=function(a){for(var b=this.hk(),c=b.zc(),d=c,e=0;e<c;++e){var f=b.Cc(e);if(f&&0>=this.lV(a,f)){d=e;break}}return d};
function Tch(a){if(a.C3()){for(var b=a.hk(),c=[],d=b.zc(),e=0;e<d;++e)c.push(b.Cc(e));c.sort(u(a.lV,a));for(e=0;e<d;++e)b.Cc(e)!=c[e]&&b.Ff(c[e],e)}}m.qz=function(){L9g(z5(this.getContext()))};m.GJ=ba();m.Yoa=function(){for(var a=this.hk().zc(),b=new l6g,c,d=0;d<a;d++)c=this.hk().Cc(d),null!=c&&(c=c.ud(),null!=c&&Nah(b,c));return m6g(b)};m.dK=ta;m.iaa=fe;m.Y1=fe;m.Z1=ba();m.Ia=function(){e6.Ta.Ia.call(this);this.H=null};
m.Xoa=function(a){a=a.DV()||a;a instanceof e6&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ba=this.Ba)};m.DV=ea(null);m.JAa=da("mb");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof e6){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ba==a.Ba}else a=!1;return a};function Uch(a,b){zo.call(this,a);this.kIa=b}v(Uch,zo);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function Vch(a){this.C=[];if(a)a:{if(a instanceof Vch){var b=a.$e();a=a.Jd();if(0>=this.le()){for(var c=this.C,d=0;d<b.length;d++)c.push(new DY(b[d],a[d]));break a}}else b=Od(a),a=Nd(a);for(d=0;d<b.length;d++)Wch(this,b[d],a[d])}}function Wch(a,b,c){var d=a.C;d.push(new DY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=Vch.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)cd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function Xch(a){return a.C[0]&&a.C[0].getKey()}m.Jd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.$e=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Pu=function(a){return Wc(this.C,function(b){return b.getValue()==a})};m.clone=function(){return new Vch(this)};m.le=function(){return this.C.length};m.isEmpty=function(){return ad(this.C)};m.clear=function(){cd(this.C)};function Ych(){Vch.call(this)}v(Ych,Vch);Ych.prototype.enqueue=function(a,b){Wch(this,a,b)};function Zch(a,b){e6.call(this,a,b);this.V=A5(this.getContext());this.C={};this.R={};this.cb=new Ych;this.J=new T6g}v(Zch,e6);m=Zch.prototype;m.fQ=function(){var a=Zch.Ta.fQ.call(this);a.push("docos-layout-anchored");f6(this).Gd&&a.push("docos-layout-anchored-shadows");return a};m.hoa=function(a){return(new Pch(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.XU=function(a){if(this.V.R(a)){var b=a.getId(),c=R5(this.V,b),d=this.Dqa(c,!1);if(d){var e=this.hoa(a);this.R[c]&&delete this.R[c];c=this.Oba(e);if(c<=this.hk().zc()&&-1<c)for($ch(this,e,d,c);!this.cb.isEmpty()&&Xch(this.cb)<=this.hk().zc();)e=this.cb.remove(),$ch(this,e.view,e.position,e.index);else this.cb.enqueue(c,new adh(e,d,c))}else this.R[c]=a;b=P6g(o5(b),!a.$X());a.Xj()||p5(b,this.oG());d&&a.FB()&&Bd(a.wx())&&(d=C5(this.getContext()),d.xf("docos-before-highlight-doco").pb(q5(b)),Z5(this.V,
a.getId()),d.xf("docos-highlight-doco").pb(q5(b)));(d=this.qba())&&d.C==a.getId()&&(P6g(b,d.D),aq(u(this.JRa,this,q5(b),a),0))}};function $ch(a,b,c,d){var e=Na();a.hk().Ff(b,d,!0);a.hha(c.x,c.y,b,!1);b=Na()-e;(a=f6(a).H["doco-rendered"])&&a(new S6g("doco-rendered",b))}m.bT=function(a){var b=this.hk().Gc(a);a==this.Gq()&&(this.H=null);if(b){var c=this.V.ud(a);c&&c.isResolved()&&b.vp()&&f6(this).Ad?bdh(this,a,b):(this.hk().removeChild(b,!0),Jf(b));this.XJ(this.C)}};
function bdh(a,b,c){function d(){q||(q=!0,Jf(c),qp(e),ey(h,"docos-resolve-highlight"),aq(function(){gy(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Uw(e),h=f6(a).Ad,k=bx(h),l=bx(e),n=Uw(h);n.x+=(k.width-l.width)/2;a.hk().removeChild(c);ey(e,"docos-readonly");c.vd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;pf?cdh(a,e,f,n,d,b):ddh(a,e,c.getId(),f,n,d)}
function ddh(a,b,c,d,e,f){V6g(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";aq(function(){Io(b,pEa,f);aq(f,570);ey(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function cdh(a,b,c,d,e,f){var h=new ZB(b,[c.x,c.y],[d.x,d.y],270),k=new Ngb(b,270);k.play();U6g(a.J,f,h,270,function(){Jf(h);Jf(k);e()})}
function edh(a){var b=[];a.hk().Xe(function(c){var d=c.ud();null!=d&&null!=N5(d)?(d=R5(this.V,c.ud().getId()),this.Dqa(d,!0)||this.R[d]||(this.R[d]=c.ud(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new Uch("rv",b))}m.haa=function(a){for(var b=Zd(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.XJ(b)};m.AV=function(a){var b=Zd(this.C),c;for(c in a)b[c]=a[c];this.XJ(b)};m.Dqa=function(a){return this.C[a]||null};
m.iaa=function(a){a=fdh(this,a);return a?(a=a?a.getElement():null)?new Jm(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=fdh(this,a))?a.getDocoMaxHeight():null};m.Woa=function(a,b){(a=fdh(this,a))&&a.kT(b)};function fdh(a,b){return(b=U5(a.V,b))?a.hk().Gc(b.getId()):null}m.Ia=function(){Zch.Ta.Ia.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function adh(a,b,c){this.Tj=a.getId();this.view=a;this.position=b;this.index=c};function gdh(a,b){Zch.call(this,a,b)}v(gdh,Zch);m=gdh.prototype;m.C3=ea(!1);m.lV=ea(0);m.y_=ta;m.YJ=function(){edh(this)};m.qz=function(){gdh.Ta.qz.call(this);this.hk().Xe(function(a){var b=a.ud();b&&null!=N5(b)&&(b=R5(A5(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.hha(b.x,b.y,a,!1))},this)};m.XJ=function(a){this.C=a;edh(this);for(var b in this.C)(a=this.R[b])&&this.XU(a);this.qz()};m.hha=function(a,b,c){(c=c.getElement())&&q9a(c,a,b,w5(this.getContext()).pj)};function g6(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Bd(f)?f:null}pa("docos.api.Assignee",g6,void 0);g6.prototype.getToken=g("L");g6.prototype.getToken=g6.prototype.getToken;g6.prototype.getEmail=g("F");g6.prototype.getEmail=g6.prototype.getEmail;g6.prototype.getAffinity=g("D");g6.prototype.getAffinity=g6.prototype.getAffinity;g6.prototype.getMatchingMethod=g("H");g6.prototype.getMatchingMethod=g6.prototype.getMatchingMethod;g6.prototype.O=g("C");
g6.prototype.isMatchedOnEmailUserName=g6.prototype.O;g6.prototype.getName=g("J");g6.prototype.getName=g6.prototype.getName;function hdh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function idh(a,b,c,d){return new g6(a.C,b,d,a.L,a.D,c)}function jdh(a,b){return a.C.toLowerCase().replace(kdh,"")==b?a.D=!0:!1}hdh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&ldh(this,e)){var f=ff(e.getEmail());Bd(f)||c.push(idh(this,f,e.getName(),0))}}a.resolve(c)};
function ldh(a,b){if(b.getEmail())var c=ff(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||fah.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if($c(eah,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&$c(f,d[h]))&&
1<d[h].length)return!0;return jdh(a,e)}function mdh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new hdh(a[d],"full-query",b));return c}function ndh(a,b){for(var c=[],d=0;d<a.length;d++)kd(c,odh(a[d],b));return c}function odh(a,b){return oah(mah,a).map(function(c){return new hdh(c,"email",b)})}var kdh=/^[@+]|[@+]$/g;function pdh(a){this.C=a}pa("docos.api.AssigneeThenable",pdh,void 0);pdh.prototype.get=g("C");pdh.prototype.get=pdh.prototype.get;function qdh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new am;this.J=d}function rdh(a,b){var c=Xp();a.C.C?sdh(a,b,c):X$g(a.C).then(u(function(d,e,f){f?sdh(this,d,e):e.reject()},a,b,c));return new pdh(c.C)}function sdh(a,b,c){var d=Ia(ndh,b,a.D);b=u(a.H,a,Ia(mdh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
qdh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=Xp();Bd(f.C)?k.resolve([]):jdh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([idh(f,f.F,null,Number.MAX_VALUE)]):h.Co(f.C,5,u(f.O,f,k));f=k.C;kd(d,f)}tdh(this,d,b,c)};function tdh(a,b,c,d){Wp(b).then(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.dQ&&k.value&&kd(f,k.value)}ad(f)?d():udh(a,f,c)})}
function udh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}ad(e)?(vdh(a,d),a.J(d).then(function(k){return wdh(a,b,c,k)})):xdh(a,e,c)}else xdh(a,b,c)}function xdh(a,b,c){b.sort(Ia(ydh,a.D));c.resolve(b[0])}function vdh(a,b){var c=a.F;sza(b,c.contains,c)||(bm(a.F,b),k9g(a.L,S8g(P8g(43026))))}
function wdh(a,b,c,d){for(var e=[],f={O_:0};f.O_<d.length;f={O_:f.O_},f.O_++){var h=Yc(b,function(k){return function(l){return l.getEmail()==d[k.O_]}}(f));h&&e.push(h)}ad(e)?c.resolve(null):xdh(a,e,c)}function ydh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function zdh(a){this.Oab=a;return this}t(zdh,l5);zdh.prototype.getCancelAnchorId=g("Oab");zdh.prototype.getCancelAnchorId=zdh.prototype.getCancelAnchorId;function Adh(a,b,c,d,e,f){a=r5.call(this,a,b,c,d,e,f||new l5)||this;a.C=!1;return a}t(Adh,r5);Adh.prototype.canPreventDefault=ea(!0);Adh.prototype.preventDefault=function(){this.C=!0};function Bdh(a){return s5.call(this,a)||this}t(Bdh,s5);Bdh.prototype.build=function(){return new Adh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new l5)};function Cdh(){this.D=!1}Cdh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};Cdh.prototype.pk=function(){return!this.D&&(null==this.C||this.C.pk())};function Ddh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Xp();this.L=c}v(Ddh,A);function X$g(a){if(!xme())return Tp(!1);if(a.C)return Tp(!0);if(!a.F){var b=Zd(nkf);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Co(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.O)){var k=new IOd;h=L(k,1,h);h=e5g(h);c.Qo("dacpc",Na()-a.L,h.rb())}})}return a.H.C}
Ddh.prototype.Co=function(a,b,c,d){var e=this;if(!xme())return new ikf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Ue(a)&&this.F&&this.F.pk()){var k=new Cdh,l=Na();this.H.C.then(function(){var n=e.J.O;if(k.pk()){var q=e.D.Co(h,c);n&&n.Qo("dcrdtdr",Na()-l);k.D||(k.C=q)}else n&&n.Qo("dcrdc",Na()-l)});return k}return this.D.Co(h,c)};Ddh.prototype.Ia=function(){delete this.D};function Edh(a){this.C=a}v(Edh,l5);pa("docos.api.OriginatingDocoTypeArgs",Edh,void 0);Edh.prototype.getOriginatingDocoTypeArgs=g("C");Edh.prototype.getOriginatingDocoTypeArgs=Edh.prototype.getOriginatingDocoTypeArgs;function h6(a,b,c){this.C=c;this.Br=a;this.D=b}v(h6,Edh);pa("docos.api.ConvertDocoArgs",h6,void 0);h6.prototype.getAnchorId=g("Br");h6.prototype.getAnchorId=h6.prototype.getAnchorId;h6.prototype.getNewDocoArgs=g("D");h6.prototype.getNewDocoArgs=h6.prototype.getNewDocoArgs;function i6(a,b,c){this.D=a;this.od=void 0!==b?b:null;this.C=void 0==c?-1:c}v(i6,l5);i6.prototype.isInstantDoco=g("D");i6.prototype.getPosition=g("od");i6.prototype.getInstantDocoSpacerIndex=g("C");i6.prototype.isInstantDoco=i6.prototype.isInstantDoco;i6.prototype.getInstantDocoSpacerIndex=i6.prototype.getInstantDocoSpacerIndex;function Fdh(a){this.F=a}Fdh.prototype.C=function(a,b){return b?(a=this.F.ud(b.Tj))?y5(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};Fdh.prototype.D=ea(0);function Gdh(a,b){this.od=a;this.Br=b;return this}t(Gdh,l5);Gdh.prototype.getPosition=g("od");Gdh.prototype.getAnchorId=g("Br");Gdh.prototype.getPosition=Gdh.prototype.getPosition;Gdh.prototype.getAnchorId=Gdh.prototype.getAnchorId;function Hdh(a){A.call(this);this.C=a}t(Hdh,A);function k9g(a,b){var c=w5(a.C).Na;if(c){var d=new hk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);Idh(a,d,b.D);b.J&&(a=kbh(A5(a.C)).C.clone(),Nj(d,10,a));a=new k8g;b.Br&&L(a,1,b.Br);c(b.H,b.F||void 0,d,a)}}
function S5(a,b){var c=w5(a.C).Na;if(c){var d=b.ud();var e=new hk;var f=d.bva();e=L(e,2,f);null!=d.Rz()&&(f=D7g(d.Rz()).length,L(e,8,f));null!=b.yy&&(f=b.yy.bva(),L(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new RKd;var k=new NKd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);Nj(f,2,h);Nj(e,5,f);break;case "suggestion":L(e,4,5);break;default:L(e,
4,0)}}null!=b.D&&L(e,7,b.D);null!=w5(a.C).Oa&&(f=w5(a.C).Oa,Nj(e,12,f));null!=w5(a.C).J&&(f=w5(a.C).J==d.getId(),L(e,13,f));f=d.bI();h=y5(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);Idh(a,e,d.getId());b.L&&(a=kbh(A5(a.C)).C.clone(),Nj(e,10,a));a=new k8g;d=N5(b.ud());a=L(a,1,d);c(b.J,b.H||void 0,e,a)}}function Idh(a,b,c){a=A5(a.C).O;null!=c&&b.Ng(null!=a&&c==a.getId())}Hdh.prototype.Ia=function(){A.prototype.Ia.call(this)};function Jdh(){}Jdh.prototype.C=function(){return["Comment changed"]};Jdh.prototype.D=ea(0);function Kdh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Hp&&a.addDocoHandle(d.Hp),d.Xm&&a.addAnchorId(d.Xm));return a};function Ldh(a,b){this.C=a;this.D=b}v(Ldh,Edh);pa("docos.api.FeedbackArgs",Ldh,void 0);Ldh.prototype.getFeedback=g("D");Ldh.prototype.getFeedback=Ldh.prototype.getFeedback;function Mdh(a){this.C=a}v(Mdh,l5);pa("docos.api.HighlightDocoArgs",Mdh,void 0);Mdh.prototype.isOriginInStreamOrGutter=g("C");Mdh.prototype.isOriginInStreamOrGutter=Mdh.prototype.isOriginInStreamOrGutter;function Ndh(a){var b=a.sNb,c=a.kc,d=a.dOb;a=a.tNb;return T('<div id="docs-instant-button-bubble" class="'+U("docs-material")+" "+(c?U("docs-instant-button-bubble-transformation-rtl"):U("docs-instant-button-bubble-transformation-ltr"))+(d?" "+U(d):"")+'" role="button" tabindex="-1"><div class="'+U("docs-instant-button-bubble-icon-container")+(a?" "+U(a):"")+'"><span class="'+U("docs-instant-button-bubble-icon")+(b?" "+U(b):"")+'"></span></div></div>')};function Odh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=ez(dz,0<c.length?c[0]:"docs-instant-button");gz.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;kz(this,2,!0)}t(Odh,gz);m=Odh.prototype;m.Aa=function(){var a=this.oa(),b={kc:!1};b.sNb=this.R.join(" ");ad(this.J)||(b.dOb=this.J.join(" "));ad(this.L)||(b.tNb=this.L.join(" "));this.jb(Ry(Ndh,b,void 0,a))};
function Pdh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.sb()){var h=0>=c;a.isVisible()||h?(Qdh(a),Rdh(a,b,d,f),e&&e()):(a.D=new Sdh(b,d,f,e),b=!a.C,h||b||Qdh(a),a.C||(a.C=aq(function(){Rdh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.ge;k&&k();a.D=null;a.C=null},c,a)))}}
m.cf=function(a){if(this.sb()){if(void 0===a?0:a)Nw(this.getElement(),"top","0px"),ey(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(gy(this.getElement(),"docs-instant-button-visible"),dx(this.Ka(),0),this.F=!1);Qdh(this)}};m.hg=function(a){this.isVisible()&&(gz.prototype.hg.call(this,a),a.stopPropagation())};m.Jm=function(a){this.isVisible()&&(gz.prototype.Jm.call(this,a),a.stopPropagation())};m.bR=function(a){this.isVisible()&&a.stopPropagation()};
function Rdh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;gy(a.getElement(),"docs-instant-quick-hide");ey(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function Qdh(a){a.C&&(bq(a.C),a.C=null)}m.isVisible=function(){dy(this.getElement(),"docs-instant-button-visible");return this.F};function Sdh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.ge=d}Sdh.prototype.getOpacity=g("C");function Tdh(a,b){v5.call(this,a,b);this.D=null;this.F=a}t(Tdh,v5);Tdh.prototype.Aa=function(){v5.prototype.Aa.call(this);this.D=new Odh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Va(this.D.getElement())};
Tdh.prototype.Ga=function(){v5.prototype.Ga.call(this);w5(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||w5(this.F).C.D(this.getElement(),!0);this.D.Ga();x5(this,this.D,"action",this.H)};function Udh(a,b,c,d){eA(a.D.getElement(),"docos");w5(a.F).C.D(a.getElement(),!1);var e=a.D.H;Pdh(a.D,b,c,d,function(){e!=b&&w5(a.F).C.cf(a.getElement())})}Tdh.prototype.cf=function(a){this.D.isVisible()&&w5(this.F).C.D(this.getElement(),!0);this.D.cf(a)};Tdh.prototype.H=function(){this.cf();this.dispatchEvent("create-draft")};function Vdh(a,b){A.call(this);this.D=a;this.F=w5(a);this.C=b;this.H=new FA(this);a=C5(this.D);this.H.Ob(a.Qa("docos-edit-reply"),lt,this.E6b).Ob(a.Qa("docos-delete-reply"),lt,this.n6b).Ob(a.Qa("docos-edit-doco"),lt,this.A6b).Ob(a.Qa("docos-edit-draft"),lt,this.D6b)}t(Vdh,A);function Wdh(a,b,c,d,e,f){return j6(a,u(a.$Nb,a,b,c,d,e,void 0===f?!1:f))}m=Vdh.prototype;m.$Nb=function(a,b,c,d,e,f,h){if(Xdh(h))return a=i9g(this.C,a,b,c,d,e),f.Ah.callback(a),a;f.Ah.callback(0);return 0};
m.bOb=function(a,b,c,d,e,f){if(Xdh(f))return a=l9g(this.C,a,b,c,d),e.Ah.callback(a),a;e.Ah.callback(0);return 0};m.ZNb=function(a,b,c,d,e,f){if(Xdh(f))return a=m9g(this.C,a,b,c,d),e.Ah.callback(a),a;e.Ah.callback(0);return 0};function Ydh(a,b){return j6(a,u(a.rac,a,b))}m.D6b=function(a){var b=this,c=a.data;pq(j6(this,u(this.C6b,this,c.Tj,c.text)),function(d){d&&c.JFa&&B5(z5(b.D),c.JFa);return d})};m.C6b=function(a,b,c,d){k6(u(this.C.B6b,this.C,a,b),c,d)};
m.rac=function(a,b,c){k6(u(this.C.Qdb,this.C,a),b,c)};function Zdh(a,b,c,d,e,f,h){return j6(a,u(a.s9a,a,b,c,d,e,f,h))}
m.s9a=function(a,b,c,d,e,f,h,k){if(Xdh(k)){k=this.C;var l,n;a&&(n=ibh(A5(k.C),a))&&"instant-doco"==n.Ys&&(l=31);var q=P8g(43009);null!=n&&Q8g(q,n.getId());null!=l&&(q.F=l);n&&n.FB()&&a!=b&&n9g(A5(k.C),n.getId());a=jf();l=Na();n=c8g(Z7g(G5(new F5(a)),l),k.F.Wg());c&&H5(n,c,l);d&&(c=(new C5g).setType("text/plain").setValue(d),Nj(n.C,9,c));e&&(Y7g(n,e),q.J=e);f&&(b8g(n,f),q.C=f);e=Q5(P5(n),!0);L(e.C,3,l);b&&(Y8g(e,b),R8g(q,b));T5(A5(k.C),e);A5(k.C).flush();k9g(k.D,S8g(q));b=R5(A5(k.C),a);h.Ah.callback(b);
return b}h.Ah.callback(0);return 0};m.A6b=function(a){var b=a.data;pq(j6(this,u(this.Bib,this,b.id,b.text)),function(c){c||b.opa.dispatchEvent("c")})};m.Bib=function(a,b,c,d){k6(u(this.C.Aib,this.C,a,b),c,d)};m.n6b=function(a){a=a.data;pq(j6(this,u(this.m6b,this,a.Tj,a.cAa)),ba())};m.m6b=function(a,b,c,d){k6(u(this.C.adb,this.C,a,b),c,d)};m.E6b=function(a){var b=a.data;pq(j6(this,u(this.Dib,this,b.Tj,b.cAa,b.text)),function(c){c||b.opa.dispatchEvent("c")})};
m.Dib=function(a,b,c,d,e){k6(u(this.C.Cib,this.C,a,b,c),d,e)};m.t9a=function(a,b,c,d,e,f){k6(u(this.C.Mdb,this.C,a,b,c,d),e,f)};m.Xgc=function(a,b,c,d){k6(u(this.C.Sdb,this.C,a,b),c,d)};m.Ygc=function(a,b,c,d,e){k6(u(this.C.Tdb,this.C,a,b,c),d,e)};m.Xac=function(a,b,c,d,e){k6(u(this.C.Rdb,this.C,a,b,c),d,e)};function k6(a,b,c){Xdh(c)?(a(),b.Ah.callback(!0)):b.Ah.callback(!1)}m.Xcb=function(a,b,c,d){k6(u(this.C.Ndb,this.C,a,b),c,d)};
m.egc=function(a,b,c){if(Xdh(c))return a=o9g(this.C,a),b.Ah.callback(a),a;b.Ah.callback(0);return 0};m.Icc=function(a,b,c,d){k6(u(this.C.pIa,this.C,a,b),c,d)};m.$cb=function(a,b,c){k6(u(this.C.Pdb,this.C,a),b,c)};m.Zcb=function(a,b,c){k6(u(this.C.Odb,this.C,a),b,c)};function $dh(a,b,c,d){return j6(a,u(a.Z8a,a,b,c,d))}m.Z8a=function(a,b,c,d,e){if(Xdh(e))return a=t9g(this.C,a,b,c),d.Ah.callback(a),a;d.Ah.callback(0);return 0};
m.LEa=function(a,b,c,d){if(Xdh(d))return a=x9g(this.C,a,b),c.Ah.callback(a),a;a=[];c.Ah.callback(a);return a};function j6(a,b){var c=new nq,d={Ah:c};(a=a.F.Ue)?a(d,b):b(d,"edit-not-intercepted");return c}function Xdh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function aeh(a,b){A.call(this);this.C=[];this.F=new $5g(a);this.D=a6g(this.F,"user");this.J=a6g(this.F,"control");this.Hd=new $p(b||50);this.Hd.start();Ho(this.Hd,"tick",this.r0a,!1,this);this.J.Af("setPeerReady_",u(this.Mcc,this))}v(aeh,A);m=aeh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.r0a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Hd.stop(),a;}};m.Af=function(a,b,c){this.D.Af(a,b,c)};m.DI=function(a){this.D.DI(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({f_:a,ym:b})};m.Mcc=function(a){a?this.Hd.stop():this.Hd.start();if(!this.H){this.H=!0;this.r0a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.f_,b.ym)}this.C=null}};m.Ia=function(){Jf(this.F);Jf(this.Hd);aeh.Ta.Ia.call(this)};function beh(a){Oo.call(this);this.C=a;this.La=new Po(this);this.qa(this.La);this.La.listen(this.C,"u",this.D);this.C.$d(this)}v(beh,y9g);beh.prototype.D=function(a){var b=o8g(a.ym.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new z9g("u",new U5g(b))));a.stopPropagation()};function B9g(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&ya(n[0])&&d(n[0])});a.C.rIa(b,c?c.Qf():void 0,l,e,f,h,k)};function ceh(a,b,c){pme.call(this);c&&(this.D=c.Ua.C(this.D));this.C=a;this.qa(this.C);this.C.DI(u(this.D,this));this.F=b}v(ceh,pme);ceh.prototype.send=function(a,b){Ca(b)&&(b=Gm(b));this.C.send(a,{t:this.F,p:b})};ceh.prototype.D=function(a,b){qme(this,a,b)};ceh.prototype.R$=function(a,b,c){b=ceh.Ta.R$.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?ceh.Ta.R$.call(this,a,b.p,c):null};function deh(){Oo.call(this)}v(deh,Oo);function eeh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Oo.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new po;this.qa(this.J);qo(this.J,this.H.getStatus().C,function(l){l.D.Bk()&&Cl(l.C)?k.dispatchEvent(new z9g("r")):l.C.equals(bza)?k.dispatchEvent(new z9g("p")):Dl(l.C)&&k.dispatchEvent(new z9g("e"))});this.F=function(l){l&&k.dispatchEvent(new z9g("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t(eeh,deh);
eeh.prototype.qIa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.daa)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new CMa;var b=this.D.Wg().getId();a.R=b;PLa(a,this.D.eaa,this.O,this.D.Voa);this.C=a;this.C.subscribe("9",this.F)}};
eeh.prototype.rIa=function(a,b,c,d,e,f,h){b=b?["p",Gm(b)]:[];feh(this,b,"/docos/p/"+a,c,d,e,f,h)};function feh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?Oza(b):void 0;c=Xq(a.H.Ve(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.Bq();h?Fl(c,h):Fl(c,3);d&&Hl(c,function(n){d(n.Le())});e&&Gl(c,e,f);k&&Zq(c,k);null!=a.L&&(c.Oa=a.L);c.Oe()}eeh.prototype.Ia=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());deh.prototype.Ia.call(this)};function geh(a,b,c){this.seq=heh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var heh=1;function ieh(a){Oo.call(this);this.C=a;this.C.Af("recv",u(this.m8b,this),!0);this.C.Af("recvEvt",u(this.l8b,this),!0);this.D={}}v(ieh,deh);m=ieh.prototype;m.m8b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.l8b=function(a){this.dispatchEvent(new z9g(a.type,a.payload))};m.qIa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.rIa=function(a,b,c,d,e,f,h){a=new geh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ia=function(){ieh.Ta.Ia.call(this);delete this.C};function jeh(a){A.call(this);this.F=a;this.D=this.C=null}t(jeh,A);
function keh(a){if(a.C)return a.C;var b=w5(a.F),c=b.Uoa;if(void 0!==c)return c&&(a.C=new beh(c),a.qa(a.C)),a.C;if(b.mIa){var d=yfd();c=new BLa(new n7b,void 0,void 0,void 0,new mJa,void 0,void 0,oLa(kLa(d)));var e=b.Voa;e&&c.k6(e);var f=b.oIa;f&&KLa(c,f);b.kKa&&sJa(c.D,"anon","true");(f=b.ESa)&&sJa(c.D,"invite",f);f=null;if(b.daa){f=new CMa;var h=b.Wg().getId();f.R=h;uJa(c.H,f);PLa(f,b.eaa,d,e)}b=new eeh(c,!0,["id",b.eaa],f,null!=b.X1?b.X1:6E4,b,d);b.qa(c);a.C=new beh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.nZa;if(!b)throw Error("Peer missing.");c={};d=new sm(window.location.href);(e=Cm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new sm(b)).toString());d=yfd();b=(new sm(b)).mc("ctoken",d).toString();c.pu=b;a.D=gp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new jU(c);one(b,a.D);b.connect();b=new aeh(b);c=e7g(a.F);b=new ceh(b,d,c);c=new ieh(b);a.C=new beh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
jeh.prototype.Ia=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ia.call(this)};function leh(a,b){this.C=a;this.F=b}leh.prototype[jva]=!0;function l6(a,b,c){var d=Na();b();b=Na()-d;a.F.Qo(c,b)}m=leh.prototype;m.Zoa=function(a,b,c){a=u(this.C.Zoa,this.C,a,b,c);l6(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);l6(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);l6(this,a,"dvmhp")};m.YJ=function(){var a=u(this.C.YJ,this.C);l6(this,a,"dvmla")};
m.qz=function(){var a=u(this.C.qz,this.C);l6(this,a,"dvmfl")};m.XU=function(a){a=u(this.C.XU,this.C,a);l6(this,a,"dvmadv")};m.y_=function(a){a=u(this.C.y_,this.C,a);l6(this,a,"dvmudv")};m.bT=function(a){a=u(this.C.bT,this.C,a);l6(this,a,"dvmrdv")};m.hk=function(){return this.C.hk()};m.KAa=function(a){this.C.KAa(a)};m.fQ=function(){return this.C.fQ()};m.Gq=function(){return this.C.Gq()};m.bW=function(){return this.C.bW()};m.cW=function(){return this.C.cW()};m.oa=function(){return this.C.oa()};
m.oG=function(){return this.C.oG()};m.qba=function(){return this.C.qba()};m.kja=function(a,b){return this.C.kja(a,b)};m.zha=function(){this.C.zha()};m.xha=function(){this.C.xha()};m.lV=function(a,b){return this.C.lV(a,b)};m.GJ=function(a,b){this.C.GJ(a,b)};m.Yoa=function(){return this.C.Yoa()};m.dK=function(a){this.C.dK(a)};m.iaa=function(a){return this.C.iaa(a)};m.Y1=function(){return this.C.Y1()};m.Z1=function(a){this.C.Z1(a)};m.dispose=function(){this.C.dispose()};m.isDisposed=function(){return this.C.isDisposed()};
m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Qc=function(a,b,c,d){return this.C.Qc(a,b,c,d)};m.Bc=function(a,b,c,d){return this.C.Bc(a,b,c,d)};m.UT=function(a){return this.C.UT(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.pC=function(a){return this.C.pC(a)};m.jp=function(){return this.C.jp()};m.ZP=function(a,b,c){return this.C.ZP(a,b,c)};m.EK=function(a,b){return this.C.EK(a,b)};m.tD=function(a,b,c,d){return this.C.tD(a,b,c,d)};
m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.DV=function(){return this.C.DV()||this.C};m.Xoa=function(a){this.DV().Xoa(a)};m.equals=function(a){return this===a};m.JAa=function(a){this.DV().JAa(a)};function meh(a,b){leh.call(this,a,b);this.D=a}t(meh,leh);m=meh.prototype;m.haa=function(a){a=u(this.D.haa,this.D,a);l6(this,a,"davmddp")};m.AV=function(a){a=u(this.D.AV,this.D,a);l6(this,a,"davmudp")};m.XJ=function(a){a=u(this.D.XJ,this.D,a);l6(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.Woa=function(a,b){this.D.Woa(a,b)};function neh(a,b,c){Oo.call(this);this.C=a;this.xa=b;this.V=c||null;this.La=new Po(this);this.qa(this.La);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new FA(this);this.qa(this.ma);this.La.listen(this.H,"r",this.k8b).listen(this.H,"u",this.i9b).listen(this.H,"e",this.gRb).listen(this.H,"p",this.hRb);this.La.listen(A5(a),["dd"],this.fRb).listen(A5(a),"bu",this.eRb)}t(neh,Oo);
function oeh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return peh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new nq),a.F="in-progress",peh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function peh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.tUa(b))}function qeh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Qd(null):d.callback(c)}m=neh.prototype;
m.tUa=function(a){for(var b=A5(this.C),c=lbh(b),d=[],e=0;e<c.length;e++){d.push(Tj(c[e].F));var f=c[e].getId();gd(b.H,f)}b=new s6g;d=Pj(b,1,d);this.L&&L(d,2,this.L);w5(this.C).Lqa()&&(b=w5(this.C).Lqa(),L(d,5,b));B9g(this.H,"sync",d,u(this.i7b,this),u(this.h7b,this),!1,a?a:void 0)};m.h7b=function(){this.O=!1;qeh(this,!0)};m.gRb=function(){this.dispatchEvent("net-error")};m.hRb=function(){this.dispatchEvent("post-limit-error")};
m.i7b=function(a){a=new R5g(a);var b=this.O;this.O=!1;var c=Na();if(b){var d=m6(this.xa,"model-loaded");if(d){var e=(new s5("model-loaded")).build();d(e)}}d=A5(this.C);try{if(reh(this,a,b),this.L=K(a,2),mbh(d))aq(u(this.tUa,this));else{var f=Na()-c;qeh(this,!1,b?f:void 0);this.V&&this.V.Qo("dscat",f)}}catch(h){throw aq(function(){throw h;}),h;}};
function reh(a,b,c){var d=A5(a.C),e=jbh(d),f=Mj(b,i5,1);b=0<f.length;var h=A5(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=Tj(l.value);var n=h5(l),q=fbh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=A5(r.C);n=h5(l);delete e[q.getId()];var x=q.getId();if($c(w.H,x))n=!1;else{x=q.getId();if(x=$c(w.Ha,x)){if(q.oq()){seh(r,q);n=!1;break a}r=q.getId();gd(w.Ha,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=Zd(q.D);w=ja(g5(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(teh(Tj(q[x.value].C)));q=g5(n);Pj(n,8,id(q,w));n=!0}}n&&k.push(new X8g(l))}s9g(h,k,"n");h=ja(lbh(d));for(k=h.next();!k.done;k=h.next())k=k.value,k.oq()&&void 0===k.C.C.getId()&&seh(a,k);if(c)for(a=ja(Object.keys(e)),h=a.next();!h.done;h=a.next())h=e[h.value],V8g(h)||void 0===h.C.C.getId()&&!h.oq()||(b=!0,h=Tj(h.F),h5(h),k=h5(h),Pj(k,8,[]),f=Na(),L(k,13,f),L(k,12,!1),
L(h,9,!1),T5(d,new X8g(h),"n"));b&&d.flush(c)}function seh(a,b){a=A5(a.C);var c=Tj(b.F),d=h5(c);L(c,9,!1);L(d,12,!1);b=b.getId();gd(a.H,b);T5(a,new X8g(c),"n")}function teh(a){var b=Na();L(a,13,b);L(a,12,!1);return a}m.k8b=function(){var a=12E4*Math.random();null!==this.R&&bq(this.R);this.R=aq(function(){oeh(this,w5(this.C).tea?1:void 0)},a,this)};
m.i9b=function(a){if(a.ym){var b=a.ym;a=A5(this.C);var c=0;b=Mj(b,i5,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=Tj(d.value);var e=h5(d);e=fbh(a,e.getId(),K(e,11));e&&e.tR()||(T5(a,new X8g(d),"n"),c++)}0<c&&A5(this.C).flush()}};m.fRb=function(a){"n"!=a.L&&ebh(A5(this.C))&&oeh(this)};m.eRb=function(a){"n"!=a.source&&ebh(A5(this.C))&&oeh(this)};m.Ia=function(){Oo.prototype.Ia.call(this);delete this.C;delete this.La;delete this.ma};function ueh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.La=new Po(this);this.qa(this.La);this.C=null;this.O=!1;this.J=null}t(ueh,A);function veh(a){if(!p5g(a.H,"netIo"))return!1;a.C=new neh(a.H,a.F,a.D.O||void 0);a.qa(a.C);a.La.listen(a.C,"net-error",a.V);a.La.listen(a.C,"post-limit-error",a.R);return!0}ueh.prototype.V=function(){weh(this.F,"fe")};ueh.prototype.R=function(){weh(this.F,"p")};function xeh(a){a.O=!0;a.J=Na();qq(pq(oeh(a.C,a.D.Gz?1:void 0),a.L,a),a.ma,a)}
function yeh(a){if(s8g(a.D)){var b=a.C.D;b?pq(b,function(){return zeh(a)}):zeh(a)}}ueh.prototype.L=function(a){var b=this.D.O;b&&b.fBa(kbh(A5(this.H)).C.clone().rb());if(b=m6(this.F,"sync-success")){var c=(new s5("sync-success")).build();b(c)}(b=m6(this.F,"initial-anchored-render-done"))&&null!==a&&b(new S6g("initial-anchored-render-done",a));(a=m6(this.F,"initial-sync-and-render-complete"))&&a(new S6g("initial-sync-and-render-complete",Na()-this.J));weh(this.F,"s");weh(this.F,"r")};
ueh.prototype.ma=function(){var a=m6(this.F,"sync-error");if(a){var b=(new s5("sync-error")).build();a(b)}weh(this.F,"e")};function zeh(a){a.C.L=null;oeh(a.C,a.D.tea?1:void 0)};function Aeh(){}Aeh.prototype.C=function(a,b){return b?b.N0?["Action item created"]:["Comment created"]:[]};Aeh.prototype.D=ea(0);function Beh(){}Beh.prototype.C=function(){return["Reply added"]};Beh.prototype.D=ea(0);function Ceh(a){var b=a.K9a,c=a.zNb,d=a.i5b;a=T;var e='<div class="'+U("docos-notificationdialog-content")+'">',f='<div class="'+U("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(U(b)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(b)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(U(c)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(c)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(U(d)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(d)+'" class="'+U("docos-notificationdialog-label")+'">');b=T(f+"Nothing</label></div>");b=e+b;c='<a class="'+U("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=T(c+"Help</a>");return a(b+c+"</div>")};function Deh(a){qW.call(this);this.V=a;this.Ha=w5(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(Deh,qW);m=Deh.prototype;
m.Aa=function(){qW.prototype.Aa.call(this);ey(xy(this),"docos");var a=Fa(xy(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Py(this.Db(),Ceh,{K9a:this.O,zNb:this.R,i5b:this.ma});Oy(this,"ok");a=this.Ha.Za;null!==a&&(Nw(this.Nq(),"z-index",a),Nw(xy(this),"z-index",a+1))};
m.Ga=function(){qW.prototype.Ga.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Ey(this.D,"ok");Ho(this.F,"click",u(this.ICa,this));Ho(this.H,"click",u(this.ICa,this));Ho(this.L,"click",u(this.ICa,this))};
m.update=function(){this.xa.disabled=!0;Eeh(O9g(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.oAa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}Feh(O9g(this.V),a)};m.ICa=function(){var a=this;Eeh(O9g(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.vd=function(){No(this.F);No(this.H);No(this.L)};m.Ia=function(){qW.prototype.Ia.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function Geh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}pa("docos.api.StorageUpdate",Geh,void 0);function Heh(a,b){if(a){b||a.unshift(void 0);Ieh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),Jeh(c[2],b),Heh(c[3],b),b&&c.shift());b&&a.shift()}}function Jeh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Ieh(a,b){if(a){b||a.unshift(void 0);Jeh(a[3],b);Jeh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Ieh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function Keh(a){A.call(this);this.D=a;this.C=w5(a).fc;this.H=[];this.F=[];w5(a).Yc||(this.La=new Po(this),this.qa(this.La),this.La.listen(A5(a),["f","dd"],this.Vdb).listen(A5(a),"bu",this.Udb))}v(Keh,A);m=Keh.prototype;m.Vdb=function(a){if("o"!=a.L&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=jd(this.H);var b=jd(this.F);this.C.i4a(a,b,u(this.aMb,this,a),u(this.ZLb,this,b));this.H=[];this.F=[]}}else Leh(this,a.type,a.C,a.O)};
m.Udb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,Leh(this,a.type,c.Tj,c.C)};function Leh(a,b,c,d){if(c){var e;"bu"==b?e=A5(a.D).ud(c):e=A5(a.D).F[c];(b=e)&&b.oq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!V8g(b)&&(e=Tj(b.F).Qf(),e=$d(e),Heh(e,!1),b=new Geh(c,e,b.tR()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.aMb=function(a){for(var b=0;b<a.length;b++);};
m.ZLb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);Meh(this,d,c)};m.Hyb=function(a,b){if(0<b.length){for(var c=A5(this.D),d=0;d<b.length;d++){ya(b[d]);var e=$d(b[d]);Heh(e,!0);e=new i5(e);T5(c,new X8g(e),"o")}c.flush(!0)}a()};m.Gyb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);Meh(this,d,c);a()};
function Meh(a,b,c){if(a=e7g(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ia=function(){Keh.Ta.Ia.call(this);delete this.D;delete this.La;delete this.C};function Neh(a,b){var c=new Ekf(new skf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));Gkf(c,b);b=c.D;a=null!=K(a.Ui,50)?K(a.Ui,50):4;L(b,5,Oeh(a));return Wnf(c)}function Oeh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function Peh(a,b){this.F=a;this.D=b;this.H=w5(this.D);this.C=null};function Qeh(a){this.F=a}Qeh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ud(b.C))?y5(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};Qeh.prototype.D=ea(0);function Reh(a,b){this.F=a;this.H=A5(this.F);this.J=b}Reh.prototype.C=function(a,b){var c=this.H.ud(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.FB())return["Draft comment"];b=[];c=O5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Xj()){var h=this.J;var k=f.z3();null==k?h="":(h=h(k).C(),h=null==h?"":eyd(h,Uxd.getInstance()))}else h=f.wx();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(u5(f.Ew())+(" on "+a.format(U7g(f)))));b.push(h+f)}return b};
Reh.prototype.D=ea(0);function Seh(a){this.hdc=a;return this}t(Seh,l5);Seh.prototype.shouldOverrideHide=g("hdc");Seh.prototype.shouldOverrideHide=Seh.prototype.shouldOverrideHide;function Teh(a){this.C=a}v(Teh,l5);pa("docos.api.ToggleShowStreamPaneArgs",Teh,void 0);Teh.prototype.getDisplay=g("C");Teh.prototype.getDisplay=Teh.prototype.getDisplay;function Ueh(a){lB.call(this,a);this.ij("back-to-document",[85]);this.ij("next-doco",[74]);this.ij("prev-doco",[75]);this.ij("prev-anch",[75,1]);this.ij("next-anch",[74,1]);this.ij("resolve",[69]);this.ij("reopen",[69,1]);this.ij("reply",[82]);this.ij("speak-comment",yt(["A","C"]));this.addEventListener("shortcut",this.Da)}t(Ueh,lB);Ueh.prototype.Da=function(a){this.dispatchEvent(a.identifier)};function Veh(a,b,c){b=c||b;var d=a.WJ,e=a.W4b;c=a.I$a;var f=a.H$a,h=a.ao,k=a.t2,l='<div class="'+U("docos")+" "+U("docos-streampane-container")+'" role="dialog" aria-label="';l+=Ex("Comment history box.");var n='"><div class="'+U("docos-streampane-content")+'">';e?(a='<div class="'+U("docos-streampane-header")+'"><div class="'+U("docos-new-comment-button")+'">',b=b={ao:h},e="",b.ao?(e+='<div class="'+U("docos-ns-caption")+'">'+T('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+U("docos-ns-caption-text")+'">',e+="Comment</div></div>"):(e+='<div class="'+U("docs-material")+'">'+S(W6g({Zh:"docos-icon-add-comment",DB:"docos-icon-add-comment-size",We:"docos-new-comment-icon",wR:!0})),e+="Comment</div>"),b=T(e),a=a+S(b)+"</div>",d?(d='<div class="'+U("docos-notification-settings")+'">',h=h={ao:h},h=h.ao,h=T('<div class="'+U("docos-ns-caption")+'">'+(h?T('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
S(W6g({Zh:"docos-icon-bell",DB:"docos-icon-bell-size",We:"docos-ns-caption-icon"})))+'<div class="'+U("docos-ns-caption-text")+'"><div class="'+U("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+S(h)+"</div>"):h="",k=a+h+(k?'<div class="'+U("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=b,d=a.UC,k=a.WJ,a=a.fJ,h='<div class="'+U("docos-streampane-entryarea")+" "+U("hide-on-readonly")+'">'+S(X6g({size:48,We:"docos-streampane-avatar"}))+'<div class="'+U("docos-streampane-entryarea-content")+
'"><div class="'+U("docos-streampane-username")+" "+U("goog-inline-block")+'">'+S(d)+"</div>"+S(Y9g({We:"docos-streampane-input-pane",oec:!0,fJ:a},h)),k&&(h+='<div class="'+U("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=T(h+"</div></div>"));l+=n+k;c&&(l+='<div class="'+U("docos-streampane-bannertext")+'">'+S(c),f&&(l+='<a target="_blank" rel="noreferrer" href="'+U(Fx(f))+'" class="'+U("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
U("docos-streampane-readonlytext")+" "+U("show-on-readonly")+" "+U("goog-inline-block")+'">';return T(l+"You do not have permission to add comments.</div></div></div>")}function Weh(){var a='<div class="'+U("docos-streampane-error")+'">';return T(a+"Commenting disabled due to a network error. Please reload the page.</div>")};function Xeh(){return T('<div class="'+U("docos-spinner")+'" dir="ltr"><div class="'+U("docos-quantum-spinner")+" "+U("active")+'">'+Yeh({Cq:"spinner-blue"})+Yeh({Cq:"spinner-red"})+Yeh({Cq:"spinner-yellow"})+Yeh({Cq:"spinner-green"})+"</div></div>")}
function Yeh(a){a=a.Cq;return T('<div class="'+U("spinner-layer")+" "+U(a)+'"><div class="'+U("spinner-circle-clipper")+" "+U("spinner-left")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-gap-patch")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-circle-clipper")+" "+U("spinner-right")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div></div>')};function Zeh(a,b){v5.call(this,a,b);this.D=null}v(Zeh,v5);Zeh.prototype.Aa=function(){var a=this.oa();this.D=Ry(Xeh,{},void 0,a);this.jb(this.D)};Zeh.prototype.cf=function(){this.D.parentElement.removeChild(this.D)};Zeh.prototype.Ia=function(){delete this.D};function $eh(a,b){Po.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=C5(this.O);this.Ig=null;this.R=new lB(this.C.oa().Wb());this.R.ij("blur",27);this.V=new FA(this);this.qa(this.V);this.V.Ob(this.J.Qa("docos-new-doco"),lt,this.WQb).Ob(this.J.Qa("docos-highlight-doco"),lt,this.VQb);this.listen(this.C,"bd",this.UQb).listen(this.C,"br",this.XQb)}t($eh,Po);
function afh(a){0==a.D&&0<a.C.zc()&&(a.D=bfh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.zc();c++)bfh(a,c)==a.D&&(b=c);cfh(a);n6(a.C,!1);b=a.C.Cc(b).getId();b=new L6g(b,a.C.getId());a.J.xf("docos-before-highlight-doco").pb(b);a.J.xf("docos-highlight-doco").pb(b)}}function cfh(a){a.Ig||(a.Ig=new oy(a.C.oa().Wb()),a.qa(a.Ig));a.listen(a.Ig,"focusin",a.GYa).listen(a.R,"shortcut",a.OOa)}m=$eh.prototype;
m.GYa=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,dfh(this,!0),n6(this.C,!0),this.Bc(this.Ig,"focusin",this.GYa).Bc(this.R,"shortcut",this.OOa),a=n5(),this.J.xf("docos-before-highlight-doco").pb(a),this.J.xf("docos-highlight-doco").pb(a))};m.OOa=function(){n6(this.C,!1);dfh(this,!1)};
m.VQb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Gc(a)){if(this.D=R5(A5(this.O),b.C),b.D==this.C.getId()){cfh(this);dfh(this,!1);a instanceof wch&&(a.Sh(!0),Bch(a,!0));n6(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof wch)a:if(och(a),a.D)a.D.ready(void 0,void 0,!0),a.D.O.focus();else{b=O5(a.ud(),!1);for(var c=b.length-1;0<=c;c--)if(jch(a.H[b[c].getId()]))break a;jch(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,n6(this.C,!0),dfh(this,!0)};
m.WQb=function(a){a=a.data;var b=U5(A5(this.O),a.Hp);if(b){for(var c=0;c<this.C.zc();c++)if(b.getId()==this.C.Cc(c).getId()){this.D=a.Hp;break}this.F=!0;n6(this.C,!1,!0);dfh(this,!1)}};m.UQb=function(){efh(this)};m.XQb=function(){A5(this.O).V||efh(this)};function efh(a){if(1==a.C.zc())a.D=0,n6(a.C,!1);else{for(var b=0,c=0;c<a.C.zc();c++)if(bfh(a,c)==a.D){b=c;break}b==a.C.zc()-1?b--:b++;a.D=bfh(a,b);a.F=!0;n6(a.C,!1,!0);dfh(a,!1)}}
function dfh(a,b){for(var c=k8a(a.C),d=0;d<c.length;d++){var e=a.C.Gc(c[d]);e instanceof wch&&(e.Sh(b),Bch(e,b))}}function bfh(a,b){return R5(A5(a.O),a.C.Cc(b).getId())};function ffh(a,b,c){this.D=a;this.F=b;this.C=c||null};function gfh(a,b,c,d){v5.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.KAa(this);this.O={};this.J=[];this.H=[];this.Ba=!1;this.ma=this.F=this.R=null;this.xa=new FA(this);this.qa(this.xa);a=A5(this.context);this.getHandler().listen(a,"bu",this.O5b).listen(a,"dd",this.o6b).listen(a,"f",this.P6b).listen(a,"sd",this.t8b).listen(a,"ud",this.f9b).listen(b,"rv",this.wac).listen(this,"ra",this.e8b).listen(this,"sd",this.K8b).listen(this,"sr",this.L8b).listen(this,"sn",this.u8b).listen(this,"sp",
this.v8b).listen(this,"bd",this.P5b).listen(this,"ar",this.B5b).listen(this,"ph",this.g7b);g7g(this)}v(gfh,v5);m=gfh.prototype;
m.Ga=function(){gfh.Ta.Ga.call(this);eA(this.getElement(),"docos");fy(this.getElement(),["docos","docos-stream-view"]);Px(this.getElement(),"list");t8g(this.C)?ey(this.getElement(),"docos-stream-view-height"):(ey(this.getElement(),"docos-stream-view-legacy"),ey(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.D&&ey(this.getElement(),"docs-gm");"material_blue"==this.C.D?ey(this.getElement(),"docos-gm-blue"):"material_green"==this.C.D?ey(this.getElement(),"docos-gm-green"):"material_yellow"==
this.C.D&&ey(this.getElement(),"docos-gm-yellow");fy(this.Db(),this.D.fQ());this.getHandler().listen(this,"rd",this.aeb);var a=C5(this.context);this.xa.Ob(a.Qa("docos-highlight-doco"),lt,this.Cha);w5(this.context).qb&&dy(this.getElement(),"docos-layout-vertical")&&(this.R=new $eh(this.context,this),this.F=this.fb.createElement("DIV"),ey(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.uy).listen(this.F,"focus",this.x8b),hfh(this).appendChild(this.F),this.ma=new hC);
this.QEa()};m.sIa=ea(!0);m.B$=function(){this.D.YJ();ifh(this);this.D.dK(!0);this.dispatchEvent("ail")};m.uy=function(){afh(this.R)};m.x8b=function(){var a=this.R;a.H=!0;afh(a)};m.QEa=function(){var a=A5(this.context);if(Md(a.C)){this.D.dK(!1);a=Zd(a.C);for(var b in a)jfh(this,b);this.D.GJ();this.B$()}};m.uA=function(a,b){for(var c=this.zc()-1;0<=c;--c){var d=this.Cc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.uA()}};
m.Cha=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.ma&&this.D.kja(a,c)){if(this.ma&&a&&this.D.Gq()!=a){var d=this.zc();d="Comment "+(sx(this,this.Gc(a))+1+(" of "+(d+" ")));iC(this.ma,d)}this.dispatchEvent("us");this.D.Zoa(a,c,b);ifh(this);this.dispatchEvent("ud")}};m.O5b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Tj;c=c.C;b&&(A5(this.context).ud(b),(c=this.Gc(b)||c&&this.Gc(c))?(c.getId()!=b&&c.Jc(b),this.J.push(b)):this.O[b]=!0)}};m.o6b=function(a){this.H.push(a.C)};
function ifh(a){a.Ba||a.D.qz()}m.P6b=function(a){this.D.dK(!a.F);this.Ba=!0;for(var b=0;b<this.H.length;++b)kfh(this,this.H[b]);for(var c in this.O)jfh(this,c);Ud(this.O)||this.D.GJ();for(b=0;b<this.J.length;++b)lfh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.YJ();this.D.qz();this.Ba=!1;this.D.dK(!0)};m.aeb=function(a){this.Gc(a.Tj)&&(this.D.y_(a.Tj),ifh(this))};m.t8b=ba();m.f9b=ba();
m.e8b=function(a){var b=A5(this.context).ud(a.Tj);if(a=w5(this.context).H.reanchor)b=N5(b),b=R6g("reanchor").addAnchorId(b).build(),a(b),this.context.ma=!0};m.K8b=function(a){var b={text:a.C,Xm:a.Xm,Hp:a.Hp,qeb:a.Xm,N0:a.N0};a.Xm&&w5(this.context).Nc&&(b.quote=(0,w5(this.context).Nc)(a.Xm));a.Xm&&w5(this.context).Pa&&(b.Xm=(0,w5(this.context).Pa)(a.Xm));C5(this.context).xf("docos-new-doco").pb(b)};
m.L8b=function(a){var b=A5(this.context).ud(a.Tj);if(!b)throw Error(a.Tj+" not contained within appropriate stream.");var c=C5(this.context);b.isResolved()?c.xf("docos-resolve-doco").pb(new h7g(a.Tj,!1,a.C)):c.xf("docos-new-reply").pb(new ffh(a.Tj,a.C,a.N0))};m.u8b=function(){this.D.highlightNext()};m.v8b=function(){this.D.highlightPrevious()};m.P5b=function(){this.D.zha()};m.B5b=function(){this.D.xha()};
function jfh(a,b){var c=A5(a.context).ud(b);c&&a.Ha(c)&&!a.Gc(b)&&(a.dispatchEvent("us"),a.D.XU(c),a.dispatchEvent("ud"),a.R&&n6(a,!0))}function lfh(a,b){a.dispatchEvent("us");var c=a.Gc(b);if(c){var d=A5(a.context).ud(b);d&&a.Ha(d)?(c.update(),a.D.y_(b)):kfh(a,b)}a.dispatchEvent("ud")}function kfh(a,b){b&&(a.dispatchEvent("us"),a.D.bT(b),a.dispatchEvent("ud"))}m.wac=function(a){for(var b=a.kIa.length,c=0;c<b;++c)kfh(this,a.kIa[c])};m.c7=function(){for(var a=this.zc(),b=0;b<a;++b)this.Cc(b).c7()};
function hfh(a){return(a=a.getElement())?a.parentElement:null}function n6(a,b,c){if(!b&&!c||0!=a.zc())a.oa().Pi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Pi(a.F,b))}m.Ia=function(){gfh.Ta.Ia.call(this);delete this.xa};m.g7b=function(){var a=this.D.cW();null==a||a.isDisposed()||(a.update(),a.focus())};function mfh(a){A.call(this);this.C=[];this.D=!1;this.F=new yq;this.H=a?!1:!0}t(mfh,A);mfh.prototype.start=function(){this.H=!0;nfh(this)};function nfh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Ik(u(a.J,a)))}mfh.prototype.J=function(){this.C.shift()();this.D=!1;nfh(this)};mfh.prototype.Ia=function(){this.F.dispose();A.prototype.Ia.call(this)};function ofh(a,b,c,d){gfh.call(this,a,b,c,d);this.Na=new mfh;this.L=[];this.Ja=new Zeh(a,d);this.Da=!1;this.V=null}v(ofh,gfh);m=ofh.prototype;m.sIa=g("Da");m.B$=function(){ofh.Ta.B$.call(this);this.Ja.cf();this.Da=!0;this.V&&this.Cha(this.V)};m.TEa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Gc(b)||(jfh(this,b),a++)}0==this.L.length?this.B$():(a=this.Na,b=u(this.TEa,this),a.C.push(b),nfh(a))};
m.QEa=function(){var a=A5(this.context);if(Md(a.C)){this.Ja.render(hfh(this));this.D.dK(!1);a=Zd(a.C);for(var b in a)this.L.push(b);b=this.Na;a=u(this.TEa,this);b.C.push(a);nfh(b)}};m.Cha=function(a){this.Da?ofh.Ta.Cha.call(this,a):this.V=a};function pfh(a,b,c,d,e){c6.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];w5(a).Ec&&(c=c.concat(["link"]));this.L=new y8g(a,b,d,"docos-actionmenu",c);this.Fa(this.L);this.Fa(this.F);och(this);this.Ha+=" docos-streamdocoview-input-pane";this.fc="Discard reply";this.Ba=this.V=this.Ja=this.Sa=this.Oa=this.Da=null}t(pfh,c6);m=pfh.prototype;
m.Aa=function(){c6.prototype.Aa.call(this);var a=this.oa(),b=this.getElement();this.Da=a.$a("docos-streamdocoview-inputcontainer",b);this.Oa=a.$a("docos-streamdocoview-reopen-control",b);this.Sa=a.$a("docos-streamdocoview-resolve-control",b);this.L.Va(a.$a("docos-actionmenu-outer",b));Ux(this.L.F.Ka(),"More options");this.Ja=a.$a("docos-author",b);this.V=HV(a,"IMG","docos-streamdocoview-avatar",b);this.Ba=HV(a,"IMG","docos-streamreplyview-avatar",this.Da);a=this.oa();b=this.getElement();var c=a.$a("docos-docoview-comment",
b);c&&(w5(this.getContext()).C.C(c,"Reply to this comment"),Ux(c,"Reply to this comment"));if(c=a.$a("docos-docoview-resolve",b))w5(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),Ux(c,"Mark as resolved and hide discussion");if(a=a.$a("docos-docoview-reopen",b))w5(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),Ux(a,"Mark as open and return discussion to the document view")};
m.Ga=function(){c6.prototype.Ga.call(this);qfh(this);var a=this.getElement();this.D.V=a;x5(x5(x5(x5(this,this.L,"d",this.T1a),this.L,"e",this.y6b),this.L,"r",this.p8b),this.L,"ra",this.g8b);a=this.ud().Ew();rfh(this,a);sfh(this,a);a=w5(this.getContext()).Wg();k7g(z5(this.getContext()),this.Ba,a.D,u5(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Ba&&this.C.C.C(this.Ba,a)};m.Jc=function(a){c6.prototype.Jc.call(this,a);this.L&&A8g(this.L,a)};
m.update=function(){c6.prototype.update.call(this);var a=this.ud().Ew();rfh(this,a);sfh(this,a);this.L.update();qfh(this);this.Da&&(a=!Ud(this.H)||X5(this.D)||this.ul(),P(this.Da,a))};function rfh(a,b){var c=z5(a.getContext()),d=b.D;a.V&&Dbh(b,a.ud().getOrigin())&&(d=I9g(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));k7g(c,a.V,d,u5(b))}function sfh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ja&&a.C.C.C(a.Ja,c),a.V&&a.C.C.C(a.V,c))}
function qfh(a){var b=a.ud();a.Oa&&P(a.Oa,b.isResolved());a.Sa&&P(a.Sa,!b.isResolved())}m.rYa=function(a){var b=this.getElement();a=a.target;dy(a,"docos-docoview-comment")&&b?this.D.ready():dy(a,"docos-docoview-resolve")&&b?tfh(this):dy(a,"docos-docoview-reopen")&&b&&uch(this)};m.y6b=function(){gch(this.F)};m.p8b=function(){this.ud().isResolved()?uch(this):tfh(this)};m.g8b=function(a){this.dispatchEvent(new $9g("ra",this.ud().getId()));a.stopPropagation()};
function tfh(a){var b=C5(a.getContext());a.dispatchEvent("br");var c=new h7g(a.getId(),!0,X5(a.D)?a.D.getValue():null);b.xf("docos-resolve-doco").pb(c);a.dispatchEvent("ar")}m.c7=function(){var a=this.F;a.Ib&&!a.H.ul()||bch(a)};m.vd=function(){c6.prototype.vd.call(this);var a=z5(this.getContext());B5(a,this.V);B5(a,this.Ba)};m.Ia=function(){c6.prototype.Ia.call(this);delete this.L;delete this.Ja;delete this.V;delete this.Ba;delete this.Da;delete this.Oa;delete this.Sa};function ufh(a,b,c,d){this.C=a;this.D=b;this.bb=c;this.H=d}ufh.prototype.F=function(a){a=A5(this.C).ud(a);var b=this.D.hk().getId();return new pfh(this.C,a.getId(),b,this.bb,this.H)};function vfh(a,b){e6.call(this,a,b)}v(vfh,e6);m=vfh.prototype;m.C3=function(){return"none"!=w5(this.getContext()).cb};m.hoa=function(a){return(new ufh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.lV=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=f6(this).cb;f6(this).Wg().getEmail();switch(c){case "creation":c=b.by().getTime()-a.by().getTime();break;case "priority":c=a.isResolved()||a.Xj()&&wfh(this,a);var d=b.isResolved()||b.Xj()&&wfh(this,b);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=y5(a),c=y5(b),d=Z6g(d,f6(this))?1:0,c=(Z6g(c,f6(this))?1:0)-d));c=c||xfh(this,a,b)||yfh(a,b);break;default:c=yfh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<
a.getId()?1:0);return c};function yfh(a,b){return b.pQ().getTime()-a.pQ().getTime()}function wfh(a,b){var c=b.ey()?N5(b):null;a=w5(a.getContext()).Ib;a=null!=c&&a(c);return null==c||!!W8g(b)||a}function xfh(a,b,c){a=f6(a).Wg().getEmail();var d=new Set,e=new Set;O5(b,!0).forEach(function(f){d.add.apply(d,ka(oah(nah,f.wx())))});O5(c,!0).forEach(function(f){e.add.apply(e,ka(oah(nah,f.wx())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.XU=function(a){var b=this.hk(),c=this.hoa(a),d=0;this.C3()&&(d=this.Oba(c));b.Ff(c,d,!0);c.update();if(c=b=this.qba())b.C!=a.getId()?c=!1:(c=a.ey()?N5(a):void 0,d=w5(this.getContext()).Ib,d=null!=c&&d(c),c=null==c||a.isResolved()||!!W8g(a)||d);c&&(b=q5(P6g(p5(o5(a.getId()),this.oG()),b.D)),this.JRa(b,a))};m.bT=function(a){this.hk().Gc(a)&&(a=this.hk().removeChild(a),Jf(a))};m.y_=function(a){if(this.C3()){var b=this.hk();if(a=b.Gc(a)){var c=sx(b,a),d=this.Oba(a);c!=d&&b.Ff(a,d)}}};
m.zha=function(){Rch(this,!0,!0)};m.xha=function(){if(this.H&&this.Gq()){var a=this.Gq();Z5(A5(this.getContext()),a);this.oG()&&C5(this.getContext()).xf("docos-highlight-doco").pb(q5(N6g(p5(o5(a),this.oG()))))}};m.YJ=function(){Tch(this)};function zfh(a){a=a||{};var b=a.kbc,c=a.lbc,d=a.zab,e=a.yab;a=a.Ocb;if(Bx(d)||Bx(c)){var f;Bx(a)&&Bx(c)?f='<a href="'+U(Fx(c))+'" title="'+U(b)+'" target="_blank">'+S(a)+"</a>":a?f=S(a):f="";b='<div class="'+U("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+U(e)+" built at...":"No CL #")+'">'+S(d)+"</span>":"")+" "+f+"</div>"}else b="";return T(b)};function Afh(a,b){Q.call(this,b);this.C=a}t(Afh,Q);Afh.prototype.Aa=function(){this.jb(Ry(zfh,{yab:K(this.C,4),zab:this.C.nm(),Ocb:K(this.C,5),kbc:K(this.C,2),lbc:K(this.C,1)},void 0,this.oa()))};function Bfh(a,b){v5.call(this,a,b);this.Oc=new Oz(b);this.F=a;for(var c in c6g){a=c6g[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new DU(d,a,b);this.Oc.Fa(a,!0)}this.D=new Wz("",this.Oc,pH.getInstance(),b);Xz(this.D,new Sz(null,9));this.D.II=!0;this.Fa(this.D)}t(Bfh,v5);m=Bfh.prototype;
m.Ga=function(){v5.prototype.Ga.call(this);var a=this.oa(),b=a.$a("docos-ns-caption",this.getElement());a=a.$a("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().Me(a,"Notifications");b=w5(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Oc.zc();a++){var c=this.Oc.Cc(a),d=c.getElement();a:{switch(c.Ra()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}x5(this,this.D,"action",this.PRb);x5(this,this.C,"r",this.Nwa);x5(this,this.getElement(),"keyup",this.Wjb);x5(this,this.Oc,"show",this.ORb);x5(this,this.Oc,"hide",this.NRb);this.Nwa()};m.ORb=function(){0<this.Oc.zc()&&this.Oc.$h(0)};m.NRb=function(a){a.stopPropagation()};m.Wjb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.PRb=function(a){var b=a.target.Ra(),c=O9g(this.F);b!=Eeh(c)&&Feh(c,b);this.Nwa();a.stopPropagation()};m.Nwa=function(){var a=this;!this.C.R&&this.C.WJ()?Eeh(O9g(this.F)).then(function(b){for(var c=0;c<a.Oc.zc();++c){var d=a.Oc.Cc(c);d.$b(d.Ra()==b)}b=!a.C.R&&a.C.WJ();a.D.Ma(b)},void 0,this):this.D.Ma(!1)};function Cfh(a,b,c,d){v5.call(this,a,b);this.H=new vfh(a,b);this.qa(this.H);this.D=c?new ofh(a,this.H,kfa(U8g),b):new gfh(a,this.H,kfa(U8g),b);this.Fa(this.D);this.J=a;this.Ba=null;this.Ha=!!d;Cj(this.C.Ui,30)||(this.F=new wah(a,b),this.qa(this.F),this.Fa(this.F),this.F.Ba="Add a comment");this.V=null;Cj(this.C.Ui,30)&&this.C.WJ()&&!this.C.ma&&(this.V=new Bfh(a,b),this.Fa(this.V));this.L=null;this.C.t2()&&(this.L=new uU(b),this.Fa(this.L));this.O=null;Cj(this.C.Ui,30)&&(this.O=new OA("",b,"legacy"!=
this.C.D?4:void 0),this.Fa(this.O));this.Da=new FA(this);this.qa(this.Da);this.xa=new Afh(N(this.C.Ui,Vef,2)||new Vef,b);this.Fa(this.xa);this.R=!1;this.ma=null;g7g(this)}v(Cfh,v5);m=Cfh.prototype;m.NZa=0;m.rz=null;m.faa=null;m.zV=null;m.gD=null;m.nG=null;
m.Aa=function(){var a="legacy"!=this.C.D,b=this.oa(),c=Ry(Veh,{UC:this.C.Wg().getName(),WJ:this.C.WJ(),W4b:!!Cj(this.C.Ui,30),fJ:this.C.Da,I$a:this.C.pz,H$a:this.C.Bt,ao:a,t2:this.C.t2()},void 0,b);Cj(this.C.Ui,30)&&ey(c,"docos-enable-docs-header");a&&ey(c,"docs-gm");"material_blue"==this.C.D?ey(c,"docos-gm-blue"):"material_green"==this.C.D?ey(c,"docos-gm-green"):"material_yellow"==this.C.D&&ey(c,"docos-gm-yellow");this.jb(c);a=b.$a("docos-streampane-content",c);this.D.render(a);this.nG=Cj(this.C.Ui,
30)?this.D.Db():this.C.L;this.xa.render(c);this.faa=b.$a("docos-streampane-username",c);this.zV=HV(b,"IMG","docos-streampane-avatar",c)};
m.Ga=function(){Cfh.Ta.Ga.call(this);var a=this.oa(),b=this.getElement();this.F&&this.F.Va(a.$a("docos-streampane-input-pane",b));if(this.V){var c=a.$a("docos-notification-settings",b);this.V.Va(c)}this.L&&(c=a.Ea("docos-priority-checkbox",b),this.L.render(c),this.L.$b(!0),this.L.setContent("For you"),x5(this,this.L,"action",this.$ab));c=w5(this.J).C;this.O&&(a=a.$a("docos-new-comment-button",b),this.O.Va(a),c.C(a,this.C.Ja?"Add comment not available":"Add a comment"),x5(this,this.O,"action",this.Wdb),
this.N3a(),this.getHandler().listen(this.C,"r",this.N3a));this.C.xa&&(b=this.C.xa,this.F&&(this.F.V=b));Ap(b,!0);this.gD=new Ueh(b);Ho(this.gD,"next-doco",this.D7b,!0,this);this.gD.addEventListener("prev-doco",this.W7b,!0,this);Ho(this.gD,"resolve",u(this.Y8a,this),!0);Ho(this.gD,"reopen",u(this.$db,this),!0);Ho(this.gD,"back-to-document",this.C$a,!0,this);Ho(this.gD,"speak-comment",this.zec,!0,this);b=C5(this.J);a=this.C.Ja?this.$6b:this.Zdb;this.Da.Ob(b.Qa("docos-highlight-doco"),lt,a);this.F&&
x5(this,this.F,"p",this.y5b);x5(x5(x5(x5(x5(x5(x5(x5(this,this.getElement(),"click",this.Xdb),this.D,"f",this.Q6b),this.D,"b",this.S5b),this.D,"e",this.G6b),this.D,"us",this.J8b),this.D,"ud",this.I8b),this.D,"ail",this.H8b),this,["aftershow","afterhide"],this.Ydb);b=this.C.Wg();J9g(z5(this.J),this.zV,b.D,u5(b));this.faa&&(a=b.getName())&&this.C.C.C(this.faa,a);this.zV&&(a=b.getName())&&this.C.C.C(this.zV,a);this.Ha||(this.Ba=new rC(this.getElement(),this.oa()),this.qa(this.Ba),sC(this.Ba));Dfh(this)};
m.Ydb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof Xjf;var d=(new s5(b)).setNonAnchored(!0).setApiEventArgs(new Seh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.c7=function(){this.D.c7()};m.Xdb=function(a){dy(a.target,"docos-streampane-notificationslink")&&!this.C.R&&this.dispatchEvent("dnd")};
m.y5b=function(){var a=this.F.getValue();Bd(a)||(C5(this.J).xf("docos-new-doco").pb({text:a,Xm:null,Hp:0,quote:null}),this.rz=null)};m.Q6b=function(a){if(a=a.target)this.rz=a.getElement()};m.S5b=function(a){Efh(this,a)};m.G6b=function(a){Efh(this,a)};function Efh(a,b){(b=b.target)&&b.getElement()==a.rz&&(a.rz=null)}m.J8b=function(){null!=this.rz&&(this.NZa=this.rz.offsetTop)};m.I8b=function(){null!=this.rz&&this.nG&&(this.nG.scrollTop+=this.rz.offsetTop-this.NZa)};m.H8b=function(){this.dispatchEvent("initial-load-complete")};
m.Zdb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&Ffh(this,a.C||null);if(a=a.C?this.D.Gc(a.C):null)this.rz=a.getElement()};m.$6b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?A5(this.J).ud(b):null)&&(b=(new s5("toggle-show-stream-pane")).addAnchorId(N5(b)).addDocoHandle(R5(A5(this.J),b.getId())).setNonAnchored(!(b.ey()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new Teh(!0)).build(),c(b));Ffh(this,a.C||null)};
function Ffh(a,b){(b=b?a.D.Gc(b):null)?(a.rz=b.getElement(),a.nG&&(a.nG.scrollTop=b.getElement().offsetTop)):a.rz=null}m.D7b=function(){this.H.highlightNext()};m.W7b=function(){this.H.highlightPrevious()};m.Y8a=function(){var a=this.H.cW(),b=this.H.Gq();b=b?A5(this.J).ud(b):null;a&&b&&(a=a.F,b.Xj()?$bh(a):Zbh(a,!0))};m.$db=function(){var a=this.H.cW();a&&Zbh(a.F,!1)};m.C$a=function(){var a=C5(this.J),b=this.H.Gq();a.xf("docos-back-to-document").pb({Tj:b})};m.zec=function(){var a=this.H.cW();a&&vch(a)};
function Dfh(a){if(a.R&&!a.ma&&a.sb()){var b=Ry(Weh);a.ma=new Q;a.ma.Va(b);a.Ff(a.ma,0)}}m.N3a=function(){this.O.Ma(this.C.jg)};m.Wdb=function(){this.dispatchEvent("create-draft")};m.$ab=function(){var a=C5(this.J),b=this.L.isChecked();this.nG&&(this.nG.scrollTop=0);a.xf("docos-update-sort").pb({vec:b?"updated":"priority"})};m.vd=function(){Cfh.Ta.vd.call(this);B5(z5(this.J),this.zV)};
m.Ia=function(){Cfh.Ta.Ia.call(this);delete this.faa;delete this.zV;delete this.rz;delete this.nG;delete this.xa;delete this.F;delete this.H;delete this.D;delete this.Da;this.gD&&(delete this.gD,this.gD=null)};function Gfh(a){A.call(this);this.H=a;this.D=this.C=null;this.F=Xp();p5g(this.H,"netIo")&&this.F.resolve()}t(Gfh,A);function Eeh(a){if(a.C)return Tp(Hfh(a.C));a.D||(a.D=a.F.C.then(function(){return new Pp(function(b,c){B9g(a.H.get("netIo"),"uc",void 0,function(d){return b(new O5g(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.lp();a.D=null;return Hfh(a.C)},void 0,a)}
function Feh(a,b){var c="all"==b;b="none"==b;var d=(new Ref).Ma(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new q6g;b=Nj(b,1,a.C);B9g(a.H.get("netIo"),"uc",b)}function Hfh(a){return Fj(a,2,!0)?Cj(a,3)?"all":Fj(a,4,!0)||Fj(a,5,!0)?"important":"none":"none"};function Ifh(a,b){var c=a.ud(),d=b.ud();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.by();a=d.by();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function Jfh(a,b){this.C=a;this.od=b}Jfh.prototype.ud=g("C");Jfh.prototype.getPosition=g("od");function Kfh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function Lfh(a,b){return a.C().Cc(b).getId()}function Mfh(a,b){for(var c=a.C().zc(),d=0;d<c;++d)a.H(Lfh(a,d),Infinity);a.layout(b||[])}m=Kfh.prototype;m.layout=function(a){do{var b=a;Nfh(this,0,this.C().zc(),1,-Infinity,this.ykb,this.zkb,b);b=a;Nfh(this,this.C().zc()-1,-1,-1,Infinity,this.E$a,this.F$a,b);a.pop()}while(0<a.length)};function Ofh(a,b){0==a.D&&(a.D=1);a.F=id(b,a.F);md(a.F)}
function Pfh(a){0!=a.D&&(2==a.D?Mfh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function Nfh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=Lfh(a,b);var n=b;n=a.C().Cc(n).getHeight();var q=a;var r=b;r=q.C().Cc(r).ud().getId();q=q.J(r);r=a.L(l);e=$c(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.ykb=function(a,b){return b+a+10};m.E$a=function(a,b){return b-10};m.zkb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.F$a=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function Qfh(a,b){var c=this;Zch.call(this,a,b);this.F={};this.ma={};this.Da=new Kfh(u(this.hk,this),u(this.xUa,this),u(this.pqa,this),u(this.ncc,this));this.Sa=w5(a).Wn;this.Ha=new IL;this.ib=!0;this.Rb=new Iq(this.Fgc,500,this);this.Na=this.Pa=null;this.Ja=P9g(a);this.Ib=new po;this.qa(this.Ib);qo(this.Ib,this.Ja.D,function(){c.Oa=!0;c.Za&&Rfh(c,c.Za);Pfh(c.Da);c.qb&&c.qz();c.Oa=!1});this.qb=!1;this.Za=null;this.Wa=this.Oa=!1}v(Qfh,Zch);var Sfh=null;m=Qfh.prototype;
m.fQ=function(){var a=Qfh.Ta.fQ.call(this);a.push("docos-layout-vertical");return a};m.C3=ea(!0);m.dK=da("ib");m.lV=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=R5(A5(this.getContext()),a.getId()),d=R5(A5(this.getContext()),b.getId());return Ifh(new Jfh(a,this.C[c]||new Jm(Number.MAX_VALUE,Number.MAX_VALUE)),new Jfh(b,this.C[d]||new Jm(Number.MAX_VALUE,Number.MAX_VALUE)))};m.y_=function(a){this.GJ(a,!1)};m.vya=function(a){Qfh.Ta.vya.call(this,a);this.qz()};
m.I_a=function(){for(var a=this.hk(),b=a.zc(),c=0;c<b;c++){var d=a.Cc(c);d.getId()!=this.Gq()&&d.getId()!=this.bW()&&d.o$()&&d.collapse()}};m.YJ=function(){edh(this);Tch(this);for(var a=this.hk(),b=a.zc(),c=0;c<b;++c){var d=a.Cc(c);d.o$()&&!d.ul()&&d.Lza()}a=[];(b=this.Gq())&&a.push(b);this.Ja.C||this.Oa?(b=this.Da,b.D=2,Ofh(b,a||[])):Mfh(this.Da,a);Tfh(this)};m.Z1=function(a){this.Pa=a.clone();this.Na&&this.Na.contains(a)?this.Rb.start():(a=this.Rb,a.stop(),a.Hra())};
m.Fgc=function(){if(this.O){this.Na=this.Pa.clone();var a=this.hk();this.Na.expand(500,0,500,0);var b=a.zc(),c="";0<b&&(c=a.Cc(b-1).getId());for(var d=0;d<b;d++){var e=a.Cc(d),f=this.ma[e.getId()];f=Ufh(e,this.Na,f.y,c);e.setVisible(f)}}};
m.qz=function(){Qfh.Ta.qz.call(this);if(this.Ja.C)this.qb=!0;else{Pfh(this.Da);var a=this.hk(),b;for(b in this.F){var c=a.Gc(b);if(c){var d=b==this.Gq()||b==this.bW()?-10:this.Sa,e=!c.Mwa();b!=this.Gq()&&b!=this.bW()&&this.mb&&(e=e&&this.mb.Sa);this.hha(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}Tfh(this);this.qb=!1}};function Ufh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.ul()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function Tfh(a){var b=f6(a).H.bounds;b&&(a=a.Y1(),!Sfh&&!a||sd(Sfh,a)||(Sfh=a,a=(new s5("bounds")).setUserInitiated(!0).build(),b(a)))}m.pqa=function(a){if(a&&!(a in this.F))if(f6(this).Sa){var b=this.xUa(a);null!==b&&(this.F[a]=b)}else if(b=this.hk().Gc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.ncc=function(a,b){this.F[a]=b};m.GJ=function(a){edh(this);if(f6(this).Sa)Vfh(this);else{var b=[];this.Gq()&&b.push(this.Gq());a&&b.push(a);Wfh(this,b)}};
function Vfh(a){f6(a).Sa&&(a.F={});var b=a.Gq();Wfh(a,b?[b]:[])}function Wfh(a,b){a.Ja.C||a.Oa?Ofh(a.Da,b):a.Da.layout(b)}m.XJ=function(a){var b=Od(a),c=Md(this.C),d=b.length!=c;this.Wa=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Wa=!0;break}}d&&(this.Ja.C?this.Za=a:Rfh(this,a))};
function Rfh(a,b){a.C=b;Xfh(a);edh(a);a.Wa&&(Tch(a),a.Wa=!1);Vfh(a);b=a.Ha.$e();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.XU(d)}a.GJ();a.qz();a.Za=null}function Xfh(a){var b=Object.keys(a.C);b.sort(u(a.m$b,a));a.Ha.clear();for(var c=A5(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=U5(c,parseInt(e,10));f&&c.R(f)&&a.Ha.set(e,a.Ha.le())}}
m.m$b=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=U5(A5(this.getContext()),c);d=U5(A5(this.getContext()),d);return Ifh(new Jfh(c,b),new Jfh(d,a))};m.bT=function(a){Qfh.Ta.bT.call(this,a);Xfh(this)};m.Oba=function(a){a=R5(A5(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(Xfh(this),b=this.Ha.get(a));return b};
m.hha=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.hk();f=h.zc();h=h.Cc(f-1).getId();f=Ufh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.ib&&l&&this.hk().zc()<Yfh(this);k=this.ib&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));V6g(this.J,h);var n=new Y5g(e,[a,b],f,kN);U6g(this.J,h,n,f,function(){return Jf(n)})}else Rw(e,
a,b),f||c.setVisible(!1);c.qc=-10==a;this.ma[h]=new Jm(a,b);this.F[h]=b}};function Zfh(a,b){return(a=a.C[b])?a.y:null}m.xUa=function(a){a=R5(A5(this.getContext()),a);return Zfh(this,a)};m.Dqa=function(a,b){a=Zfh(this,a);return null===a?null:new Jm(b?-10:this.Sa,a)};
m.Y1=function(){var a=this.hk();if(!a||!a.sb())return null;var b=a.zc();if(!b)return null;var c=a.Cc(0);b=a.Cc(b-1);a=b.getElement();c=this.pqa(c.getId());b=this.pqa(b.getId());return null!=c&&null!=b?[c,210+this.Sa,b+a.offsetHeight,this.Sa]:null};function Yfh(a){a=f6(a);return(a=null!=K(a.Ui,47)?K(a.Ui,47):null)?a:100};function $fh(a){this.C=a}v($fh,l5);pa("docos.api.WriteFeedbackArgs",$fh,void 0);$fh.prototype.getSource=g("C");$fh.prototype.getSource=$fh.prototype.getSource;if(!agh)var agh=ea("");if(!bgh)var bgh=ea("");function o6(a,b){var c=this;A.call(this);this.Tc=Na();this.J={};this.F=new N9g;var d=o6.__default_config;d&&ae(this.J,d);a&&ae(this.J,a);this.D=new r8g(this.J,b);this.F.Af("config",this.D);this.ma={};Cj(this.D.Ui,17)&&(this.Xa=new A9g,this.F.Af("errorReporter",this.Xa),this.Jwa=this.Xa.Ua.C(this.Jwa));this.xa=null;this.V={};this.Ha=null;this.Sa=!1;this.Wa=!0;this.R=new ueh(this.F,this.D,this);cgh(this,"s",function(){c.C.Na=!0;if(0<Md(c.C.C)){dgh(c);var e=c.D.Hk;e&&e(43082,3E4)}});cgh(this,"fe",u(this.dRb,
this));cgh(this,"p",u(this.aRb,this));this.Rb=new Peh(this,this.F);f5g();this.Jwa()}v(o6,A);pa("Docos",o6,void 0);pa("docos.api.connect",function(a){return new o6(a)},void 0);m=o6.prototype;m.n3a=!1;m.VS=null;m.Xa=null;m.P6=null;m.Ku=null;m.Ym=null;m.kt=null;m.mYa=!1;m.XBa=null;m.Vt=null;m.WR=null;
m.Jwa=function(){if(this.Xa)for(var a in o6.prototype)Da(this[a])&&(this[a]=this.Xa.Ua.C(this[a]));this.Za=new H9g(this.D);this.F.Af("imageManager",this.Za);a=new Gfh(this.F);this.F.Af("subscriptionManager",a);this.Ba=new Hdh(this.F);this.F.Af("impressionRecorder",this.Ba);this.cb=Bkd(So());this.qa(this.cb);this.Yc=new C9g(this.cb);this.F.Af("relativeDateFormatter",this.Yc);this.C=new abh(this.D);this.F.Af("stream",this.C);this.Na=new jeh(this.F);this.qa(this.Na);this.La=new Po(this);this.qa(this.La);
this.Da=null;this.L=new g9g(this.F);this.F.Af("controller",this.L);this.H=new Vdh(this.F,this.L);if(Cj(this.D.Ui,19)){this.Da=new Keh(this.F);this.qa(this.Da);a=this.Da;var b=u(this.MCb,this),c=u(this.Hta,this);a.C?a.C.lIa(u(a.Hyb,a,b),u(a.Gyb,a,c)):c()}else this.Hta();this.WR=egh(this);this.F.Af("contactStore",this.WR);this.Oa=this.D.Wg().getEmail()?new qdh(this.WR,this.D.Wg(),this.Ba,this.D.xl):null;a=C5(this.F);this.O=this.fc=null;Vo("docs-aria-speakable")&&(this.fc=new bof(void 0,!0),this.O=new ekf(this.fc,
a),this.O.bind("docos-new-doco",new Aeh),this.O.bind("docos-new-reply",new Beh),this.O.bind("docos-delete-doco",new Fdh(this.C)),this.O.bind("docos-resolve-doco",new Qeh(this.C)),this.O.bind("docos-speak-doco",new Reh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new Jdh));this.Pa=new FA(this);this.qa(this.Pa);this.Pa.Ob(a.Qa("docos-cancel-insert-discussion"),lt,this.W5b).Ob(a.Qa("docos-delete-doco"),lt,this.ZQb).Ob(a.Qa("docos-reject-doco-with-feedback"),lt,this.k6b).Ob(a.Qa("docos-convert-doco"),
lt,this.h6b).Ob(a.Qa("docos-before-highlight-doco"),lt,this.oya).Ob(a.Qa("docos-highlight-doco"),lt,this.Iwa).Ob(a.Qa("docos-new-doco"),lt,this.$Qb).Ob(a.Qa("docos-resolve-doco"),lt,this.cRb).Ob(a.Qa("docos-back-to-document"),lt,this.M5b).Ob(a.Qa("docos-new-reply"),lt,this.C7b).Ob(a.Qa("docos-write-feedback"),lt,this.v9b).Ob(a.Qa("docos-disable-smart-todo-feature"),lt,this.p6b).Ob(a.Qa("docos-vote-doco"),lt,this.r9b).Ob(a.Qa("docos-vote-reply"),lt,this.s9b).Ob(a.Qa("docos-update-sort"),lt,this.h9b).Ob(a.Qa("mouse-hover-doco-view"),
lt,this.y7b);this.La.listen(this.C,"dd",this.v7b).listen(this.C,"af",this.A5b).listen(this.C,"bu",this.u7b).listen(this.C,"p",this.L7b).listen(this.D,"r",this.n0)};function egh(a){var b=jnd("client").then(function(){var c=qa("gapi.config.update");a.D.Toa&&c("googleapis.config/sessionIndex",a.D.Toa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return qa("gapi.client")});return new Ddh(a.D,Neh(a.D,b),a.Tc)}
function dgh(a){a.WR&&!a.WR.C&&j8g(a.D.F)&&v8g(a.D)&&X$g(a.WR)}function fgh(a){a.kt||(ggh(a),a.kt=new Cfh(a.F,So(a.D.L),a.D.Cm,a.D.ye),a.La.listen(a.kt,"dnd",a.pub),a.La.listen(a.kt,"initial-load-complete",a.nJb),a.La.listen(a.kt,"create-draft",a.Vd));return a.kt}m.pub=function(){this.ib()};m.nJb=function(){var a=m6(this,"initial-pane-render-done");if(a&&this.XBa){var b=Na()-this.XBa;a(new S6g("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.J;this.C.J=a;var c=this.C,d=this.D,e={},f=c.J;c=Zd(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.ey()&&!V8g(k)){var l=qbh(k,f,d);k=Zd(k.D);for(var n in k)l+=qbh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,ae(a,e),this.Ku.uA(a));this.V=e;e={};for(var q in this.V)e[R5(this.C,q)]=this.V[q];return e};o6.prototype.find=o6.prototype.find;o6.prototype.Gd=function(){this.C.J&&(this.C.J=null,this.Ku.uA(this.V,!0),this.V={})};o6.prototype.clearFind=o6.prototype.Gd;
o6.prototype.qt=function(){var a=this.D;var b=pbh(this.C,a);b?(b=b.getKey(),a=(a=sbh(b,a))?jp(a).textContent:null):a=null;return a};o6.prototype.getSelectedMatchA11yContext=o6.prototype.qt;o6.prototype.highlightNext=function(a,b,c){this.Ym&&this.Ym.highlightNext(!!a,b,c)};o6.prototype.highlightNext=o6.prototype.highlightNext;o6.prototype.highlightPrevious=function(a,b,c){this.Ym&&this.Ym.highlightPrevious(!!a,b,c)};o6.prototype.highlightPrevious=o6.prototype.highlightPrevious;
o6.prototype.select=function(a,b){var c=U5(this.C,a);a=c?c.getId():"";b=c?new DY(a,b):null;c=this.C.ma;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.ma=b;b=c?this.Ku.Gc(c.getKey()):null;c=this.Ku.Gc(a);b&&b!=c&&b.uA();if(c){c.o$()&&(b=obh(A5(this.F),this.D),c.expand(b?b.getKey():void 0));c.uA();b=nbh(this.C,this.Ku);d=C5(this.F);var e=O6g(o5(a));e.C=b?b.start:0;e=q5(e);d.xf("docos-before-highlight-doco").pb(e);Z5(A5(this.F),a);
d.xf("docos-highlight-doco").pb(e);if(b&&d$g(c)&&(a=c.Db())){c=bx(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};o6.prototype.select=o6.prototype.select;o6.prototype.Ahc=function(){var a=this.C.ma;if(a){this.C.ma=null;(a=this.Ku.Gc(a.getKey()))&&a.uA();a=C5(this.F);var b=O6g(o5(""));b.C=0;b=q5(b);a.xf("docos-before-highlight-doco").pb(b);Z5(A5(this.F),null);a.xf("docos-highlight-doco").pb(b)}};
o6.prototype.unselect=o6.prototype.Ahc;o6.prototype.Chc=function(){var a=this.C,b=new Qah(a,"c"),c;for(c in a.C)b.C.push(new Oah(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Rah(b));a.flush(!0)};o6.prototype.updateAll=o6.prototype.Chc;o6.prototype.DU=function(){return!!Cj(this.D.Ui,19)&&!!this.D.fc&&!this.D.Yc};o6.prototype.isSavingToOfflineStorage=o6.prototype.DU;o6.prototype.iN=function(){return 0<Gah.le()};o6.prototype.hasUnpostedDocos=o6.prototype.iN;
o6.prototype.lN=function(){for(var a=Od(this.C.L),b=0,c;c=a[b];b++){var d=this.C;if((c=ibh(d,c))&&(c.Xj()?w9g(d,c):d.R(c)))return!0}return!1};o6.prototype.hasVisibleAnchoredDocos=o6.prototype.lN;o6.prototype.BMb=function(a){var b=this.C,c=b.V;b.V=a;if(c!=b.V&&this.Ku&&(a=this.Ku,b=A5(a.context),Md(b.C))){for(c=a.zc()-1;0<=c;--c){var d=a.Cc(c).getId();lfh(a,d)}b=Zd(b.C);for(d in b)jfh(a,d);a.D.YJ();ifh(a);a.D.GJ()}};
o6.prototype.n0=function(){hgh(this);0<Md(this.C.C)&&dgh(this);if(this.kt)if("none"!=this.D.cb){var a=this.kt.D;a.D.YJ();ifh(a)}else this.kt.c7()};o6.prototype.setResolvedAnchoredDocosVisible=o6.prototype.BMb;o6.prototype.j0=function(a,b,c){return igh(this,a,b?b:void 0,c)};o6.prototype.newDoco=o6.prototype.j0;
o6.prototype.gU=function(a,b,c){if(null==a||Bd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=jgh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());pq(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Pkb();a=j6(f,u(f.bOb,f,a,d,e,b));
pq(a,c);break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();a=j6(f,u(f.ZNb,f,a,d,e,b));pq(a,c);break;default:throw Error("Unknown NewDocoArgs type.");}};o6.prototype.interceptingNewDoco=o6.prototype.gU;function igh(a,b,c,d,e,f,h){kgh(a,b,c);b=i9g(a.L,b,d||"draft",e,f,h);c&&0<b&&(d={},d[b]=c,p6(a).AV(d));return b}
function jgh(a,b,c,d,e,f,h){kgh(a,b,c);return pq(Wdh(a.H,b,d||"draft",e,f,h),function(k){if(c&&0<k){var l={};l[k]=c;p6(a).AV(l)}return k})}function kgh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.mb();c&&(a.xa=c)}
o6.prototype.m0=function(a,b){if(null==a||Bd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return igh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),l9g(this.L,a,c,d,b.Pkb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,m9g(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};o6.prototype.newDoco2=o6.prototype.m0;o6.prototype.iU=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");pq(pq(Zdh(this.H,void 0,a,void 0,void 0,b,void 0),function(e){0<e&&d.qb(e);return e}),c)};o6.prototype.interceptingNewSuggestion=o6.prototype.iU;
o6.prototype.rO=function(a,b,c){var d=this;pq(pq($dh(this.H,a,!0,b),function(e){lgh(d,a);return e}),c)};o6.prototype.interceptingAcceptSuggestion=o6.prototype.rO;o6.prototype.Ad=function(a){return x9g(this.L,a,!0)};o6.prototype.acceptSuggestions=o6.prototype.Ad;o6.prototype.kU=function(a,b,c){var d=this;pq(pq($dh(this.H,a,!1,b),function(e){lgh(d,a);return e}),c)};o6.prototype.interceptingRejectSuggestion=o6.prototype.kU;o6.prototype.sO=function(a,b){var c=this.H;a=j6(c,u(c.LEa,c,a,!0));pq(a,b)};
o6.prototype.interceptingAcceptSuggestions=o6.prototype.sO;o6.prototype.xla=function(a,b){b=t9g(this.L,a,!1,b);lgh(this,a);return b};o6.prototype.rejectSuggestion=o6.prototype.xla;function lgh(a,b){(b=U5(a.C,b))&&a.Ym&&a.Ym.bT(b.getId())}o6.prototype.yla=function(a){return x9g(this.L,a,!1)};o6.prototype.rejectSuggestions=o6.prototype.yla;o6.prototype.lU=function(a,b){var c=this.H;a=j6(c,u(c.LEa,c,a,!1));pq(a,b)};o6.prototype.interceptingRejectSuggestions=o6.prototype.lU;
o6.prototype.uO=function(a,b){var c=this.H;a=j6(c,u(c.$cb,c,a));pq(a,b)};o6.prototype.interceptingDeleteReply=o6.prototype.uO;o6.prototype.tO=function(a,b){var c=this.H;a=j6(c,u(c.Zcb,c,a));pq(a,b)};o6.prototype.interceptingDeleteReplies=o6.prototype.tO;o6.prototype.Zi=function(a){return(a=U5(this.C,a))?N5(a):null};o6.prototype.getAnchorData=o6.prototype.Zi;o6.prototype.Bt=function(a){return(a=U5(this.C,a))?a.bI():null};o6.prototype.getSuggestionId=o6.prototype.Bt;o6.prototype.xl=function(){return this.D.Wg().getId()};
o6.prototype.getCurrentAuthor=o6.prototype.xl;o6.prototype.$j=function(a){return(a=U5(this.C,a))?a.Ew().getId():null};o6.prototype.getAuthor=o6.prototype.$j;o6.prototype.Hk=function(a){return(a=U5(this.C,a))?a.Ew().getName():null};o6.prototype.getAuthorName=o6.prototype.Hk;o6.prototype.Vm=function(a){"string"===typeof a&&(a=this.Ja(a));return mgh(this).D.iaa(a)};o6.prototype.getDocoPosition=o6.prototype.Vm;o6.prototype.getDocoMaxHeight=function(a){return p6(this).getDocoMaxHeight(a)};
o6.prototype.getDocoMaxHeight=o6.prototype.getDocoMaxHeight;o6.prototype.ona=function(a,b){p6(this).Woa(a,b)};o6.prototype.setDocoMaxHeight=o6.prototype.ona;o6.prototype.oi=function(a){a=ngh(this,a);p6(this).XJ(a)};o6.prototype.flushAnchors=o6.prototype.oi;o6.prototype.Ch=function(a){p6(this).XJ(a)};o6.prototype.flushDocoPositions=o6.prototype.Ch;o6.prototype.Ehc=function(a){a=ngh(this,a);p6(this).AV(a)};o6.prototype.updateAnchors=o6.prototype.Ehc;o6.prototype.w4a=function(a){p6(this).AV(a)};
o6.prototype.updateDocoPositions=o6.prototype.w4a;o6.prototype.ye=function(a){p6(this).haa(Uc(a,this.Ja,this))};o6.prototype.deleteAnchors=o6.prototype.ye;o6.prototype.Ue=function(a){p6(this).haa(a)};o6.prototype.deleteDocoPositions=o6.prototype.Ue;o6.prototype.E4a=function(a){this.Ym?this.Ym.Z1(a):this.Ha=a};o6.prototype.updateViewport=o6.prototype.E4a;o6.prototype.sf=da("Sa");o6.prototype.enableAnchoredDocoAnimations=o6.prototype.sf;
o6.prototype.Wn=function(){var a=this.D.J;return(a=a?this.C.ud(a):void 0)?N5(a):""};o6.prototype.getLinkedAnchor=o6.prototype.Wn;o6.prototype.Xn=function(){var a=this.D.J;return null===a?0:R5(this.C,a)};o6.prototype.getLinkedDoco=o6.prototype.Xn;o6.prototype.vU=function(){var a=this.D.J;return null===a?!1:!!this.C.F[a]};o6.prototype.isLinkedDocoDeleted=o6.prototype.vU;function ngh(a,b){var c={};Id(b,function(d,e){(e=this.Ja(e))&&(c[e]=d)},a);return c}o6.prototype.Kma=function(a){this.C.Ja=a};
o6.prototype.setActiveSuggestions=o6.prototype.Kma;o6.prototype.yn=function(){var a=this.C.O;return a&&a.Xj()?a.getId():null};o6.prototype.getHighlightedSuggestionDocoId=o6.prototype.yn;o6.prototype.Ja=function(a){return(a=ibh(this.C,a))?R5(this.C,a.getId()):0};o6.prototype.yka=function(){if(!this.D.L)throw Error("Pane div not specificed in config.");this.XBa=Na();fgh(this).sb()&&(Jf(this.kt),this.kt=null);MTe(this.D.L,!1);fgh(this).render(this.D.L)};o6.prototype.renderPaneSurface=o6.prototype.yka;
o6.prototype.BU=function(){return fgh(this).D.sIa()};o6.prototype.isPaneSurfaceRendered=o6.prototype.BU;function p6(a){a.Ym||(a.Ym=ogh(a),a.Ha&&(a.Ym.Z1(a.Ha),a.Ha=null));return a.Ym}function mgh(a){if(!a.Ku){ggh(a);var b=p6(a);a.Ku=new gfh(a.F,b,u(a.C.R,a.C),b.oa())}return a.Ku}function ggh(a){if(!a.n3a){a.n3a=!0;var b=a.D.L,c=a.D.Ba;b&&(a.D.qc||fx(Dke(""),b),a.D.C.install(b));!c||b&&Uo(b)==Uo(c)||(a.D.qc||fx(Dke(""),c),a.D.C.install(c))}}
o6.prototype.zla=function(){if(!this.D.Ba)throw Error("Anchor surface div not specified in config.");mgh(this).sb()&&(Jf(this.Ku),this.Ku=null,ogh(this));MTe(this.D.Ba,!1);mgh(this).render(this.D.Ba)};o6.prototype.renderAnchorSurface=o6.prototype.zla;
function ogh(a){var b=a.D.Pj,c=Qfh;"absolute"==b&&(c=gdh);if(a.Ym&&(a.Ym instanceof c||a.Ym.DV()instanceof c))return a.Ym;var d=So(a.D.Ba);c=new c(a.F,d);d=a.D.O;!d||b&&"vertical"!=b||(c=new meh(c,d));a.Ym&&(a.Ym.Xoa(c),Jf(a.Ym));a.Ym=c;a.Ym.JAa(a);a.qa(a.Ym);return a.Ym}
o6.prototype.Cla=function(){if(!this.D.Wa)throw Error("Instant docos div not specified in config.");this.Vt&&this.Vt.sb()&&(Jf(this.Vt),this.Vt=null);this.Vt||this.J["enable-gsuite-embedding"]||(this.Vt=new Tdh(this.F,So(this.D.Wa)),this.La.listen(this.Vt,"create-draft",this.qc),this.Vt.render(this.D.Wa))};o6.prototype.renderInstantDocosButton=o6.prototype.Cla;o6.prototype.nPb=function(a,b,c){this.Vt&&Udh(this.Vt,a,b,c)};o6.prototype.showInstantDocosButtonAt=o6.prototype.nPb;
o6.prototype.mb=function(a){this.Vt&&this.Vt.cf(a)};o6.prototype.hideInstantDocosButton=o6.prototype.mb;o6.prototype.nj=function(){return this.Ym?this.Ym.Y1():null};o6.prototype.getAnchorSurfaceBounds=o6.prototype.nj;o6.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.W1(this.J))};o6.prototype.setOption=o6.prototype.setOption;o6.prototype.Gz=function(){if(this.kt){var a=this.kt;a.C.xa&&a.C.xa.focus()}};o6.prototype.grabFocus=o6.prototype.Gz;
o6.prototype.Kjb=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.W1(this.J)};o6.prototype.setListener=o6.prototype.Kjb;function pgh(a,b){return b&&a.C.R(b)?b.getId():null}o6.prototype.Cm=function(a){return(a=U5(this.C,a))?a.by()?a.by().getTime():null:null};o6.prototype.getDocoCreationTime=o6.prototype.Cm;
o6.prototype.bO=function(a,b){var c=C5(this.F);a=ibh(this.C,a);a=pgh(this,a);var d=O6g(o5(a||""));b&&(b=this.D.Ja?this.kt.D.getId():mgh(this).getId(),p5(d,b));c.xf("docos-before-highlight-doco").pb(q5(d));Z5(A5(this.F),a);c.xf("docos-highlight-doco").pb(q5(d))};o6.prototype.highlightAnchor=o6.prototype.bO;
o6.prototype.qb=function(a,b){var c=C5(this.F);a=U5(this.C,a);a=pgh(this,a);var d=O6g(o5(a||""));b&&(b=this.D.Ja?this.kt.D.getId():mgh(this).getId(),d=p5(d,b));c.xf("docos-before-highlight-doco").pb(q5(d));Z5(A5(this.F),a);c.xf("docos-highlight-doco").pb(q5(d))};o6.prototype.highlightDoco=o6.prototype.qb;o6.prototype.f5a=function(a){var b=C5(this.F);a=U5(this.C,a);a=pgh(this,a);if(null!=a){var c=this.C.ud(a);c&&S5(this.Ba,L5(K5(J5(43045),c)));b.xf("docos-speak-doco").pb(a)}};
o6.prototype.verbalizeDoco=o6.prototype.f5a;o6.prototype.RL=function(a){return!!ibh(this.C,a)};o6.prototype.hasDocoForAnchorId=o6.prototype.RL;o6.prototype.Oz=function(a){return!!U5(this.C,a)};o6.prototype.hasDoco=o6.prototype.Oz;o6.prototype.ws=function(a){return(a=ibh(this.C,a))?a.Xj()?!w9g(this.C,a):a.isResolved():!1};o6.prototype.getResolvedForAnchorId=o6.prototype.ws;o6.prototype.qU=function(a){return(a=U5(this.C,a))?a.isResolved():!1};o6.prototype.isDocoResolved=o6.prototype.qU;
o6.prototype.gm=function(){var a=kbh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};o6.prototype.getDocoCounts=o6.prototype.gm;o6.prototype.im=function(){return kbh(this.C).C.clone().rb()};o6.prototype.getDocoCounts2=o6.prototype.im;
o6.prototype.pj=function(){return p6(this).Yoa().C.clone().rb()};o6.prototype.getAnchoredDocoCounts=o6.prototype.pj;o6.prototype.Pj=function(){return Od(this.C.L)};o6.prototype.getAnchors=o6.prototype.Pj;o6.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};o6.prototype.getDocoHandles=o6.prototype.getDocoHandles;o6.prototype.ib=function(){this.D.WJ()&&(this.P6||(this.P6=new Deh(this.F),this.qa(this.P6)),this.P6.setVisible(!0))};o6.prototype.displayNotificationControlDialog=o6.prototype.ib;
o6.prototype.Ec=function(a){return a.x};o6.prototype.Nc=function(a){return a.y};function hgh(a){if(a.mYa&&!p5g(a.F,"netIo")){var b=keh(a.Na);b&&(a.F.Af("netIo",b),a.Xa&&(a.Xa.F=b),b=a.R,s8g(b.D)?b.D.Wd?weh(b.F,"r"):veh(b)&&xeh(b):b.L(null),p5g(a.F,"subscriptionManager")&&O9g(a.F).F.resolve())}}o6.prototype.Wd=function(a){this.R.H.get("netIo").C.qIa(a)};o6.prototype.connectBrowserChannel=o6.prototype.Wd;m=o6.prototype;
m.dRb=function(){var a=m6(this,"net-error");a&&a((new s5("net-error")).build());this.D.Tc&&(this.setOption("accessLevel","readonly"),a=fgh(this),a.R||(a.R=!0,Dfh(a)))};m.aRb=function(){var a=m6(this,"post-limit-error");a&&a((new s5("post-limit-error")).build());this.D.Tc&&(this.setOption("accessLevel","readonly"),a=fgh(this),a.R||(a.R=!0,Dfh(a)))};m.MCb=function(){weh(this,"r");this.Hta()};m.Hta=function(){this.mYa=!0;hgh(this)};m.bRb=function(a){cgh(this,"r",a)};o6.prototype.onReady=o6.prototype.bRb;
o6.prototype.wla=function(a){cgh(this,"s",a)};o6.prototype.onInitialSyncSuccess=o6.prototype.wla;o6.prototype.vla=function(a){cgh(this,"e",a)};o6.prototype.onInitialSyncError=o6.prototype.vla;o6.prototype.Vd=function(){var a=this.D.H["create-draft"];if(a){var b=(new s5("create-draft")).setApiEventArgs(new i6(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};
o6.prototype.qc=function(){var a=this.D.H["create-draft"];if(a){var b=(new s5("create-draft")).setApiEventArgs(new i6(!0,new Jm(0,this.Vt.D.H),this.Vt.D.O)).build();a(b)}};function cgh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=je(d,c)}else a.ma[b]=c}function weh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}o6.prototype.W$b=function(){this.Ib()};o6.prototype.tickle=o6.prototype.W$b;
o6.prototype.Ib=function(){a:{var a=this.R;if(s8g(a.D)){if(!a.O){if(!a.C&&!veh(a))break a;xeh(a)}oeh(a.C,a.D.tea?1:void 0)}}};o6.prototype.sync=o6.prototype.Ib;o6.prototype.Di=function(){yeh(this.R)};o6.prototype.fullSync=o6.prototype.Di;o6.prototype.yd=function(){var a=this.R;s8g(a.D)&&(a.C.J=!0)};o6.prototype.blockFutureSync=o6.prototype.yd;o6.prototype.Zfc=function(){var a=this.R;s8g(a.D)&&(a.C.J=!1)};o6.prototype.unblockFutureSync=o6.prototype.Zfc;
o6.prototype.tU=function(){var a=this.R;return s8g(a.D)?a.C.J:!1};o6.prototype.isFutureSyncBlocked=o6.prototype.tU;o6.prototype.xs=function(){var a=this.D;return null!=a.X1?a.X1:6E4};o6.prototype.getRetryBackoffThreshold=o6.prototype.xs;o6.prototype.oU=function(){return this.D.daa};o6.prototype.isBrowserChannelEnabled=o6.prototype.oU;o6.prototype.sU=function(){return!!Cj(this.D.Ui,30)};o6.prototype.isDocsStreamHeaderEnabled=o6.prototype.sU;o6.prototype.zU=function(){return t8g(this.D)};
o6.prototype.isNewDocosStreamPaneUiEnabled=o6.prototype.zU;o6.prototype.$L=function(){return ebh(this.C)};o6.prototype.hasPendingContent=o6.prototype.$L;m=o6.prototype;
m.W5b=function(a){var b=this,c=a.data;a=Q8g(P8g(43011),c.Tj);var d=null!=c.Xm;d&&R8g(a,c.Xm);k9g(h9g(this.F),S8g(a));pq(Ydh(this.H,c.Tj),function(e){if(e){e=(e=b.C.O)&&e.getId()!==c.Tj;e||(b.oya(new mt(d?new L6g("",void 0,void 0,void 0,c.Xm):n5())),b.Iwa(new mt(d?new L6g("",void 0,void 0,void 0,c.Xm):n5())));var f=m6(b,"deleted");if(f&&c.Xm&&c.Hp){var h=(new s5("deleted")).addAnchorId(c.Xm).addDocoHandle(c.Hp).setUserInitiated(!0).build();f(h);b.VS=null}e&&(b.VS=b.C.O)}})};
m.ZQb=function(a){a=a.data;qgh(this,a.Hp,a.Tj,a.JS)};m.k6b=function(a){a=a.data;qgh(this,a.Hp,a.Tj,a.JS,a.Ojb)};function qgh(a,b,c,d,e){var f=m6(a,"before-doco-deleted");if(f&&b){var h=N5(U5(a.C,b));d=e?new Ldh(d,e):new Edh(d);b=(new Bdh("before-doco-deleted")).addAnchorId(h).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.C)return}rgh(a,c,!0,e)}
m.h6b=function(a){var b=a.data;if((a=m6(this,"converted"))&&b){var c=N5(U5(this.C,b.Hp)),d=new h6(c,b.VXa,b.JS);b=(new Bdh("converted")).addAnchorId(c).addDocoHandle(b.Hp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.YQb=function(a){(a=U5(this.C,a))&&rgh(this,a.getId(),!1)};o6.prototype.deleteDoco=o6.prototype.YQb;function rgh(a,b,c,d){var e=a.C.ud(b),f=R5(a.C,b);e=N5(e);var h=a.H;b=j6(h,u(h.Xcb,h,b,d));pq(b,u(a.G5a,a,e,f,c))}
o6.prototype.G5a=function(a,b,c,d){if(d){d=m6(this,"before-selected");var e=m6(this,"selected"),f=m6(this,"deleted");if(a&&b){if(d){var h=(new s5("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new s5("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new s5("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.VS=null}}};o6.prototype.Qgc=function(a){return o9g(this.L,a)};o6.prototype.undoDeleteDoco=o6.prototype.Qgc;
o6.prototype.uoa=function(a){this.Wa=a;P(mgh(this).getElement(),a)};o6.prototype.setDocosGutterVisibility=o6.prototype.uoa;o6.prototype.rU=g("Wa");o6.prototype.isDocosGutterVisible=o6.prototype.rU;o6.prototype.jg=function(){var a=this.Rb;a.C=a.H.F.C;a.F.setOption("accessLevel","readonly")};o6.prototype.enterReanchorMode=o6.prototype.jg;o6.prototype.Lla=function(){var a=this.Rb;a.D.ma=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};o6.prototype.resetReanchorMode=o6.prototype.Lla;
o6.prototype.nU=function(a,b){var c=this.H;a=j6(c,u(c.egc,c,a));pq(a,b)};o6.prototype.interceptingUndoDeleteDoco=o6.prototype.nU;o6.prototype.cPb=function(a,b){this.L.pIa(a,new d5(b))};o6.prototype.setSuggestionQuote=o6.prototype.cPb;o6.prototype.mU=function(a,b){var c=this.H;b=new d5(b);j6(c,u(c.Icc,c,a,b))};o6.prototype.interceptingSetSuggestionQuote=o6.prototype.mU;
o6.prototype.pz=function(a){a=U5(this.C,a);if(!a)return null;if(!a.Xj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.z3()};o6.prototype.getSuggestionQuote=o6.prototype.pz;o6.prototype.Yg=function(a){return this.Oa?rdh(this.Oa,a):new pdh(Tp())};o6.prototype.findAssignee=o6.prototype.Yg;o6.prototype.t5b=function(){P9g(this.F).C=!0};o6.prototype.startBatchEvent=o6.prototype.t5b;o6.prototype.Of=function(){var a=P9g(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};
o6.prototype.endBatchEvent=o6.prototype.Of;m=o6.prototype;m.cRb=function(a){a=a.data;var b=this.H;b=j6(b,u(b.Xac,b,a.C,a.D,a.F));pq(b,u(this.p$b,this,a))};
m.p$b=function(a,b){if(b){b=m6(this,"before-selected");var c=m6(this,"selected");if(c){var d=this.C.ud(a.C),e=R5(this.C,a.C);d&&d.ey()&&e&&(a.D?(b&&(a=(new s5("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new s5("selected")).setUserInitiated(!0).build(),c(a),this.VS=null):(b&&(a=(new s5("before-selected")).addAnchorId(N5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new s5("selected")).addAnchorId(N5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.VS=d))}}};
m.r9b=function(a){a=a.data;var b=this.H;j6(b,u(b.Xgc,b,a.C,a.D))};m.s9b=function(a){a=a.data;var b=this.H;j6(b,u(b.Ygc,b,a.C,a.D,a.F))};m.h9b=function(a){this.setOption("sortpaneby",a.data.vec);(a=this.D.Na)&&a(43086)};m.M5b=function(a){var b=this.D.Of;b&&(a=this.C.ud(a.data.Tj))&&b(N5(a),!0)};
function sgh(a,b,c){var d=m6(a,c);if(d){var e=a.C.ud(b.C)||null,f=b.F;if(e!=a.VS||"number"===typeof f){var h=new s5(c),k=R5(a.C,b.C);e&&e.ey()&&k&&h.addAnchorId(N5(e)).addDocoHandle(k);k=new l5;var l=b.R;null!=l?k=new zdh(l):"number"===typeof f?k=new x6g(f):void 0!==b.H&&(k=new Mdh(b.H));f=!!e&&!a.C.R(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.VS=e)}}m.oya=function(a){sgh(this,a.data,"before-selected")};
m.Iwa=function(a){var b=a.data;sgh(this,b,"selected");if(a=this.C.ud(b.C)){b="number"===typeof b.F?4:b.D==mgh(this).getId()?1:b.D==fgh(this).D.getId()?2:3;var c=this.Ba;a=K5(J5(43044),a);a.H=b;S5(c,L5(a))}};m.C7b=function(a){a=a.data;var b=a.C,c=this.H;j6(c,u(c.t9a,c,a.D,a.F,null,b?b:void 0))};m.v9b=function(a){var b=a.data;if(a=m6(this,"write-feedback"))b=(new s5("write-feedback")).setUserInitiated(!0).setApiEventArgs(new $fh(b.source)).build(),a(b)};
m.p6b=function(){var a=m6(this,"disable-smart-todo-feature");if(a){var b=(new s5("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.$Qb=function(a){var b=this,c=a.data;pq(Zdh(this.H,c.qeb,c.Xm,c.text,c.quote,c.Cja,c.N0),function(d){if(0<d){var e=c.Xm,f=c.Hp,h=m6(b,"posted");h&&e&&f&&(e=(new s5("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.oya(new mt(n5()));b.Iwa(new mt(n5()))}return d})};
m.y7b=function(a){var b=m6(this,"hover");if(b){a=a.data;var c=R6g("hover").setNonAnchored(!a.oOb).setUserInitiated(!0);if(a.wOb){var d=this.C.ud(a.Tj);c.addAnchorId(d?N5(d):"");c.addDocoHandle(R5(this.C,a.Tj))}b(c.build())}};m.v7b=function(a){if("dd"==a.type){var b=m6(this,"deleted");if(b&&a.C&&a.D&&(a.Br||this.D.Ha)&&a.R&16){var c=(new s5("deleted")).addDocoHandle(a.D);a.Br&&c.addAnchorId(a.Br);a=c.build();b(a)}}};
m.u7b=function(a){if("bu"==a.type){var b=R6g("created");this.xa&&(b.setApiEventArgs(new Gdh(this.xa,a.C[0].Xm)),this.xa=null);var c=R6g("resolved"),d=R6g("unresolved");b=Kdh(b,a.C,8);c=Kdh(c,a.C,2);d=Kdh(d,a.C,4);tgh(this,"created",b);tgh(this,"resolved",c);tgh(this,"unresolved",d)}};m.L7b=function(a){if("p"==a.type&&(a=m6(this,"pending"))){var b=(new s5("pending")).setUserInitiated(!0).build();a(b)}};
m.A5b=function(){var a=m6(this,"view-updated");if(a){var b=(new s5("view-updated")).setUserInitiated(!0).build();a(b)}};function tgh(a,b,c){a=m6(a,b);!c.isEmpty()&&a&&a(c.build())}function m6(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ia=function(){delete this.Ym;delete this.D;delete this.WR;delete this.L;delete this.Xa;delete this.La;delete this.Za;delete this.Na;delete this.P6;delete this.Da;delete this.C;delete this.Pa;Jf(this.Vt);delete this.Vt;Jf(this.Ku);delete this.Ku;Jf(this.kt);delete this.kt;o6.Ta.Ia.call(this);Jf(this.F);delete this.F};pa("Docos",o6,void 0);pa("Docos.Point",Jm,void 0);pa("Docos.Point.getX",o6.prototype.Ec,void 0);pa("Docos.Point.getY",o6.prototype.Nc,void 0);
pa("Docos.AbstractAlteredDocoArgs",Dch,void 0);pa("Docos.NewDraftArgs",Jch,void 0);pa("Docos.LayoutType.ABSOLUTE","absolute",void 0);pa("Docos.LayoutType.VERTICAL","vertical",void 0);pa("Docos.UiVersion.LEGACY","legacy",void 0);pa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);pa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);pa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);pa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
pa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);pa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);pa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);pa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);pa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);pa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);pa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
pa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);pa("Docos.OptionName.DRIVE_ID","drive-id",void 0);pa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);pa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);pa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);pa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);pa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
pa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);pa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);pa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);pa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);pa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);pa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);pa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
pa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);pa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);pa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);pa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);pa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
pa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);pa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);pa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);pa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);pa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);pa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);pa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
pa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);pa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);pa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);pa("Docos.OptionName.IO","i",void 0);pa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);pa("Docos.OptionName.KEY_DATA","kd",void 0);pa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
pa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);pa("Docos.OptionName.LAYOUT","layout",void 0);pa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);pa("Docos.OptionName.LINK_OPENER","link-opener",void 0);pa("Docos.OptionName.LISTENERS","listeners",void 0);pa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);pa("Docos.OptionName.LOCAL","l",void 0);pa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
pa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);pa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);pa("Docos.OptionName.OFFLINE","offline",void 0);pa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);pa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);pa("Docos.OptionName.PANE_DIV","panediv",void 0);pa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);pa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
pa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);pa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);pa("Docos.OptionName.QUOTE_FN","quotefn",void 0);pa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);pa("Docos.OptionName.READONLY","readonly",void 0);pa("Docos.OptionName.RESOLVE","resolve",void 0);pa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);pa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
pa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);pa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);pa("Docos.OptionName.SORT_PANE","sortpane",void 0);pa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);pa("Docos.OptionName.STORAGE","storage",void 0);pa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);pa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
pa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);pa("Docos.OptionName.SYNC_ONCE","so",void 0);pa("Docos.OptionName.UI_VERSION","ui-version",void 0);pa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);pa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
pa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);pa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);pa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);pa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);pa("Docos.EventType.CONVERTED","converted",void 0);
pa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);pa("Docos.EventType.CREATED","created",void 0);pa("Docos.EventType.DELETED","deleted",void 0);pa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);pa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);pa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);pa("Docos.EventType.HOVER","hover",void 0);pa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
pa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);pa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);pa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);pa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);pa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);pa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);pa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
pa("Docos.EventType.PENDING","pending",void 0);pa("Docos.EventType.POSTED","posted",void 0);pa("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);pa("Docos.EventType.REANCHOR","reanchor",void 0);pa("Docos.EventType.RESOLVED","resolved",void 0);pa("Docos.EventType.SELECTED","selected",void 0);pa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);pa("Docos.EventType.UNRESOLVED","unresolved",void 0);pa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);
pa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);pa("Docos.AccessLevel.READONLY","readonly",void 0);pa("Docos.AccessLevel.SUGGEST","suggest",void 0);pa("Docos.AccessLevel.FULL","full",void 0);pa("Docos.NewDocoType",Xsd,void 0);pa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);pa("Docos.NewDocoType.DISCUSSION","discussion",void 0);pa("Docos.NewDocoType.DRAFT","draft",void 0);pa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);
pa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);pa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);pa("Docos.prototype.dispose",o6.prototype.dispose,void 0);pa("Docos.CountField.ACCEPTED","accepted",void 0);pa("Docos.CountField.DRAFT","draft",void 0);pa("Docos.CountField.OPEN","open",void 0);pa("Docos.CountField.REJECTED","rejected",void 0);pa("Docos.CountField.RESOLVED","resolved",void 0);pa("Docos.CountField.TOTAL","total",void 0);pa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);
window.closure_verification&&(window.closure_verification.dcs_main_js={});function ugh(a){a=void 0===a?[]:a;this.D=aBd();this.C={};a=ja(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}m=ugh.prototype;m.add=function(a){this.C[this.D.rb(a)]=a};m.has=function(a){return Pd(this.C,this.D.rb(a))};m.isEmpty=function(){return Ud(this.C)};m.clear=function(){Vd(this.C)};m.Kc=function(a){for(var b in a.C)Wd(this.C,b)};m.Su=function(a){var b=new ugh,c=Jd(this.C,function(e,f){return!Pd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
m.Bw=function(a){var b=new ugh,c=Jd(this.C,function(e,f){return Pd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};m.forEach=function(a){Id(this.C,a)};function vgh(a,b,c,d,e,f){Eqc.call(this,a,b,c,d,e,2,0,f)}t(vgh,Eqc);vgh.prototype.J=function(a){return Gqc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function wgh(a,b,c,d,e,f,h){h=void 0===h?So():h;Oo.call(this);this.L=null;this.Pa="none";this.xa=500;this.ma=!1;this.F=a;this.Sa=b;this.H=c;this.Ha=d;this.O=e;this.C=f;this.V=b.Ja;this.D=b.C;this.R=aBd();this.bb=h;this.J=new ugh;this.Oa=!0;this.Ba=new am;this.Na=new am;this.Ja=new am;this.Ua=new Po(this);this.qa(this.Ua);this.Da=z(y(),"docs-egms");xgh(this);this.Ua.listen(this.D,"na",this.MZb).listen(this.C,"ce",this.Sqb).listen(this.C,"de",this.Uqb).listen(this.C,"be",this.Qqb).listen(this.C,"fe",
this.wub).listen(this.C,"ge",this.JZb).listen(this.C,"ee",this.uub).listen(this.C,"oe",this.LZb).listen(this.C,"je",this.Vwb).listen(this.C,"me",this.KZb).listen(this.C,"ie",this.Xub).listen(this.C,"ne",this.uGb).listen(this.C,"ae",this.tub).listen(this.C,"le",this.xub).listen(this.C,"he",this.zub).listen(this.C,"ke",this.lEb);ygh(this)}t(wgh,Oo);m=wgh.prototype;m.zub=function(){zgh(this,!0)};m.tub=function(a){var b=a.C;b&&Agh(this,[b],!0);Bgh(this,a.C)};
m.xub=function(a){var b=a.C;b&&Cgh(this,[b]);Bgh(this,a.C)};function Bgh(a,b){var c=o6g(a.D,b);c?(b=xL(a.V,c),a=a.Ha,c=c.dc(),b=h5g(b).length,l5g(mTe(a,c),b),KQ(a)):Dgh(a)}m.lEb=function(){zgh(this,!0);this.C.C&&Egh(this)};m.Uqb=function(){zgh(this,!0)};m.Qqb=function(a){a.C?(a=a.C,this.ma=!0,m5g(this.F,this.R.rb(a)),this.ma=!1):zgh(this,!0)};m.LZb=function(){D6g(this)};
function D6g(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?Egh(a):b?(Fgh(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,m5g(a.F,a.R.rb(b)),a.ma=!1)):c||zgh(a,!0)}m.Vwb=function(){zgh(this,!1)};m.KZb=function(){zgh(this,!0)};function zgh(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions(n5g(c,{}));b&&m5g(a.F,"");P(a.O,!1);Jf(a.L);Ggh(a);Hgh(a);a.C.C||Igh(a);a.Ha.g_(a.C.C);ygh(a)}m.isEmpty=function(){return this.J.isEmpty()&&this.Na.isEmpty()&&this.Ba.isEmpty()&&this.Ja.isEmpty()};
function ygh(a){var b=XJ(a.H);b&&(a.xa=Zqc(b.C)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.xa))}function Hgh(a){Kf(a.Na.Jd());a.Na.clear()}function Ggh(a){Kf(a.Ba.Jd());a.Ba.clear()}function Igh(a){Qc(a.Ja.Jd(),function(b){gy(b,"waffle-docos-target-cell-header")});a.Ja.clear()}m.Sqb=function(a){this.C.D||this.C.C||(a=a.D,a.length?Fgh(this,a,!0):Jgh(this,!1))};function Fgh(a,b,c){c=void 0===c?!1:c;c5(a.F)&&a.Oa||Cgh(a,Nd(a.J.Su(new ugh(b)).C));Agh(a,b,c)}
function Egh(a){var b=QI(a.D);b&&(b=xL(a.V,b),Fgh(a,h5g(b),!0),Kgh(a),Lgh(a))}m.uub=function(a){this.Oa=!1;Mgh(this,a.C,a.cell);this.Oa=!0};function Mgh(a,b,c){Fgh(a,[b],!0);Ggh(a);Hgh(a);Igh(a);Ngh(a,c)}m.JZb=function(a){Ogh(this,a.C,a.cell)};
function Ogh(a,b,c,d){d=void 0===d?!1:d;var e=o6g(a.D,b);if(e){var f=e.dc();if(Pgh(a,b)){var h=Qgh(a,c);pq(i3b(GI(a.D,f).C,function(){return e.Sq(h)}),function(){var k=this;if(!Rgh(this,c)||h.equals(e.F)||this.ma){fJ(WI(e,c))&&jPc(XJ(this.H)).setVisible(!1);Sgh(this,c);Mgh(this,b,c);this.Ha.g_(this.C.C);if(d){var l=new Iq(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("Ci")}else HI(e,h),Ogh(this,b,c,d)},a)}else a.D.cC(f,function(){a.F.C.grabFocus();Ogh(a,b,c,!0)})}else a.dispatchEvent("Ci")}
function Sgh(a,b){var c=QI(a.D),d=XJ(a.H);if(!a.ma&&c&&d){var e=d.C;d=d.F;var f=QN(e,"waffle",!1,!1),h=a.Da?282:240;if(!e.kc()){var k=$o("docs-docos-activitybox");k&&ex(k)&&(h+=f.right-cx(k).left)}k=Tgh(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.xa;if(!(0>=b&&0>=a)){d=yn(d.C);for(d=en(d.y,d.x,d.y,d.x);Qxc(e,d).height<a;)d=mBa(d,1);for(;Qxc(e,d).width<b;)d=nBa(d,1);e=d.height;a=d.width;AJ(c,g_b(c,$Zb(c,tJ(c),a,e)))}}}function Rgh(a,b){a=QI(a.D);return m2b(a.Vj("r"),b.y)&&m2b(a.Vj("c"),b.x)}
function Qgh(a,b){return xI(QI(a.D),b.y,b.x)||fn(b)}
m.wub=function(a){if(!z_b(this.D)&&!this.C.C&&(Ggh(this),Pgh(this,a.C)&&(Jgh(this,!0),this.C.D!=a.C))){var b=this.R.rb(a.C),c=this.F;c.C.isDocoResolved(zR(c.D,b))?(b=a.cell,a=XJ(this.H),(c=QI(this.D))&&a&&b&&(b=xI(c,b.y,b.x)||fn(b),b=gTe(a,b,"waffle-docos-target-cell-resolved-rect"),kP(a.V,"discussions",b,!0),b.setVisible(!0),this.Ba.add(b))):(c=a.cell,a=XJ(this.H),(b=QI(this.D))&&a&&c&&(c=xI(b,c.y,c.x)||fn(c),b=new vgh(b,a.O,a.C,a.F,new Hqc(c),this.bb),kP(a.V,"discussions",b,!0),this.Ba.add(b),b.setVisible(!0)))}};
function Ugh(a,b){b&&(ey(b,"waffle-docos-target-cell-header"),a.Ja.add(b))}function Ngh(a,b){var c=XJ(a.H),d=QI(a.D);d&&c&&b&&(d=xI(d,b.y,b.x)||fn(b),d=gTe(c,d,"waffle-docos-target-cell-rect"),kP(c.V,"discussions",d,!0),a.Na.add(d),d.setVisible(!0),d.getElement()&&a.Ua.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.yk=b;c.dispatchEvent(e)}))}
function Kgh(a){Hgh(a);var b={};a.J.forEach(function(c){c=zS(Vgh(c));var d=c.x+"-"+c.y;b[d]||(Ngh(a,c),b[d]=!0)})}function Lgh(a){Igh(a);var b=QI(a.D),c=XJ(a.H);if(b&&c){var d=c.O;c=c.F;b=xL(a.V,b);var e=txc(c,"r"),f=YN(c,"r"),h=txc(c,"c"),k=YN(c,"c");Qc(h5g(b),function(l){l=zS(l);l.x>=h&&l.x<=k&&Ugh(a,d.fb.getElement(TN(d,"ch-",null,d.hb.xG(l.x))));l.y>=e&&l.y<=f&&Ugh(a,d.fb.getElement(TN(d,"rh-",d.hb.t3(l.y),null)))})}}m.uGb=function(){Dgh(this)};
function Dgh(a){Qc(Od(a.V.C),function(b){var c=n6g(a.D,b);if(c){var d=xL(a.V,c);c=a.Ha;d=h5g(d).length;l5g(mTe(c,b),d);KQ(c)}})}m.Xub=function(a){if(a.C){var b=this.R.rb(a.C);o5g(this.F,b,Tgh(this,a.cell))}};
function Agh(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.rb(k);var n=a;if(XJ(n.H)&&Pgh(n,k)){var q=zS(k);Wgh(n,Qgh(n,q))?(q=n.C.D,q=!!q&&n.R.rb(q)==n.R.rb(k),n=n.C.C||q||$c(n.C.F.Jd(),k)):n=!1}else n=!1;n?(n=zS(k),n=Qgh(a,n),q=GPe(n),e[q]=e[q]||0,d[l]=Tgh(a,yn(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||Jgh(a,!0);Ud(d)||(b=a.F,b.C.updateDocoPositions(n5g(b,d)));c5(a.F)||Cgh(a,f);c&&Xgh(a)}
function Cgh(a,b){var c=a.J.Bw(new ugh(b));if(!c.isEmpty()){a.J.Kc(c);b=a.F;c=Od(c.C);for(var d=[],e=0;e<c.length;e++)d.push(zR(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&Jgh(a,!1)}
function Tgh(a,b,c){c=void 0===c?0:c;var d=XJ(a.H),e=QI(a.D),f=d.C,h=f.kc(),k=Qgh(a,b),l=fN(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,r=Km(a.C.H,b),w=fJ(WI(e,b));q||r||!w?(b=n+(a.Da?150:125),0<b-Zqc(f)&&(e=wI(e,"r")-1,mO(f,b,"r","waffle")>=e&&(n-=50))):(q=jPc(d),r=q.L,mPc(d,yn(qJ(e,fn(b))),q,q.Oa),e=q.H.height?q.Na:0,b=q.J.height,d=Math.min(jrc.height,e+b),b&&(d=d+42+krc.top,d+=krc.bottom),e&&(d=d+12+krc.top,d+=krc.bottom),e=d,vqc(q,r),n+=e);a=a.Da?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>Yqc(f);l=h?c>Yqc(f):0>c;a&&!l&&(k=c);return new Jm(h?cN(f,k,"c"):k,n)}function Pgh(a,b){b=o6g(a.D,b);a=QI(a.D);return!!b&&b==a}function Wgh(a,b){if(!b)return!1;var c=XJ(a.H).F,d=!1,e=yn(b);iBa(b,function(f,h){var k;if(k=f==e.y)k=null!=sxc(c,new Jm(h,f));return k?d=!0:!1});return d}m.MZb=function(){xgh(this)};
function xgh(a){var b=XJ(a.H);b&&(a.bb.appendChild(b.Hk,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.C.kc()),P(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function Jgh(a,b){var c=mUe(a.O);c="string"===typeof c?1:c;ex(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Jf(a.L),P(a.O,b)):a.L&&Ky(a.L)&&a.Pa==d||(Jf(a.L),P(a.O,!0),a.L=new $B(a.O,c,"in"==d?1:0,250),a.Pa=d,"out"==d&&Io(a.L,"finish",function(){zgh(a,!0);var e=XJ(a.H);e&&fP(e)}),a.L.play())}
function Xgh(a){a.J.forEach(function(b){var c=a.R.rb(b),d=a.F.getDocoMaxHeight(c);b=Vgh(b);b=zS(b);b=Tgh(a,b);var e=XJ(a.H),f=e.C,h=e.Ue;h=h.EQ(h.uW()-1);var k=QI(a.D).V.y;e=YN(e.F,"r");f=jN(f,new Ym(k,e),"r");f+=h;h=gO(XJ(a.H).C,"c");b=Kl(f-(b.y-h),a.Da?150:125,a.xa);d!=b&&(b<a.xa||d)&&(d=a.F,d.C.setDocoMaxHeight(zR(d.D,c),b))})}function Vgh(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
m.Ia=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.bb;delete this.Pa;delete this.Ua;delete this.D;delete this.Sa;Jf(this.L);delete this.L;Hgh(this);Ggh(this);Igh(this);Oo.prototype.Ia.call(this)};function Ygh(){KJ.apply(this,arguments)}t(Ygh,KJ);m=Ygh.prototype;m.V4b=function(a,b,c,d,e){return new g6g(a,b,c,d,void 0,e,VD)};m.olb=function(){return B6g};m.plb=function(){return i6g};m.qlb=function(){return wgh};m.K_b=function(){return new bof};OJ("docos",Ygh);
