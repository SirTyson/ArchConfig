function Eph(a,b){mo(a.C,512)?b():(ro(a.VV,a.ma,function(){b()}),a.create())}function Fph(a){var b=Kc(y(),"drive-host");return uKa(b,a,!0)}function Gph(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function Hph(a){J(this,a,0,-1,null,null)}v(Hph,I);m=Hph.prototype;m.ea=function(){var a=new E;Gph(this,a);return Y(a)};m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.getType=function(){return K(this,2)};m.setType=function(a){return L(this,2,a)};
m.clearType=function(){return L(this,2,void 0)};m.hasType=function(){return null!=K(this,2)};function Iph(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&pj(b,3,c);c=K(a,4);null!=c&&pj(b,4,c)}function x6(a){J(this,a,0,-1,null,null)}v(x6,I);x6.prototype.ea=function(){var a=new E;Iph(this,a);return Y(a)};x6.prototype.D=function(){return K(this,1)};function Jph(a,b){return L(a,1,b)}x6.prototype.O=function(){return K(this,2)};
function Kph(){Oo.call(this);this.C=3;this.D=null;this.J=!1;this.H=Xp()}t(Kph,Oo);Kph.prototype.L=function(){return this.H.C.then(function(a){if(null!=a)throw a;})};function Lph(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.H.resolve(null);a.dispatchEvent("R")}Kph.prototype.F=function(){if(!this.D)return!1;var a=this.D.D();return 1==a||6==a};
function Mph(a){a?oa.localStorage.setItem("docs-wownoi","true"):oa.localStorage.removeItem("docs-wownoi")}function Nph(a){a?oa.localStorage.setItem("docs-rops","true"):oa.localStorage.removeItem("docs-rops")}function Oph(a){a?oa.localStorage.setItem("docs-ropd","true"):oa.localStorage.removeItem("docs-ropd")}function Pph(a,b,c,d,e,f){b=NOe("Extension needed",b,c,d,e,void 0,f,void 0);a.Ei(b);b.focus();return b}
function Qph(a,b,c){A.call(this);this.D=a;this.H=c||"To enable offline sync, install the Docs Offline Chrome extension to your browser.";this.Xa=b;this.F=new aR;this.C=null}t(Qph,A);function Rph(a){return Promise.resolve(Sgd(a.F)).then(function(){return er()?!0:Sph(a)})}
function Sph(a){a.C&&a.C.setVisible(!1);var b=(new Ay).Cf({key:"ok",caption:"Install"},!0).Cf(Hy,!1,!0);return new Promise(function(c,d){a.C=Pph(a.D,a.H,function(){return Tph(a).then(c,d)},function(){return c(!1)},a,b);Oy(a.C,b.C)})}function Tph(a){return Promise.resolve(Ugd(a.F)).catch(function(b){b=rl(b);fq(a.Xa,b);Zjd(b);return!1})}Qph.prototype.Ia=function(){this.C&&(cC(this.D,this.C),Jf(this.C))};function Uph(a){J(this,a,0,-1,null,null)}v(Uph,I);m=Uph.prototype;
m.ea=function(){var a=new E;Vph(this,a);return Y(a)};function Vph(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&b.D(3,c);c=K(a,4);null!=c&&pj(b,4,c);c=K(a,5);null!=c&&pj(b,5,c);c=K(a,6);null!=c&&b.D(6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&G(b,8,c);c=K(a,9);null!=c&&pj(b,9,c);c=K(a,10);null!=c&&G(b,10,c);c=K(a,11);null!=c&&pj(b,11,c);c=K(a,12);null!=c&&pj(b,12,c);c=K(a,13);null!=c&&G(b,13,c);c=K(a,14);null!=c&&G(b,14,c)}
m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.getTitle=function(){return K(this,2)};m.setTitle=function(a){return L(this,2,a)};m.Lp=function(){return K(this,3)};function Wph(a){J(this,a,0,-1,null,null)}v(Wph,I);Wph.prototype.ea=function(){var a=new E;Xph(this,a);return Y(a)};function Xph(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,4);null!=c&&b.D(4,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,5);null!=c&&G(b,5,c)};function Yph(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;A.call(this);var e=this;this.uu=b||this;this.D=a;this.C=new po;this.qa(this.C);this.La=new Po(this);this.qa(this.La);this.F=c;this.H=d;a instanceof lr?(this.La.listen(a,"C",function(){return Zph(e)}),this.La.listen(a,"D",function(){return $ph(e)})):(qo(this.C,this.D.sQ(),function(){return Zph(e)}),qo(this.C,this.D.GK(),function(){return $ph(e)}))}t(Yph,A);function aqh(a,b){a.F.push(b)}
function Zph(a){a.F.forEach(function(b){try{b.call(a.uu)}catch(c){}})}function $ph(a){a.H.forEach(function(b){try{b.call(a.uu)}catch(c){}})};function bqh(a,b){A.call(this);this.H=a;this.O=this.H.zn();this.xa=b;this.ma=new Yph(this.H,this,[this.Ba],[this.V]);this.qa(this.ma);this.R=this.F=0;this.D=this.J=2E4;this.C=new Iq(this.Da,0,this);this.qa(this.C);this.L=!1}t(bqh,A);function cqh(a){if(15<=a.F)return a.C.stop(),!1;if(!a.O&&!a.H.zn()&&3<=a.R)return!0;dqh(a);return!0}function dqh(a){15<=a.F||a.L||a.C.Vb()||a.C.start(a.D)}
bqh.prototype.Da=function(){this.xa();this.O||this.H.zn()||this.R++;this.F++;144E5!=this.D&&(this.D=Math.min(this.D+uza(50,100)/100*this.J,144E5),this.J*=2)};bqh.prototype.Ba=function(){15<=this.F||(this.D=uza(0,2E4),this.J=2E4,dqh(this))};bqh.prototype.V=function(){this.C.stop()};function eqh(a){J(this,a,0,-1,null,null)}v(eqh,I);eqh.prototype.ea=function(){return Y(new E)};var fqh=new xj(102041228,eqh);CF[102041228]=new yj(fqh,ba(),function(a,b){for(;ij(b)&&!hj(b);)jj(b);return a});BF[102041228]=fqh;function gqh(a){J(this,a,0,-1,null,null)}v(gqh,I);gqh.prototype.ea=function(){return Y(new E)};var hqh=new xj(108529910,gqh);CF[108529910]=new yj(hqh,ba(),function(a,b){for(;ij(b)&&!hj(b);)jj(b);return a});BF[108529910]=hqh;function iqh(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)}t(iqh,Error);function jqh(a){J(this,a,0,-1,null,null)}v(jqh,I);jqh.prototype.ea=function(){var a=new E;kqh(this,a);return Y(a)};function kqh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&H(b,2,c)}var lqh=new xj(122453513,jqh);CF[122453513]=new yj(lqh,kqh,function(a,b){for(;ij(b)&&!hj(b);)switch(b.D){case 1:var c=mj(b);L(a,1,c);break;case 2:c=kj(b);L(a,2,c);break;default:jj(b)}return a});BF[122453513]=lqh;function mqh(a,b,c,d,e,f,h,k,l,n){l=void 0===l?!1:l;n=void 0===n?!1:n;A.call(this);var q=this;this.C=a;this.V=Xp();nqh(this);this.L=this.O=null;this.Pa=h;this.xa=new Yph(h,this);this.qa(this.xa);this.D=b;this.Xa=k||null;this.ma=!1;this.F=null;l&&(this.F=new bqh(this.Pa,function(){return oqh(q)}),this.qa(this.F));this.J=Xp();this.R=Xp();this.La=new Po(this);this.qa(this.La);this.Ja="user_"+c;this.Ba=d;this.Ha=e;this.Da=f;this.Na=!1;this.H=n?new $p(25E3):null;n&&this.La.listen(this.H,"tick",function(){return pqh(q)})}
t(mqh,A);m=mqh.prototype;m.start=function(){var a=this;this.ma||(this.ma=!0,qqh(this).then(function(){a.J.resolve();if(a.F){var b=a.F;b.C.stop();b.L=!0}},function(b){b=rl(b);var c=new iqh(b.message,a.F?a.R.C:void 0);sl(c,{originalStackTrace:b.stack});sl(c,{offlineManagerInitializationFailure:!0,isRetry:!1});a.J.reject(c);a.F?cqh(a.F):a.D.H.resolve(c)}));return this.J.C};
function qqh(a){return a.C.init().then(function(){return rqh(a.C)}).then(function(b){b.connect();a.V.resolve(b);return sqh(a)}).then(function(){aqh(a.xa,function(){tqh(a)});a.Na=!0})}function oqh(a){a.C.reset();qqh(a).then(function(){var b=a.F;b.C.stop();b.L=!0;a.R.resolve(a.F.F)}).Vh(function(){if(!cqh(a.F)){var b=sl("OfflineService start retries exhausted",{offlineManagerInitializationFailure:!0,isRetry:!0});a.R.reject(b)}})}
function uqh(a,b){if(2!=a.D.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.D.C);Lph(a.D,4);return vqh(a.C,b).then(function(c){var d=c.D();return Tp().then(function(){return 1==d||2==d?y6(a,1):y6(a,2)}).then(function(){return c})})}
function sqh(a){return wqh(a.C,6E4).then(function(b){switch(K(b,1)){case 1:return xqh(a.C).Vh(function(c){a.Xa&&fq(a.Xa,rl(c))}).then(function(){return y6(a,1)}).then(function(){tqh(a)});case 2:return y6(a,2);case 4:return yqh(a,K(b,2));case 3:return b=K(b,3),null!=b?zqh(a,b):y6(a,2);case 5:return Aqh(a)}})}m.XJb=function(a){var b=this;1==this.D.C&&!this.D.J&&0==K(a,2)&&wqh(this.C).then(function(c){var d=b.D;c=Cj(c,5);d.J=c;d.dispatchEvent("R")}).Vh(ba())};function yqh(a){return y6(a,2)}
function zqh(a,b){return a.Ba?vqh(a.C,b).then(function(c){switch(c.D()){case 1:return y6(a,1);case 2:return y6(a,1);default:return y6(a,2)}}):Tp()}function Aqh(a){return a.Ha?vqh(a.C,2).then(function(b){switch(b.D()){case 1:case 2:return y6(a,1);default:return y6(a,2)}}):Tp()}
function nqh(a){var b;a.V.C.then(function(c){b=c;return Tp(a.Ja)}).then(function(c){a.O=new eR(b,c,a);a.qa(a.O);a.L=new eR(b,null,a);a.qa(a.L);a.O.listen(hqh,a.QTb).listen(fqh,a.yCb).listen(lqh,a.XJb);a.L.listen(hqh,a.PTb).listen(fqh,a.upb)})}m.QTb=function(){y6(this,1).Vh(ba())};m.yCb=function(){y6(this,2).Vh(ba())};m.PTb=function(){Bqh(this)};m.upb=function(){Bqh(this)};
function y6(a,b){return Cqh(a.C).then(function(c){Lph(a.D,b,c)}).then(function(){return wqh(a.C).then(function(c){var d=a.D;c=!!Cj(c,5);d.J=c;d.dispatchEvent("R")})}).then(function(){if(a.H)switch(b){case 1:a.H.start();pqh(a);break;case 2:a.H.stop()}})}function Bqh(a){Cqh(a.C).then(function(b){var c=a.D;c.D=b;c.dispatchEvent("R")})}function tqh(a){a.Da&&1==a.D.C&&Dqh(a.C).Vh(ba())}function pqh(a){Eqh(a.C).Vh(function(){a.H&&a.H.stop()})};function Fqh(a,b,c,d){Oo.call(this);this.H=a;this.ma=b;this.xa=c;this.Ba=new eR(this.xa,Ghd(),this);this.Xa=d;this.J=Xp();this.F=this.L=this.D=this.C=null;this.O=!1}t(Fqh,Oo);Fqh.prototype.start=function(){var a=this;Gqh(this,"Initialization").then(function(){a.O=!0;a.J.resolve(null);a.Ba.listen(xid,a.R).listen(nid,a.V).listen(fqh,a.Da)},function(b){a.J.resolve(rl(b))})};function Hqh(a){return a.J.C.then(function(b){if(null!=b)throw b;})}
Fqh.prototype.R=function(a){a=Mj(a,bR,1);for(var b=0;b<a.length;b++){var c=a[b].getExtension(Bid);if(c&&K(c,1)==this.H){var d=K(c,3);c=d.includes(1);d=d.includes(3);if(c||d){Iqh(this,"Document data changed");break}}}};Fqh.prototype.V=function(a){K(a,1)==this.H&&Iqh(this,"Document available")};Fqh.prototype.Da=function(){Iqh(this,"Offline disabled")};function Iqh(a,b){Gqh(a,b).Vh(function(c){Hk(a.Xa,rl(c))})}
function Gqh(a,b){return Jqh(a.ma,[a.H]).then(function(c){var d=!1,e=!1,f=null,h=null;if(1==c.length)a:if(c=c[0],d=Cj(c,7),e=Cj(c,8),f=K(c,11),h=Cj(c,13),c=K(c,12),d){if(f){if((c=c&&c>=f)&&0==h){h=3;break a}if(!c){h=5;break a}}h=e?2:4}else h=0;var k=c=!1,l=!1,n=!1;a.O&&(c=a.C!=d,k=a.D!=e,l=a.L!=h,n=a.F!=f);a.C=d;a.D=e;a.L=h;a.F=f;c&&a.dispatchEvent("Gi");k&&a.dispatchEvent("Hi");(l||n)&&a.dispatchEvent("Ii")}).Vh(function(c){throw sl(c,{pinStatusUpdateReason:b});})};function Kqh(a){var b=a.label,c=a.Ti;a=a.vNb;return T('<div class="'+U("docs-in-editor-sync-state-icon")+" "+U("docs-material")+'" title="'+U(a)+'" aria-label="'+U(a)+'"><div class="'+U("docs-in-editor-sync-state-animation-icon")+" "+U("docs-icon")+" "+U("goog-inline-block")+'"><div class="'+U("docs-icon-img")+" "+U("docs-icon-img-container")+" "+U(c)+'"></div></div></div><span>'+S(b)+"</span>")};function Lqh(a){a=Mqh[a];if(!a)throw Error("Unknown editor sync state for the document");return a}function Nqh(a){a=Oqh[a];if(!a)throw Error("Unknown pinning state for the document");return a}var Mqh={2:"docs-icon-offline-pin-20",3:"docs-icon-sync-problem-20",4:"docs-icon-sync-20",5:"docs-icon-sync-20"},Oqh={2:"Available offline",3:"Trouble syncing",4:"Waiting to sync",5:"Syncing",7:"Waiting to sync your changes",6:"Can't sync your changes"};function Pqh(a,b){A.call(this);this.D=a;this.Xa=b;this.La=new Po(this);this.qa(this.La);this.C=null}t(Pqh,A);Pqh.prototype.initialize=function(){var a=this;return Hqh(this.D).then(function(){a.La.listen(a.D,"Ii",a.F);a.F()})};Pqh.prototype.F=function(){var a=this.D.L;null==a||0==a?(Ot(),Xt).setProperty("node-label",null):(Ot(),Xt).setProperty("node-label",Ry(Kqh,{label:Xt.getLabel(),Ti:Lqh(a),vNb:Nqh(a)}));Qqh(this,a)};
function Qqh(a,b){var c=a.D.F;c&&5==b?(b=Na()-c,18E4<b?(bq(a.C),Rqh(a,!1)):(Rqh(a,!0),bq(a.C),a.C=aq(function(){return void Rqh(a,!1)},18E4-b))):(bq(a.C),Rqh(a,!1))}function Rqh(a,b){var c;(c=So().$a("docs-in-editor-sync-state-animation-icon"))?(iy(c,"docs-in-editor-animated-sync",b),c=!0):c=!1;!c&b&&Hk(a.Xa,Error("Attempted to animate an absent sync state icon."))}Pqh.prototype.Ia=function(){bq(this.C);A.prototype.Ia.call(this)};function Sqh(){return T('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function Tqh(a,b){bC.call(this);this.R=a;this.H=b||null;this.setTitle("Turn on offline for all files?");a=new Ay;a.Cf({key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);a.Cf({key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Dy(this,a);Cy(this,!1);this.wj=this.Jr=!0;a=new vM;ty(this,xmc(a,Sqh));this.C=this.F=null}t(Tqh,bC);
Tqh.prototype.Ga=function(){bC.prototype.Ga.call(this);Oy(this,this.D.C);this.F=Fp(this.oa(),"docs-offline-optindialog-disclaimer-link");this.C=Fp(this.oa(),"docs-offline-optindialog-disclaimer");this.getHandler().listen(this,"dialogselect",this.L).Qc(this.F,"click",this.O)};Tqh.prototype.L=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key?this.R():"docs-offline-editor-enable-offline-dialog-cancel"==a.key&&this.H&&this.H();this.setVisible(!1)};
Tqh.prototype.O=function(){ey(this.F,"docs-offline-optindialog-disclaimer-link-disabled");P(this.C,!0);this.C.focus()};function Uqh(a,b,c,d,e){A.call(this);this.J=a;this.D=a.D;this.L=b;this.F=c;this.Xa=d;this.H=new Qph(this.F,this.Xa,e);this.qa(this.H);this.La=new Po(this);this.qa(this.La);this.C=null}t(Uqh,A);function Vqh(a){if(a.C)throw Error("Attempted to show the offline opt in dialog while one is already visible.");return 1==a.D.C||a.D.F()?Rph(a.H).then(function(b){return b?Wqh(a):5}).catch(function(b){fq(a.Xa,rl(b));return 3}):Promise.resolve(3)}
function Wqh(a){return 1==a.D.C?Promise.resolve(1):new Promise(function(b,c){a.C=new Tqh(function(){Xqh(a).then(b,c)},function(){return b(4)});a.F.Ei(a.C);a.La.listen(a.C,"hide",function(){a.C=null});a.C.setVisible(!0)})}function Xqh(a){return 1==a.D.C?Promise.resolve(2):Promise.resolve(uqh(a.J,a.L)).then(function(){return 1==a.D.C?2:3})}Uqh.prototype.Ia=function(){this.C&&(cC(this.F,this.C),Jf(this.C));A.prototype.Ia.call(this)};function Yqh(a,b,c,d,e,f,h,k,l,n,q){A.call(this);this.xa=a;this.Oa=b;this.Na=c;this.C=d;this.D=e;this.Xa=k;new aR;this.La=new Po(this);this.qa(this.La);this.Za=a.C;this.Pa=f;this.Wa=h;this.F=l;this.Sa=n;this.Ba=q;this.V=new Pqh(this.C,this.Xa);this.qa(this.V);this.Da=new po;this.qa(this.Da);this.H=Zqh(this,"Document now available offline");this.O=Zqh(this,"Document no longer available offline");this.L=Zqh(this,"Could not change offline availability.");this.J=Zqh(this,"Could not enable offline access.");
this.ma=Zqh(this,"Making document available offline\u2026");this.R=Zqh(this,"Document will sync when you reconnect");this.Ja=Zqh(this,"Could not sync document.");this.Ha=new Uqh(this.Wa,10,this.Pa,this.Xa,"To make this document available offline, install the Docs Offline Chrome extension to your browser.");this.qa(this.Ha)}t(Yqh,A);function Zqh(a,b){return oC(a.F,b,void 0,!1,3E3,!1,void 0,!0)}m=Yqh.prototype;
m.init=function(){var a=this;return Vp([this.D.L(),Hqh(this.C),this.V.initialize()]).then(function(){$qh(a);arh(a);(Ot(),Xt).setVisible(nmb())},function(b){fq(a.Xa,rl(b))})};function $qh(a){(Ot(),Xt).subscribe("action",a.wPa,a);a.La.listen(a.C,"Gi",a.kEb).listen(a.C,"Hi",a.JCb).listen(a.D,"R",a.LCb);qo(a.Da,a.Ba.C,function(){arh(a)})}m.wPa=function(){brh(this)};function brh(a){Tp(Vqh(a.Ha)).then(function(b){if(1===b||2===b)return crh(a);3===b&&drh(a,a.J)})}
function crh(a){var b=!(Ot(),Xt).Dd(),c=a.Sa.zn();b&&!a.C.D&&drh(a,c?a.ma:a.R);return(new Pp(function(d){Eph(a.Za,d)})).then(function(){return erh(a,b,c)}).Vh(function(d){drh(a,a.L);a.Xa.log(rl(d))})}function erh(a,b,c){var d=(new Hph).Jc(a.xa.D).setType(a.Oa);return frh(a.Na,[d],b,c).then(function(e){e&&(Cj(e,1)||drh(a,a.Ja))})}m.kEb=function(){arh(this);grh(this);this.C.C||drh(this,this.O)};m.JCb=function(){grh(this)};m.LCb=function(){arh(this)};
function grh(a){1==a.D.C&&a.C.D&&a.C.C&&drh(a,a.H)}function drh(a,b){b.isVisible()||(a.H.setVisible(!1),a.O.setVisible(!1),a.L.setVisible(!1),a.J.setVisible(!1),a.ma.setVisible(!1),a.R.setVisible(!1),b.sb()||b.render(),b.setVisible(!0))}function arh(a){var b=a.Ba.getState()==(yl(),fza);(Ot(),Xt).Ma(!b&&!a.xa.J&&(1==a.D.C||a.D.F()));Xt.jc(a.C.C)}
m.Ia=function(){(Ot(),Xt).unsubscribe("action",this.wPa,this);A.prototype.Ia.call(this);qC(this.F,this.H);qC(this.F,this.O);qC(this.F,this.L);qC(this.F,this.J);Kf(this.H,this.O,this.L,this.J)};function hrh(a){this.D=a}hrh.prototype.C=g("D");function irh(a){J(this,a,0,-1,jrh,null)}v(irh,I);var jrh=[1];irh.prototype.ea=function(){var a=new E;krh(this,a);return Y(a)};function krh(a,b){a=K(a,1);0<a.length&&vj(b,1,a)}function lrh(a,b){return L(a,1,b||[])};function mrh(a){J(this,a,0,-1,null,null)}v(mrh,I);mrh.prototype.ea=function(){var a=new E;nrh(this,a);return Y(a)};function nrh(a,b){a=K(a,1);null!=a&&H(b,1,a)}function orh(a,b){return L(a,1,b)};function prh(a){J(this,a,0,-1,qrh,null)}v(prh,I);var qrh=[1];prh.prototype.ea=function(){var a=new E;rrh(this,a);return Y(a)};function rrh(a,b){var c=Mj(a,Hph,1);0<c.length&&wj(b,1,c,Gph);c=K(a,2);null!=c&&G(b,2,c);c=K(a,3);null!=c&&G(b,3,c)}function srh(a,b){return Pj(a,1,b)}function trh(a,b){return L(a,2,b)}function urh(a,b){return L(a,3,b)};function vrh(a){J(this,a,0,-1,wrh,null)}v(vrh,I);var wrh=[1];vrh.prototype.ea=function(){var a=new E;xrh(this,a);return Y(a)};function xrh(a,b){a=K(a,1);0<a.length&&vj(b,1,a)};function z6(a){J(this,a,0,-1,null,null)}v(z6,I);m=z6.prototype;m.ea=function(){var a=new E;var b=K(this,1);null!=b&&H(a,1,b);b=N(this,irh,2);null!=b&&a.C(2,b,krh);b=N(this,prh,3);null!=b&&a.C(3,b,rrh);b=N(this,mrh,4);null!=b&&a.C(4,b,nrh);b=N(this,vrh,5);null!=b&&a.C(5,b,xrh);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};function yrh(a){J(this,a,0,-1,zrh,null)}v(yrh,I);var zrh=[1];yrh.prototype.ea=function(){var a=new E;Arh(this,a);return Y(a)};function Arh(a,b){a=Mj(a,Uph,1);0<a.length&&wj(b,1,a,Vph)};function Brh(a){J(this,a,0,-1,null,null)}v(Brh,I);Brh.prototype.ea=function(){var a=new E;Crh(this,a);return Y(a)};function Crh(a,b){a=N(a,x6,1);null!=a&&b.C(1,a,Iph)};function Drh(a){J(this,a,0,-1,null,null)}v(Drh,I);m=Drh.prototype;m.ea=function(){var a=new E;Erh(this,a);return Y(a)};function Erh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&b.D(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getErrorMessage=function(){return K(this,2)};function Frh(a){J(this,a,0,-1,null,null)}v(Frh,I);Frh.prototype.ea=function(){var a=new E;Grh(this,a);return Y(a)};function Grh(a,b){a=K(a,1);null!=a&&b.D(1,a)};function Hrh(a){J(this,a,0,-1,null,null)}v(Hrh,I);Hrh.prototype.ea=function(){var a=new E;Irh(this,a);return Y(a)};function Irh(a,b){a=K(a,1);null!=a&&G(b,1,a)};function Jrh(a){J(this,a,0,-1,null,null)}v(Jrh,I);Jrh.prototype.ea=function(){var a=new E;Krh(this,a);return Y(a)};function Krh(a,b){a=N(a,x6,1);null!=a&&b.C(1,a,Iph)};function Lrh(a){J(this,a,0,-1,null,null)}v(Lrh,I);Lrh.prototype.ea=function(){var a=new E;Mrh(this,a);return Y(a)};function Mrh(a,b){a=N(a,Wph,1);null!=a&&b.C(1,a,Xph)};function Nrh(a){J(this,a,0,-1,null,null)}v(Nrh,I);Nrh.prototype.ea=function(){var a=new E;Orh(this,a);return Y(a)};function Orh(a,b){a=N(a,Jee,1);null!=a&&b.C(1,a,Iee)};function Prh(a){J(this,a,0,-1,null,null)}v(Prh,I);m=Prh.prototype;m.ea=function(){var a=new E;var b=K(this,1);null!=b&&H(a,1,b);b=this.rD();null!=b&&a.C(2,b,Erh);b=N(this,yrh,3);null!=b&&a.C(3,b,Arh);b=N(this,Lrh,4);null!=b&&a.C(4,b,Mrh);b=N(this,Brh,5);null!=b&&a.C(5,b,Crh);b=N(this,Hrh,6);null!=b&&a.C(6,b,Irh);b=N(this,Jrh,7);null!=b&&a.C(7,b,Krh);b=N(this,Nrh,8);null!=b&&a.C(8,b,Orh);b=N(this,Frh,9);null!=b&&a.C(9,b,Grh);return Y(a)};m.getType=function(){return K(this,1)};
m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.rD=function(){return N(this,Drh,2)};function Qrh(a,b,c,d,e){A.call(this);this.D=Xp();this.bb=e||So();this.La=new Po(this);this.qa(this.La);this.H=a;this.R=d;a=new sm(b);a.mc("ouid",this.H);vKa()&&a.mc("Debug","true");zm(a,"cd="+c);if(Bd(a.C))throw Error("Url contains invalid domain: "+b);this.L=wm(vm(um(new sm,a.H),a.C),a.J).toString();b=mm(a.toString(),"sa",""+d);this.O=iB(b);this.C=null;this.F=!1}t(Qrh,A);
Qrh.prototype.init=function(){var a=this;this.La.listen(Ip(this.bb),"message",this.J);this.C=this.bb.Aa("IFRAME",{style:"display:none"});Pe(this.C,this.O);this.bb.Wb().body.appendChild(this.C);cq(3E4).then(function(){a.F||(Rrh(a),Srh(a),a.D.reject(Error("Iframe initialization timed out")))});return this.D.C.then()};Qrh.prototype.reset=function(){Srh(this);this.D=Xp()};function Eqh(a){var b=(new z6).setType(12);return A6(a,b).then(ba())}
function rqh(a){var b=(new z6).setType(1);return A6(a,b).then(function(c){c=new oid(new hrh(c.port),"user_"+a.H);a.qa(c);return c})}function Jqh(a,b){var c=(new z6).setType(2);b=lrh(new irh,b);Nj(c,2,b);return A6(a,c).then(function(d){return Mj(N(d.response,yrh,3),Uph,1)})}function wqh(a,b){var c=(new z6).setType(4);return A6(a,c,b).then(function(d){return N(N(d.response,Lrh,4),Wph,1)})}
function Cqh(a){var b=(new z6).setType(10);return A6(a,b).then(function(c){return N(N(c.response,Jrh,7),x6,1)})}function frh(a,b,c,d){d=void 0===d?!1:d;var e=(new z6).setType(5);b=urh(trh(srh(new prh,b),c),d);Nj(e,3,b);return A6(a,e).then(function(f){return(f=N(f.response,Nrh,8))&&N(f,Jee,1)||null})}function vqh(a,b){var c=(new z6).setType(6);b=orh(new mrh,b);Nj(c,4,b);return A6(a,c).then(function(d){return N(N(d.response,Brh,5),x6,1)})}
function xqh(a){var b=(new z6).setType(9);return A6(a,b).then(ba())}function Dqh(a){var b=(new z6).setType(11);return A6(a,b).then(ba())}
function A6(a,b,c){c=void 0===c?3E4:c;return a.D.C.then(function(d){var e=Na(),f=new MessageChannel;d.postMessage(b.Qf(),[f.port2]);var h=Xp();f.port1.onmessage=function(l){l=new Trh(l);l.response&&l.response.rD()?(l=l.response.rD(),h.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+l.getType()+"): "+l.getErrorMessage()))):h.resolve(l)};var k=aq(function(){h.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Na()-e)+"ms."))},c);Yp(h.C,function(){f.port1.close();
bq(k)});return h.C}).Vh(function(d){throw sl(d,{iframeRequest_sourceApplication:a.R.toString(),iframeRequest_requestType:b.getType().toString()});})}Qrh.prototype.J=function(a){(a=a.xe())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.F&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],If(this,a.close,a),this.D.resolve(a),this.F=!0),Rrh(this))};function Rrh(a){a.La.Bc(Ip(a.bb),"message",a.J)}function Srh(a){a.C&&(a.bb.Wf(a.C),a.C=null)}Qrh.prototype.Ia=function(){Srh(this);A.prototype.Ia.call(this)};
function Trh(a){this.response=a.data?new Prh(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function Urh(a,b){this.C=a;this.UC=b};function Vrh(a,b,c,d,e){A.call(this);this.Xa=a;this.J=b;this.O=c?c:"DefaultLocalStoreSessionId";this.L=d||new Djd;this.H=!!e;this.D=null;this.F=new po;this.qa(this.F);this.C=Wrh(this)}t(Vrh,A);function Wrh(a){a.C&&Jf(a.C);var b=Jc(y(),"lssv");return new Ijd(a.Xa,a.O,0,a.scb.bind(a),b,!0,new did)}function Xrh(a){if(a.D)return a.D;a.D=Yrh(a);return a.D.Vh(function(b){a.Fia();throw b;})}
function Zrh(a){return Xrh(a).then(function(b){return(new Pp(function(c,d){pOa(b.C.J,c,d)})).then(function(c){return $rh(a,c)?new Urh(b,c[0]):null})})}
function ash(a){return Xrh(a).then(function(b){return(new Pp(function(c,d){pOa(b.C.J,c,d)})).then(function(c){if(!$rh(a,c))throw c={usersLength:c.length,allowNonOfflineEnabledUser:a.H,storedUserMatchesFlag:0==c.length?"no users":c[0].getId()==Kc(y(),"docs-offline-lsuid")},sl(Error("Failed to read LocalStore due to invalid user"),c);return new Urh(b,c[0])})})}function $rh(a,b){return 1==b.length&&(a.H||b[0].getId()==Kc(y(),"docs-offline-lsuid"))}m=Vrh.prototype;m.get=function(){return ash(this).then(function(a){return a.C})};
function Yrh(a){return(new Pp(function(b,c){a.C.create(a.Fia.bind(a)).Be(b,c)})).then(a.iAb.bind(a))}m.iAb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.J){var c=new Cid(a,this.J);this.qa(c)}Lya(a);qo(this.F,a.C.C.D,function(){b.Fia()});qo(this.F,a.C.ma,function(){b.Fia()});return a};m.Fia=function(){Jf(this.C);this.C=Wrh(this);this.D=null};m.scb=function(a){return ihd(this.L,a)};m.Ia=function(){Jf(this.C);A.prototype.Ia.call(this)};function bsh(a,b,c){this.D=a;this.C=c||null};function csh(a,b){this.C=a;this.Xa=b}csh.prototype.get=function(){var a=this;return Zrh(this.C).then(function(b){return b?new bsh(1,b.UC.getId(),iya(b.UC),dsh(a)):Xrh(a.C).then(function(c){return(new Pp(function(d,e){pOa(c.C.J,d,e)})).then(function(d){if(d.length)if(1==d.length)d=d[0],d=new bsh(4,d.getId(),iya(d));else throw Error("More than one user in store: "+d.length);else d=uNa()?new bsh(2):Slb()?new bsh(5):new bsh(3);return d})})})};
function dsh(a){a=new GCb(a.Xa);var b=y(),c=[];z(b,"docs-offline-esmst")&&c.push(new wF("metadata-sync",0,!0,new vF(1,Hq(),"metadata",3E5,!0,!0,!0)));z(b,"docs-offline-esbst")&&c.push(new wF("service-worker-update",0,!0,new vF(2,sKa(),"service_worker_update",3E5,!0,!1,!1)),ECb());z(b,"docs-offline-edswut")&&c.push(new wF("drive-service-worker",0,!0,new vF(2,Fph("/drive/serviceworker/update"),"drive_service_worker_update",3E5,!0,!0,!0)));z(b,"docs-offline-eshcst")&&c.push(new wF("homescreen-cello-sync",
Jc(y(),"docs-offline-scstpim"),!0,new vF(2,uKa(tKa(),"/document/backgroundsync"),"homescreen_cello_sync",3E5,!0,!0,!0)));z(b,"docs-offline-esdcst")&&c.push(new wF("drive-cello-sync",Jc(y(),"docs-offline-scstpim"),!0,new vF(2,Fph("/drive/_/dataservice/backgroundsync"),"drive_cello_sync",3E5,!0,!0,!0)));z(b,"docs-offline-eslcst")&&c.push(new wF("local-changes-sync",0,!1,new vF(1,Hq(),"local_changes_sync",3E5,!0,!0,!1)));z(b,"docs-offline-esast")&&0<Jc(b,"docs-offline-sastpim")&&c.push(new wF("auto-sync",
Jc(y(),"docs-offline-sastpim"),!1,new vF(1,Hq(),"auto_sync",3E5,!0,!0,!0)));z(b,"docs-offline-eswst")&&c.push(new wF("webfonts-sync",0,!0,new vF(1,Hq(),"webfonts_sync",3E5,!0,!0,!0)));z(b,"docs-offline-esist")&&c.push(new wF("impression-sync",0,!1,new vF(1,Hq(),"impressionSync",3E5,!0,!0,!1)));z(b,"docs-offline-esddt")&&c.push(new wF("document-deletion",0,!1,new vF(1,Hq(),"doc_deletion",3E5,!1,!1,!1)));z(b,"docs-offline-esuuct")&&c.push(new wF("update-unsaved-changes",0,!1,new vF(2,sKa(),"update_unsaved_changes",
3E5,!1,!1,!1)));z(b,"docs-offline-esct")&&c.push(new wF("cleanup-task",0,!1,new vF(2,sKa(),"cleanup",3E5,!1,!1,!1)));z(b,"docs-offline-esrt")&&c.push(new wF("report-task",0,!1,new vF(2,sKa(),"report",3E5,!1,!1,!1)));if(z(b,"docs-offline-eskst")){var d=Mc(b,"docs-offline-rte");$c(d,"kix")&&c.push(new wF("kix-snapshot",0,!1,new vF(1,uKa(tKa(),"/document/snapshot.js"),"kix_snapshot",3E5,!1,!1,!1)))}z(b,"docs-offline-esost")&&c.push(new wF("sync-objects-sync",0,!0,new vF(1,Hq(),"sync_objects_sync",3E5,
!0,!0,!0)));b=[];for(d=0;d<c.length;d++){var e=c[d];e.C&&b.push(e)}for(c=0;c<b.length;c++)if(d=HCb(a,b[c].getId()),!d||!Fj(d,5,!1))return!1;return!0};function esh(a,b){this.L=a;this.J=b}function fsh(a){return gsh(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){return Jph(new x6,1)},a.H.bind(a))}esh.prototype.H=function(a){if(a instanceof x6)return a;if(a instanceof Error)throw a;throw Error(a);};
function gsh(a){var b=new x6;return a.L.get().then(function(c){var d=c.D;switch(d){case 3:case 2:return Tp();case 4:return Jph(b,3),L(b,2,c.C),Up(b);case 1:return Jph(b,2),Up(b);case 5:return Jph(b,4),Up(b);default:throw Error("Unexpected enabled state: "+d);}})}esh.prototype.D=function(){var a=this;return(new Pp(function(b,c){Dhd(a.J,b,c)})).then(function(b){if(b)return Tp();b=Jph(new x6,5);return Up(b)})};esh.prototype.C=function(){if(er())return Tp();var a=Jph(new x6,6);return Up(a)};
esh.prototype.F=function(){var a=Jc(y(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Pp(function(b,c){gJb().then(function(d){d=d.C;if(d>a)b();else{var e=Jph(new x6,7);e=L(e,3,a);d=L(e,4,d);c(d)}},c)})};function hsh(a){J(this,a,0,-1,null,null)}v(hsh,I);hsh.prototype.ea=function(){return Y(new E)};var ish=new xj(140441684,hsh);CF[140441684]=new yj(ish,ba(),function(a,b){for(;ij(b)&&!hj(b);)jj(b);return a});BF[140441684]=ish;function jsh(a){Oo.call(this);this.bb=a||So();this.La=new Po(this);this.qa(this.La);this.C=new rz(a);this.C.rr(!1);sz(this.C,!1);this.C.Lc("docs-offline-optinpromo");this.C.render();a=this.C.Ka();Ap(a,!0);Px(a,"dialog");Rx(a,"labelledby","docs-offline-optinpromo-title");Rx(a,"describedby","docs-offline-optinpromo-description");this.qa(this.C);this.L=new OA(null);this.qa(this.L);this.J=new OA(null);this.qa(this.J);this.H=new OA(null);this.qa(this.H);this.O=this.F=this.D=null;ksh(this,lsh)}t(jsh,Oo);
function ksh(a,b){var c=Ry(b);a.C.setContent(c);switch(b){case lsh:a.La.listen(a.C,"show",a.yEb);b=a.bb.getElement("docs-offline-optinpromo-optin");a.L.Va(b);a.La.Qc(a.L,"action",u(a.gDb,a));b=a.bb.getElement("docs-offline-optinpromo-decline");a.J.Va(b);a.La.Qc(a.J,"action",u(a.Ptb,a));a.D=a.bb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.bb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.bb.getElement("docs-offline-optinpromo-learn-more-container");a.La.listen(a.D,"click",
u(a.Q0a,a,!0)).listen(a.F,"click",u(a.Q0a,a,!1));break;case msh:b=a.bb.getElement("docs-offline-optinpromo-confirm-close");a.H.Va(b);a.La.Qc(a.H,"action",u(a.show,a,!1));a.C.Ka().focus();break;default:throw Error("Cannot handle state "+b);}a.bb.getElement("docs-offline-optinpromo-title");a.bb.getElement("docs-offline-optinpromo-description")}m=jsh.prototype;m.Q0a=function(a){P(this.D,!a);P(this.F,a);P(this.O,a);(a?this.F:this.D).focus();return!1};m.gDb=function(){this.dispatchEvent(new zo("Ki"))};
m.Ptb=function(){this.dispatchEvent(new zo("Li"))};m.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new zo("Mi"))};m.yEb=function(){this.C.Ka().focus();this.dispatchEvent(new zo("Ji"))};
function lsh(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">Work offline and don\'t miss a beat</span></div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn more</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br><div class="docs-offline-optinpromo-buttons">'+S(NA({id:"docs-offline-optinpromo-optin",
content:"Turn on offline access",style:2},b));a+=S(NA({id:"docs-offline-optinpromo-decline",content:"No thanks",style:0},b));return T(a+"</div></div>")}
function msh(a,b,c){a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">You\'re all set</span></div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline.</div><div class="docs-offline-optinpromo-buttons docs-offline-optinpromo-confirm-buttons">'+S(NA({id:"docs-offline-optinpromo-confirm-close",content:"Close"},c||b));return T(a+"</div></div>")};function nsh(a){this.C=a}function osh(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Na()});a.C.setItem("optInLog",Gm(c))}function psh(){var a=oa.localStorage;if(!a)throw Error("Local storage not available");return new nsh(a)};function qsh(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function rsh(a){return Xrh(a.H).then(function(b){return ssh(b).then(function(){var c=Bhd();if(!c)throw Error("Missing user info for enabling offline in flags.");return tsh(a,b,c)})}).then(function(b){return ush(a,b)})}function ssh(a){return(new Pp(function(b,c){pOa(a.C.J,b,c)})).then(function(b){if(b&&b.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function tsh(a,b,c){var d=new gya(K(c,1),!0);hya(d,K(c,2));jya(d,K(c,3));kya(d,!!Cj(c,4));lya(d,!!Cj(c,6));Ag(d,"optInReasons",a.C);return(new Pp(function(e,f){b.write([d],e,f)})).then(function(){return d})}
function ush(a,b){osh(psh(),iya(b)||"");oa.localStorage&&(oa.localStorage.removeItem("docs-uoo"),oa.localStorage.setItem("docs-oiouid",b.getId()));b=new AF;var c=new gqh;b.QL(hqh,c);pid(a.F,b);b=new aR;var d=new Chd(b);return Ogd(b).then(function(){return new Pp(function(e,f){Dhd(d,e,f)})}).then(function(e){var f=Ehd(),h=new nk;a.C[0]&&L(h,1,gOa(a.C[0]));L(h,10,e);L(h,11,f);e=a.D.Gw(81E3,0);f=zF(e);Nj(f,34,h);a.D.Yt(e)})};function vsh(){var a=y(),b=z(a,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0,c=!(Ca(oa)&&oa.window==oa)||!oa.document||!oa.document.documentElement,d=Kc(a,"docs-offline-ue");if(z(a,"docs-eea"))return new vW(306,function(){return d?yme([{key:"e",value:d}]):null},null,cVe,b,c,!0);a=Kc(a,"gaia_session_id");return new vW(306,yme,a||null,cVe,b,c,!0)};function wsh(a){this.D=a}wsh.prototype.C=function(a,b,c){Zrh(this.D).then(function(d){d?(new mof(d.C,"offline",null)).C(a,b,c):b()})};function xsh(){this.C=this.ah=null}function ysh(a){switch(a){case "scary":return 3;case "canary":return 2;case "prod":return 1;default:return 0}};function zsh(a,b,c,d,e,f){A.call(this);this.bb=f||So();this.D=a;this.Xa=b;this.Wa=c;this.cb=d;a=new WCb;this.qa(a);this.F=new oid(a,Ghd());this.qa(this.F);this.Ha=new eR(this.F,Ghd(),this);this.qa(this.Ha);this.Ba=new eR(this.F,null,this);this.qa(this.Ba);this.L=new Vrh(this.Xa,this.F,"OfflinePromoControllerLockSessionId");this.qa(this.L);a=new csh(this.L,this.Xa);b=new aR;this.Sa=new esh(a,new Chd(b));a=new xsh;a.C=this.L;if(a.C)c=new wsh(a.C);else if(a.ah)c=new mof(a.ah,"offline",null);else throw Error("Must set either a LocalStore or LocalStoreSupplier");
a=new MCb;b=yfd();f=c;c=vsh();d=new oof(c);f=mmb()?f:new uof;d=new sof(d,null,f);c=new nof(c);c=yXe(xXe(new wXe,d),c);c.R=!0;a=CXe(zXe(BXe(AXe(c,b),84),a));b=(new rof(!1)).get();c=y();d=Kc(c,"jobset");L(b,9,ysh(d));d=CRe(a.XB());d.H=b;DRe(d,Kc(c,"buildLabel"));this.Na=a;this.Na.kE();this.Pa=Bkd(this.bb);this.C=null;this.La=new Po(this);this.qa(this.La);this.O=new po;this.qa(this.O);this.R=new Iq(this.Ixb,6E4,this);this.qa(this.R);this.xa=!1;this.V=this.H=null;this.Da=ZA.getInstance();this.J=this.Oa=
!1;this.ma=nmb()&&Jx("56.0.2924.87");this.Ja=!1;this.Za=e}t(zsh,A);m=zsh.prototype;m.init=function(){var a=this;er()&&(Ash(this),Bsh(this),B6(this).then(function(){Csh(a)},function(b){fq(a.Xa,rl(b))}))};function Csh(a){a.F.connect();qo(a.O,a.D.GK(),function(){a.R.start();B6(a)});qo(a.O,a.D.sQ(),function(){a.R.stop();Ash(a);Bsh(a);B6(a)});qo(a.O,a.Pa.aH(),function(){Dsh(a)});a.Ha.listen(hqh,a.OTb);a.Ba.listen(hqh,a.NTb).listen(ish,a.vpb)}
function B6(a){return fsh(a.Sa).then(function(b){var c=1==b.D(),d=a.D.zn(),e;if(!(e=a.J)&&(e=!uNa())){try{var f=!!oa.localStorage.getItem("docs-urop")}catch(l){f=!0}e=!f}f=e;var h=y();e=!!Kc(h,"promo_id_for_preference");h=z(h,"promo_is_contextual");e=!e||h;if((c=c&&a.ma&&f)&&!(c=!d)){try{var k=!!oa.localStorage.getItem("docs-wownoi")}catch(l){k=!1}c=k&&e}k=c;a.Oa||(k?a.C||(a.C=new jsh(a.bb),a.qa(a.C),a.La.listen(a.C,"Ki",a.hDb).listen(a.C,"Li",a.dDb).listen(a.C,"Mi",a.Idb),a.C.show(!0),Dsh(a)):a.C&&
a.C.show(!1));if(a.cb)if(2==b.D()||d||k)Esh(a);else if(a.V&&!Sj(b,a.V)&&Esh(a),null==a.H){d=Fsh(b);if(!a.Ja)switch(b.D()){case 1:break;case 3:Gsh(a,"Offline ineligible, other user enabled");break;case 7:Gsh(a,"Offline ineligible, insufficient disk space");break;case 5:Gsh(a,"Offline ineligible, policy disallows");break;case 6:Gsh(a,"Offline ineligible, no extension");break;case 4:Gsh(a,"Offline ineligible, invalid db state");break;default:Gsh(a,"Offline ineligible, unknown reason")}b=1==b.D()&&a.ma?
bB(d,"Turn on",a.UEb.bind(a),"info",!1):aB(d,"info",!1);a.H=a.Da.postMessage(b)}})}m.Ixb=function(){Rlb()||Mph(!0)};
m.iDb=function(){if(this.D.zn()){var a=Kc(y(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit <a href=\"//"+(U(a)+'">'+(S(a)+('</a> to create and edit without interruption. <a href="'+(U(Fx("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=T(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=G$a("Your documents are syncing",xx(b),void 0,this,
"Got it","docs-offline-welcomepromo",this.bb);ey(b.Nq(),"docs-offline-welcomepromo-bg");this.qa(b);this.C&&this.C.show(!1)}else this.Oa=!0,ksh(this.C,msh);B6(this)};m.OTb=function(){B6(this)};m.NTb=function(){B6(this)};m.vpb=function(){this.J=!1;B6(this)};m.fDb=function(a){fq(this.Xa,a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=oC(this.Za,"Turning on offline access failed. Please try again later.",this.bb);a.D=!0;a.render();a.setVisible(!0);this.qa(a)};
m.hDb=function(){Hsh(this,2054,this.D.zn());Mph(!1);rsh(new qsh(this.L,this.F,this.Na)).then(u(this.iDb,this),u(this.fDb,this))};m.dDb=function(){this.D.zn()?Hsh(this,2055,!0):Oph(!0);Mph(!1);oa.localStorage.setItem("docs-urop","true");this.J=!1;B6(this);var a=new AF,b=new hsh;a.QL(ish,b);pid(this.F,a)};
function Fsh(a){switch(a.D()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.O()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function Gsh(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";Hk(a.Xa,Error("Offline editing disabled: "+b),c);a.Ja=!0}function Esh(a){null!=a.H&&($A(a.Da,a.H),a.H=null,a.V=null)}m.UEb=function(){this.J=!0;B6(this)};m.Idb=function(){Jf(this.C);this.C=null};function Dsh(a){!a.xa&&a.C&&"hidden"!=a.Pa.getState()&&(a.D.zn()?Hsh(a,2847,!0):Nph(!0),a.xa=!0)}
function Ash(a){try{var b=!!oa.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.zn()&&(Nph(!1),Hsh(a,2847,!1))}function Bsh(a){try{var b=!!oa.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.zn()&&(Oph(!1),Hsh(a,2055,!1))}function Hsh(a,b,c){var d=new pk;c=L(d,2,c);c=Bz(wz(Mab(new vz,c),43));a.Wa.C(b,c)};function Ish(a,b,c,d){A.call(this);this.C=a;this.Na=c;this.L=d;this.D=new po;this.qa(this.D);this.Ba=new eR(b,Ghd(),this);this.qa(this.Ba);this.F=Bkd();this.qa(this.F);this.O=!1;z(y(),"docs-offline-eeooip");this.Ha=new aR;this.ma=null;this.xa=this.R=this.V=!1;this.J=new Iq(this.Da,Math.floor(27E4*Math.random())+3E4,this);this.qa(this.J);this.H=[]}t(Ish,A);
Ish.prototype.init=function(){var a=this;this.Ba.listen(hqh,this.Ja);this.ma=er();qo(this.D,this.F.aH(),function(){return Jsh(a)});this.H.push(new Ksh("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss",this.L));this.H.push(new Ksh("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss",this.L))};
function Lsh(a){a.xa||(qo(a.D,a.C.GK(),function(){return Msh(a)}),qo(a.D,a.C.sQ(),function(){return Msh(a)}),a.xa=!0)}Ish.prototype.Ja=function(){this.O||(this.O=!0,Lsh(this),"visible"==this.F.getState()||this.J.Vb()||this.J.start(),Msh(this))};function Msh(a){var b=!1;a.H.forEach(function(c){var d;if(d=!b){d=!1;switch(c.O){case "reload-after-opt-in":d=a.O&&a.C.zn();break;case "reload-after-extension-installation":d=a.V&&a.C.zn()}d=d&&!c.F}d?(Nsh(c),b=!0):null!=c.C&&($A(c.H,c.C),c.C=null)})}
Ish.prototype.Da=function(){this.R||!this.C.zn()||mo(this.Na.FY(),64)||uF(this.L)};function Jsh(a){var b="visible"==a.F.getState();a.R||(a.R=b&&a.H.some(function(c){return null!=c.C}));b&&0==a.ma&&!a.V&&Osh(a).then(function(c){c&&(a.V=!0,Lsh(a),Msh(a))})}function Osh(a){return Sgd(a.Ha).then(function(){return er()})}
function Ksh(a,b,c,d){A.call(this);var e=this;this.O=a;this.L=b;this.J=d;this.F=!1;this.C=null;this.H=ZA.getInstance();this.D=new Mw(c);this.qa(this.D);this.D.setProperty("label","Dismiss");this.D.Ma(!0);this.D.Ob(lt,function(){e.F=!0})}t(Ksh,A);function Nsh(a){null==a.C&&(a.C=a.H.postMessage(bB(a.L,"Reload",function(){uF(a.J)},"info",!0,void 0,a.D)))};function Psh(a,b,c,d){A.call(this);var e=this;this.C=c;this.L=!1;this.F=oC(this.C,"Offline enabled",void 0,!1,3E3,!1,void 0,!0);this.D=oC(this.C,"Could not enable offline access.",void 0,!1,3E3,!1,void 0,!0);this.H=new Uqh(a,11,b,d);this.qa(this.H);a.D.L().then(function(){e.L=!0;(Ot(),JZa).Ma(!0);JZa.subscribe("action",e.J,e)},function(f){fq(d,rl(f))})}t(Psh,A);Psh.prototype.J=function(){var a=this;Vqh(this.H).then(function(b){2==b||1==b?Qsh(a,a.F):3==b&&Qsh(a,a.D)})};
function Qsh(a,b){b.isVisible()||(a.F.setVisible(!1),a.D.setVisible(!1),b.sb()||b.render(),b.setVisible(!0))}Psh.prototype.Ia=function(){(Ot(),JZa).unsubscribe("action",this.J,this);A.prototype.Ia.call(this);qC(this.C,this.F);qC(this.C,this.D);Kf(this.F,this.D)};function Rsh(a,b,c,d,e,f,h,k,l,n,q,r){A.call(this);var w=this,x=y();this.F=Kc(x,"docs-offline-lsuid");this.H=new WCb;this.C=new oid(this.H,Ghd());this.qa(this.C);this.C.connect();this.Xa=b;f=new Ish(a,this.C,e.C,f);this.qa(f);f.init();z(x,"docs-offline-eeooip")&&(c=new zsh(a,b,c,d,l,r),this.qa(c),c.init());this.D=new Kph;this.qa(this.D);c=rKa("/iframeapi");c=new Qrh(this.F,c,1,Ssh());this.qa(c);x=z(x,"docs-sw-eswhfe");b=new mqh(c,this.D,this.F,!1,!0,!1,a,b,!1,x);this.qa(b);b.start().Vh(function(F){w.Xa.log(rl(F))});
q.resolve(b);q=new Fqh(e.D,c,this.C,this.Xa);this.qa(q);q.start();a=new Yqh(e,h,c,q,this.D,k,b,this.Xa,l,a,n);this.qa(a);a.init();z(y(),"docs-eesi")&&(k=new Psh(b,k,l,this.Xa),this.qa(k))}t(Rsh,A);function Ssh(){switch(Kc(y(),"docs-dt")){case "kix":return 5;case "ritz":return 6;case "punch":return 7;case "drawing":return 8}throw Error("Unable to map document type to source application.");};function Tsh(){KJ.apply(this,arguments)}t(Tsh,KJ);Tsh.prototype.C=function(a,b,c,d,e,f,h,k,l,n,q){return new Rsh(a,b,c,!0,d,e,f,h,k,l,n,q)};OJ("offline",Tsh);
